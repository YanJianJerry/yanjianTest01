var className = "WRF_OUB01002";
var hide_Message_01 = "hide_Message_01";
var hide_Message_02 = "hide_Message_02";
var hide_Message_03 = "hide_Message_03";
var hide_Message_04 = "hide_Message_04";
var hide_Message_05 = "hide_Message_05";
var hide_Message_06 = "hide_Message_06";
var hide_Message_07 = "hide_Message_07";
var hide_Message_08 = "hide_Message_08";
var hide_Message_09 = "hide_Message_09";
var hide_Message_10 = "hide_Message_10";
var hide_Message_11 = "hide_Message_11";
var hide_Message_12 = "hide_Message_12";
var hide_Message_13 = "hide_Message_13";
var hide_Message_14 = "hide_Message_14";
var hide_Message_15 = "hide_Message_15";
var hide_Message_16 = "hide_Message_16";
var hide_Message_17 = "hide_Message_17";
var hide_Message_18 = "hide_Message_18";
var hide_Message_19 = "hide_Message_19";
var hide_Message_20 = "hide_Message_20";
var hide_Message_21 = "hide_Message_21";
var hide_Message_22 = "hide_Message_22";
var hide_Message_23 = "hide_Message_23";
var hide_Message_24 = "hide_Message_24";
var hide_Message_25 = "hide_Message_25";
var hide_Message_26 = "hide_Message_26";
var hide_Message_27 = "hide_Message_27";
var hide_Message_28 = "hide_Message_28";
var hide_Message_29 = "hide_Message_29";
var hide_Message_30 = "hide_Message_30";
var hide_Message_31 = "hide_Message_31";
var hide_Message_32 = "hide_Message_32";
var hide_Message_33 = "hide_Message_33";
var hide_Message_34 = "hide_Message_34";
var hide_Message_35 = "hide_Message_35";
var hide_Message_36 = "hide_Message_36";
var hide_Message_37 = "hide_Message_37";
var hide_Message_38 = "hide_Message_38";
var hide_Message_39 = "hide_Message_39";
var hide_Message_40 = "hide_Message_40";
var hide_Message_41 = "hide_Message_41";
var hide_Message_42 = "hide_Message_42";
var hide_Message_43 = "hide_Message_43";
var hide_Message_44 = "hide_Message_44";
var hide_Message_45 = "hide_Message_45";
var hide_Lbl_01 = "hide_Lbl_01";
var hide_Lbl_02 = "hide_Lbl_02";
var hide_Lbl_03 = "hide_Lbl_03";
var hide_Lbl_04 = "hide_Lbl_04";
var hide_Lbl_05 = "hide_Lbl_05";
var hide_Lbl_06 = "hide_Lbl_06";
var hide_Lbl_07 = "hide_Lbl_07";
var hide_Lbl_08 = "hide_Lbl_08";
var hide_Lbl_09 = "hide_Lbl_09";
var hide_Lbl_10 = "hide_Lbl_10";
var hide_Lbl_11 = "hide_Lbl_11";
var hide_Lbl_12 = "hide_Lbl_12";
var hide_Lbl_13 = "hide_Lbl_13";
var hide_Lbl_14 = "hide_Lbl_14";
var hide_OrderNo_1 = "hide_OrderNo_1";
var hide_GroupTaskId_1 = "hide_GroupTaskId_1";
var hide_Area_1 = "hide_Area_1";
var hide_Zone_1 = "hide_Zone_1";
var hide_LocGroup1_1 = "hide_LocGroup1_1";
var hide_LocGroup2_1 = "hide_LocGroup2_1";
var hide_LocationIdFm_1 = "hide_LocationIdFm_1";
var hide_LocationIdTo_1 = "hide_LocationIdTo_1";
var hide_TopX_1 = "hide_TopX_1";
var hide_NewFmLocation_3 = "hide_NewFmLocation_3";
var hide_NewFmTraceId_3 = "hide_NewFmTraceId_3";
var hide_FmLocation_3 = "hide_FmLocation_3";
var hide_FmTraceId_3 = "hide_FmTraceId_3";
var hide_Sku_3 = "hide_Sku_3";
var hide_LotNum_3 = "hide_LotNum_3";
var hide_Qty_3 = "hide_Qty_3";
var hide_isChanged_4 = "hide_isChanged_4";
var hide_SerialNoList_4 = "hide_SerialNoList_4";
var hide_CheckQty_4 = "hide_CheckQty_4";
var hide_FmLocation_4 = "hide_FmLocation_4";
var hide_FmTraceId_4 = "hide_FmTraceId_4";
var hide_Sku_4 = "hide_Sku_4";
var hide_CustomerId_4 = "hide_CustomerId_4";
var hide_Qty_4 = "hide_Qty_4";
var hide_Uom_4 = "hide_Uom_4";
var hide_ToLocation_4 = "hide_ToLocation_4";
var hide_ToTraceId_4 = "hide_ToTraceId_4";
var hide_AllocationDetailsId_4 = "hide_AllocationDetailsId_4";
var hide_DocNo_4 = "hide_DocNo_4";
var hide_DocLineNo_4 = "hide_DocLineNo_4";
var hide_LotNum_4 = "hide_LotNum_4";
var hide_PackId_4 = "hide_PackId_4";
var hide_ReasonCode_4 = "hide_ReasonCode_4";
var hide_ReasonName_4 = "hide_ReasonName_4";
var hide_doubleConfirmBy_4 = "hide_doubleConfirmBy_4";
var hide_isChanged_5 = "hide_isChanged_5";
var hide_NewFmLocation_5 = "hide_NewFmLocation_5";
var hide_NewFmTraceId_5 = "hide_NewFmTraceId_5";
var hide_FmLocation_5 = "hide_FmLocation_5";
var hide_FmTraceId_5 = "hide_FmTraceId_5";
var hide_Sku_5 = "hide_Sku_5";
var hide_LotNum_5 = "hide_LotNum_5";
var hide_Qty_5 = "hide_Qty_5";
var hide_Uom_5 = "hide_Uom_5";
var hide_ToLocation_5 = "hide_ToLocation_5";
var hide_ToTraceId_5 = "hide_ToTraceId_5";
var hide_ReasonCode_5 = "hide_ReasonCode_5";
var hide_ReasonName_5 = "hide_ReasonName_5";
var hide_AllocationDetailsId_5 = "hide_AllocationDetailsId_5";
var hide_DocNo_5 = "hide_DocNo_5";
var hide_DocLineNo_5 = "hide_DocLineNo_5";
var hide_PackId_5 = "hide_PackId_5";
var hide_CustomerId_5 = "hide_CustomerId_5";
var hide_CheckQty_5 = "hide_CheckQty_5";
var hide_SerialNoList_5 = "hide_SerialNoList_5";
var hide_TaskId = "hide_TaskId";
var hide_TaskId_Sequence = "hide_TaskId_Sequence";
var hide_Tsk_Hld_Tim = "hide_Tsk_Hld_Tim";
var hide_Pck_Tsk_Ud1 = "hide_Pck_Tsk_Ud1";
var hide_Pck_Tsk_Ud2 = "hide_Pck_Tsk_Ud2";
var hide_Pck_Tsk_Ud3 = "hide_Pck_Tsk_Ud3";
var hide_Pck_Tsk_Ud4 = "hide_Pck_Tsk_Ud4";
var hide_Rf_Sku_Ud1 = "hide_Rf_Sku_Ud1";
var hide_Rf_Pck_Uom = "hide_Rf_Pck_Uom";
var hide_Ord_Ref_Mch = "hide_Ord_Ref_Mch";
var hide_Pck_Lst_Seq = "hide_Pck_Lst_Seq";
var hide_Pck_Chg_Loc = "hide_Pck_Chg_Loc";
var hide_Pck_Chg_Id = "hide_Pck_Chg_Id";
var hide_Pck_Skp_Lot = "hide_Pck_Skp_Lot";
var hide_Pck_Scr_Mod = "hide_Pck_Scr_Mod";
var hide_Pck_Inv_Cou = "hide_Pck_Inv_Cou";
var hide_Pck_Lot_Cfm = "hide_Pck_Lot_Cfm";
var hide_Pck_Dft_Los = "hide_Pck_Dft_Los";
var hide_Pck_Pcs_Scn = "hide_Pck_Pcs_Scn";
var Pck_Lot_Cfm_Use = "";
var hide_Dbl_Cfm_Pck = "hide_Dbl_Cfm_Pck";
var hide_Sku_Bcd_Lvl = "hide_Sku_Bcd_Lvl";
var hide_Sn_Ctl = "hide_Sn_Ctl";
var hide_Loc_Val_Mod = "hide_Loc_Val_Mod";
var hide_Rfq_Pck_Ud1 = "hide_Rfq_Pck_Ud1";
var hide_Rfq_Pck_Ud2 = "hide_Rfq_Pck_Ud2";
var hide_Rfq_Pck_Ud3 = "hide_Rfq_Pck_Ud3";
var SN_CTL = "";
var EASCAN_STARTQTY = "";
var isDoSerialNo = false;
var PCK_LST_SEQ = "PCK_LST_SEQ";
var RFQ_PCK_UD1 = "";
var RFQ_PCK_UD2 = "";
var RFQ_PCK_UD3 = "";
var hide_Kit_Asc = "hide_Kit_Asc";
var hide_Kit_Asm = "hide_Kit_Asm";
var wco_Kit_Asm = "";
var wco_Kit_Asc = "";
var p_warehouseId = "";
var wco_Pck_Pcs_Scn = "";
var buf_MedicineSpecicalControl_1 = "";
var IND_WGT_PCT = "";
var QSKeys = new Array(hide_OrderNo_1, hide_GroupTaskId_1, hide_Area_1, hide_Zone_1, hide_LocGroup1_1, hide_LocGroup2_1, hide_LocationIdFm_1, hide_LocationIdTo_1, hide_TopX_1, hide_doubleConfirmBy_4, hide_TaskId, hide_TaskId_Sequence, hide_NewFmLocation_3, hide_NewFmTraceId_3, hide_FmLocation_3, hide_FmTraceId_3, hide_Sku_3, hide_LotNum_3, hide_isChanged_4, hide_SerialNoList_4, hide_CheckQty_4, hide_FmLocation_4, hide_FmTraceId_4, hide_Sku_4, hide_CustomerId_4, hide_Qty_4, hide_Uom_4, hide_ToLocation_4, hide_ToTraceId_4, hide_AllocationDetailsId_4, hide_DocNo_4, hide_DocLineNo_4, hide_LotNum_4, hide_PackId_4, hide_ReasonCode_4, hide_ReasonName_4, hide_isChanged_5, hide_NewFmLocation_5, hide_NewFmTraceId_5, hide_FmLocation_5, hide_FmTraceId_5, hide_Sku_5, hide_LotNum_5, hide_Qty_5, hide_Uom_5, hide_ToLocation_5, hide_ToTraceId_5, hide_ReasonCode_5, hide_ReasonName_5, hide_AllocationDetailsId_5, hide_DocNo_5, hide_DocLineNo_5, hide_PackId_5, hide_CustomerId_5, hide_CheckQty_5, hide_SerialNoList_5, "break", hide_Tsk_Hld_Tim, hide_Pck_Tsk_Ud1, hide_Pck_Tsk_Ud2, hide_Pck_Tsk_Ud3, hide_Pck_Tsk_Ud4, hide_Rf_Sku_Ud1, hide_Rf_Pck_Uom, hide_Ord_Ref_Mch, hide_Pck_Lst_Seq, hide_Pck_Chg_Loc, hide_Pck_Chg_Id, hide_Pck_Skp_Lot, hide_Pck_Scr_Mod, hide_Pck_Inv_Cou, hide_Pck_Dft_Los, hide_Pck_Pcs_Scn, hide_Sn_Ctl, hide_Kit_Asc, hide_Kit_Asm, hide_Rfq_Pck_Ud1, hide_Rfq_Pck_Ud2, hide_Rfq_Pck_Ud3);
var hide_PageControl_1 = "hide_PageControl_1";
var hide_PageControl_2 = "hide_PageControl_2";
var hide_PageControl_3 = "hide_PageControl_3";
var hide_PageControl_4 = "hide_PageControl_4";
var hide_PageControl_5 = "hide_PageControl_5";
var hide_PageControl_6 = "hide_PageControl_6";
var hide_PageControl_7 = "hide_PageControl_7";
var hide_PageControl_8 = "hide_PageControl_8";
var hide_PageControl_9 = "hide_PageControl_9";
var hide_PageControl_10 = "hide_PageControl_10";
var hide_PageControl_11 = "hide_PageControl_11";
var _div1Input = "div1Input";
var _div2Input = "div2Input";
var _div3Input = "div3Input";
var _div4Input = "div4Input";
var _div5Input = "div5Input";
var _div6Input = "div6Input";
var _div7Input = "div7Input";
var _div8Input = "div8Input";
var _div9Input = "div9Input";
var _div10Input = "div10Input";
var _div11Input = "div11Input";
var _div1Waiting = "div1Waiting";
var inViewsKeys = new Array(_div1Input, _div2Input, _div3Input, _div4Input, _div5Input, _div6Input, _div1Waiting, div8Input, div9Input, div10Input, div11Input);
var _prevView = _div1Input;
var lbl_Message_1 = "lbl_Message_1";
var lbl_Message_2 = "lbl_Message_2";
var lbl_Message_3 = "lbl_Message_3";
var lbl_Message_4 = "lbl_Message_4";
var lbl_Message_5 = "lbl_Message_5";
var lbl_Message_6 = "lbl_Message_6";
var lbl_MessageList_0 = new Array(lbl_Message_1, lbl_Message_2, lbl_Message_3, lbl_Message_4, lbl_Message_5, lbl_Message_6);
var buf_OrderList_2 = new Array();
var buf_AreaList_2 = new Array();
var buf_ZoneList_2 = new Array();
var buf_LocGroup1List_2 = new Array();
var buf_LocGroup2List_2 = new Array();
var buf_OrderInfo_3 = null;
var buf_OrderIndex_3 = -1;
var buf_OrderSize_3 = -1;
var buf_LotArray = new Array();
var buf_SkuValue = "";
var buf_SkuLotIsEmpty_3 = false;
var buf_AllSerialNo_3 = "";
var buf_UomAndQty_4 = new Array();
var buf_InvQty_4 = 0;
var buf_OrderInfo_5 = null;
var buf_OrderIndex_5 = -1;
var buf_OrderSize_5 = -1;
var buf_UomAndQty_5 = new Array();
var buf_InvQty_5 = 0;
var wco_Loc_Val_Mod = "";
var sfc_Code_1 = getValue3(hide_PageControl_1);
var but_QueryOrderNo_1 = "but_QueryOrderNo_1";
var txt_OrderNo_1 = "txt_OrderNo_1";
var txt_GroupTaskId_1 = "txt_GroupTaskId_1";
var txt_Area_1 = "txt_Area_1";
var txt_Zone_1 = "txt_Zone_1";
var txt_LocGroup1_1 = "txt_LocGroup1_1";
var txt_LocGroup2_1 = "txt_LocGroup2_1";
var txt_LocationIdFm_1 = "txt_LocationIdFm_1";
var txt_LocationIdTo_1 = "txt_LocationIdTo_1";
var but_Confirm_1 = "but_Confirm_1";
var but_Cancel_1 = "but_Cancel_1";
var but_GetOrderNo_1 = "but_GetOrderNo_1";
var but_QueryArea_1 = "but_QueryArea_1";
var but_QueryZone_1 = "but_QueryZone_1";
var but_QueryLocGroup1_1 = "but_QueryLocGroup1_1";
var but_QueryLocGroup2_1 = "but_QueryLocGroup2_1";
var sfc_Code_2 = getValue3(hide_PageControl_2);
var div_OrderNoList_2 = "div_OrderNoList_2";
var but_Confirm_2 = "but_Confirm_2";
var but_Cancel_2 = "but_Cancel_2";
var sfc_Code_3 = getValue3(hide_PageControl_3);
var wxt_FmLocation_3 = "wxt_FmLocation_3";
var txt_FmLocation_3 = "txt_FmLocation_3";
var wxt_FmTraceId_3 = "wxt_FmTraceId_3";
var but_QueryPickingStatus_3 = "but_QueryPickingStatus_3";
var txt_FmTraceId_3 = "txt_FmTraceId_3";
var wxt_SkuName_3 = "wxt_SkuName_3";
var wxt_Sku_3 = "wxt_Sku_3";
var txt_Sku_3 = "txt_Sku_3";
var but_SkuQuery_3 = "but_SkuQuery_3";
var txt_LotCode_3 = "txt_LotCode_3";
var wxt_Udf1_3 = "wxt_Udf1_3";
var wxt_Udf2_3 = "wxt_Udf2_3";
var wxt_Udf3_3 = "wxt_Udf3_3";
var wxt_Udf4_3 = "wxt_Udf4_3";
var div_Lot_3 = "div_Lot_3";
var but_StockOut_3 = "but_StockOut_3";
var but_LastOne_3 = "but_LastOne_3";
var but_Confirm_3 = "but_Confirm_3";
var lbl_Page_3 = "lbl_Page_3";
var but_Cancel_3 = "but_Cancel_3";
var but_NextOne_3 = "but_NextOne_3";
var sfc_Code_4 = getValue3(hide_PageControl_4);
var hide_ReasonCodes_4 = "hide_ReasonCodes_4";
var wxt_Qty_4 = "wxt_Qty_4";
var txt_Qty_4 = "txt_Qty_4";
var wxt_Uom_4 = "wxt_Uom_4";
var cmb_Uom_4 = "cmb_Uom_4";
var cmb_ReasonCode_4 = "cmb_ReasonCode_4";
var wxt_PackId_4 = "wxt_PackId_4";
var txt_DropId_4 = "txt_DropId_4";
var txt_ToLocation_4 = "txt_ToLocation_4";
var wxt_FmTraceId_4 = "wxt_FmTraceId_4";
var txt_CheckQty_4 = "txt_CheckQty_4";
var but_Confirm_4 = "but_Confirm_4";
var but_Cancel_4 = "but_Cancel_4";
var but_SingleScan_4 = "but_SingleScan_4";
var sfc_Code_5 = getValue3(hide_PageControl_5);
var hide_ReasonCodes_5 = "hide_ReasonCodes_5";
var wxt_FmLocation_5 = "wxt_FmLocation_5";
var txt_FmLocation_5 = "txt_FmLocation_5";
var wxt_FmTraceId_5 = "wxt_FmTraceId_5";
var but_QueryPickingStatus_5 = "but_QueryPickingStatus_5";
var txt_FmTraceId_5 = "txt_FmTraceId_5";
var wxt_Sku_5 = "wxt_Sku_5";
var wxt_SkuName_5 = "wxt_SkuName_5";
var txt_Sku_5 = "txt_Sku_5";
var wxt_Qty_5 = "wxt_Qty_5";
var txt_Qty_5 = "txt_Qty_5";
var cmb_Uom_5 = "cmb_Uom_5";
var cmb_ReasonCode_5 = "cmb_ReasonCode_5";
var txt_DropId_5 = "txt_DropId_5";
var txt_ToLocation_5 = "txt_ToLocation_5";
var txt_CheckQty_5 = "txt_CheckQty_5";
var wxt_Udf1_5 = "wxt_Udf1_5";
var wxt_Udf2_5 = "wxt_Udf2_5";
var wxt_Udf3_5 = "wxt_Udf3_5";
var wxt_Udf4_5 = "wxt_Udf4_5";
var but_StockOut_5 = "but_StockOut_5";
var but_LastOne_5 = "but_LastOne_5";
var but_Confirm_5 = "but_Confirm_5";
var lbl_Page_5 = "lbl_Page_5";
var but_Cancel_5 = "but_Cancel_5";
var but_NextOne_5 = "but_NextOne_5";
var sfc_Code_6 = getValue3(hide_PageControl_6);
var wxt_PickedQty_6 = "wxt_PickedQty_6";
var wxt_AllPickQty_6 = "wxt_AllPickQty_6";
var wxt_PickedTaskQty_6 = "wxt_PickedTaskQty_6";
var wxt_AllPickTaskQty_6 = "wxt_AllPickTaskQty_6";
var but_Confirm_6 = "but_Confirm_6";
var but_Cancel_6 = "but_Cancel_6";
var buf_DocList_7 = null;
var buf_SkuList_7 = null;
var buf_SkuListIndex_3 = -1;
var but_Confirm_7 = "but_Confirm_7";
var but_Cancel_7 = "but_Cancel_7";
var div_SkuList_7 = "div_SkuList_7";
var sfc_Code_8 = getValue3(hide_PageControl_8);
var div_AreaList_8 = "div_AreaList_8";
var but_Confirm_8 = "but_Confirm_8";
var but_Cancel_8 = "but_Cancel_8";
var sfc_Code_9 = getValue3(hide_PageControl_9);
var div_ZoneList_9 = "div_ZoneList_9";
var but_Confirm_9 = "but_Confirm_9";
var but_Cancel_9 = "but_Cancel_9";
var sfc_Code_10 = getValue3(hide_PageControl_10);
var div_LocGroup1List_10 = "div_LocGroup1List_10";
var but_Confirm_10 = "but_Confirm_10";
var but_Cancel_10 = "but_Cancel_10";
var sfc_Code_11 = getValue3(hide_PageControl_11);
var div_LocGroup2List_11 = "div_LocGroup2List_11";
var but_Confirm_11 = "but_Confirm_11";
var but_Cancel_11 = "but_Cancel_11";

function initHtmlPage() {
    _prevView = _div1Input;
    showViewSingle(_div1Input, inViewsKeys);
    setValue(hide_Pck_Lst_Seq, first_GetParameterValue(PCK_LST_SEQ, "*", "*"));
    wco_Loc_Val_Mod = first_GetParameterValue(getValue2(hide_Loc_Val_Mod), "*", "*", "*");
    wco_Kit_Asm = first_GetParameterValue(getValue2(hide_Kit_Asm), "*", "*", "*");
    wco_Kit_Asc = first_GetParameterValue(getValue2(hide_Kit_Asc), "*", "*", "*");
    setValue(hide_Kit_Asc, wco_Kit_Asc);
    setValue(hide_Kit_Asm, wco_Kit_Asm);
    initPageOne();
    initPageTwo();
    initPageThree();
    initPageFour();
    initPageFive();
    initPageSix();
    intiUserDefined();
    for (var i = 0; i < QSKeys.length; i++) {
        if (QSKeys[i] == "break") {
            break;
        } else {
            setValue(QSKeys[i], "");
        }
    }
    setValue(hide_TopX_1, first_topX);
    autoFocus("init");
}

function updateMessageBar(message) {
    if (message.indexOf("hide_Message_") == 0) {
        message = getValue(message);
    }
    for (var i = 0; i < lbl_MessageList_0.length; i++) {
        setInnerHTML(lbl_MessageList_0[i], message);
    }
}

function returnPrevPage() {
    showViewSingle(_prevView, inViewsKeys);
}

function initPageOne() {
    sfc_SetValue(txt_OrderNo_1, "", sfc_Code_1);
    sfc_SetValue(txt_GroupTaskId_1, "", sfc_Code_1);
    sfc_SetValue(txt_Area_1, "", sfc_Code_1);
    sfc_SetValue(txt_Zone_1, "", sfc_Code_1);
    sfc_SetValue(txt_LocGroup1_1, "", sfc_Code_1);
    sfc_SetValue(txt_LocGroup2_1, "", sfc_Code_1);
    sfc_SetValue(txt_LocationIdFm_1, "", sfc_Code_1);
    sfc_SetValue(txt_LocationIdTo_1, "", sfc_Code_1);
}

function initPageTwo() {
    sfc_SetValue(div_OrderNoList_2, "", sfc_Code_2);
}

function initPageThree() {
    sfc_SetValue(wxt_FmLocation_3, "", sfc_Code_3);
    sfc_SetValue(txt_FmLocation_3, "", sfc_Code_3);
    sfc_SetValue(wxt_FmTraceId_3, "", sfc_Code_3);
    sfc_SetValue(txt_FmTraceId_3, "", sfc_Code_3);
    sfc_SetValue(wxt_SkuName_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Sku_3, "", sfc_Code_3);
    sfc_SetValue(txt_Sku_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Udf1_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Udf2_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Udf3_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Udf4_3, "", sfc_Code_3);
    sfc_SetValue(lbl_Page_3, "0/0", sfc_Code_3);
}

function initPageFour() {
    sfc_SetValue(wxt_Qty_4, "", sfc_Code_4);
    sfc_SetValue(txt_Qty_4, "", sfc_Code_4);
    sfc_SetValue(wxt_Uom_4, "", sfc_Code_4);
    sfc_SetValue(cmb_Uom_4, "", sfc_Code_4);
    sfc_SetValue(cmb_ReasonCode_4, "", sfc_Code_4);
    sfc_SetValue(wxt_PackId_4, "", sfc_Code_4);
    sfc_SetValue(txt_DropId_4, "", sfc_Code_4);
    sfc_SetValue(txt_ToLocation_4, "", sfc_Code_4);
    sfc_SetValue(wxt_FmTraceId_4, "", sfc_Code_4);
    sfc_SetValue(txt_CheckQty_4, "", sfc_Code_4);
}

function initPageFive() {
    sfc_SetValue(wxt_FmLocation_5, "", sfc_Code_5);
    sfc_SetValue(txt_FmLocation_5, "", sfc_Code_5);
    sfc_SetValue(wxt_FmTraceId_5, "", sfc_Code_5);
    sfc_SetValue(txt_FmTraceId_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Sku_5, "", sfc_Code_5);
    sfc_SetValue(wxt_SkuName_5, "", sfc_Code_5);
    sfc_SetValue(txt_Sku_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Qty_5, "", sfc_Code_5);
    sfc_SetValue(txt_Qty_5, "", sfc_Code_5);
    sfc_SetValue(cmb_Uom_5, "", sfc_Code_5);
    sfc_SetValue(cmb_ReasonCode_5, "", sfc_Code_5);
    sfc_SetValue(txt_DropId_5, "", sfc_Code_5);
    sfc_SetValue(txt_ToLocation_5, "", sfc_Code_5);
    sfc_SetValue(txt_CheckQty_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Udf1_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Udf2_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Udf3_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Udf4_5, "", sfc_Code_5);
    sfc_SetValue(lbl_Page_5, "0/0", sfc_Code_5);
}

function initPageSix() {
    sfc_SetValue(wxt_PickedQty_6, "", sfc_Code_6);
    sfc_SetValue(wxt_AllPickQty_6, "", sfc_Code_6);
    sfc_SetValue(wxt_PickedTaskQty_6, "", sfc_Code_6);
    sfc_SetValue(wxt_AllPickTaskQty_6, "", sfc_Code_6);
}

function intiUserDefined() {
    buf_OrderInfo_3 = null;
    buf_OrderIndex_3 = -1;
    buf_OrderSize_3 = -1;
    buf_UomAndQty_4 = new Array();
    buf_InvQty_4 = 0;
    buf_OrderInfo_5 = null;
    buf_OrderIndex_5 = -1;
    buf_OrderSize_5 = -1;
    buf_UomAndQty_5 = new Array();
    buf_InvQty_5 = 0;
    buf_MedicineSpecicalControl_1 = "";
    isDoSerialNo = false;
    buf_LotArray = new Array();
}

function isEnterAction(event) {
    return event.keyCode == 13;
}

var _first_ActionControl = first_ActionControl;
first_ActionControl = function (id, event) {
    if (_first_ActionControl(id, event) != 0) {
        return;
    }
    if (event == null || event.keyCode == 13) {
        if (false) {
            initHtmlPage();
            return;
        }
        if (id == but_QueryOrderNo_1) {
            but_QueryOrderNo_1_Action(id);
            return;
        }
        if (id == txt_OrderNo_1) {
            txt_OrderNo_1_Action(id);
            return;
        }
        if (id == txt_GroupTaskId_1) {
            txt_GroupTaskId_1_Action(id);
            return;
        }
        if (id == txt_Area_1) {
            txt_Area_1_Action(id);
            return;
        }
        if (id == txt_Zone_1) {
            txt_Zone_1_Action(id);
            return;
        }
        if (id == txt_LocGroup1_1) {
            txt_LocGroup1_1_Action(id);
            return;
        }
        if (id == txt_LocGroup2_1) {
            txt_LocGroup2_1_Action(id);
            return;
        }
        if (id == txt_LocationIdFm_1) {
            first_GetLocationValue(id);
            txt_LocationIdFm_1_Action(id);
            return;
        }
        if (id == txt_LocationIdTo_1) {
            first_GetLocationValue(id);
            txt_LocationIdTo_1_Action(id);
            return;
        }
        if (id == but_Confirm_1) {
            but_Confirm_1_Action(id);
            return;
        }
        if (id == but_Cancel_1) {
            but_Cancel_1_Action(id);
            return;
        }
        if (id == but_GetOrderNo_1) {
            but_GetOrderNo_1_Action(id);
            return;
        }
        if (id == but_QueryArea_1) {
            but_QueryArea_1_Action(id);
            return;
        }
        if (id == but_QueryZone_1) {
            but_QueryZone_1_Action(id);
            return;
        }
        if (id == but_QueryLocGroup1_1) {
            but_QueryLocGroup1_1_Action(id);
            return;
        }
        if (id == but_QueryLocGroup2_1) {
            but_QueryLocGroup2_1_Action(id);
            return;
        }
        if (id == but_Confirm_2) {
            but_Confirm_2_Action(id);
            return;
        }
        if (id == but_Cancel_2) {
            but_Cancel_2_Action(id);
            return;
        }
        if (id == txt_FmLocation_3) {
            txt_FmLocation_3_Action(id);
            return;
        }
        if (id == but_QueryPickingStatus_3) {
            but_QueryPickingStatus_3_Action(id);
            return;
        }
        if (id == txt_FmTraceId_3) {
            txt_FmTraceId_3_Action(id);
            return;
        }
        if (id == txt_Sku_3) {
            txt_Sku_3_Action(id);
            return;
        }
        if (id == but_SkuQuery_3) {
            but_SkuQuery_3_Action(id);
            return;
        }
        if (id == txt_LotCode_3) {
            txt_LotCode_3_Action(id);
            return;
        }
        if (id == but_StockOut_3) {
            but_StockOut_3_Action(id);
            return;
        }
        if (id == but_LastOne_3) {
            but_LastOne_3_Action(id);
            return;
        }
        if (id == but_Confirm_3) {
            but_Confirm_3_Action(id);
            return;
        }
        if (id == but_Cancel_3) {
            but_Cancel_3_Action(id);
            return;
        }
        if (id == but_NextOne_3) {
            but_NextOne_3_Action(id);
            return;
        }
        if (id == txt_Qty_4) {
            txt_Qty_4_Action(id);
            return;
        }
        if (id == cmb_Uom_4) {
            cmb_Uom_4_Action(id);
            return;
        }
        if (id == cmb_ReasonCode_4) {
            cmb_ReasonCode_4_Action(id);
            return;
        }
        if (id == txt_DropId_4) {
            txt_DropId_4_Action(id);
            return;
        }
        if (id == txt_ToLocation_4) {
            first_GetLocationValue(id);
            txt_ToLocation_4_Action(id);
            return;
        }
        if (id == txt_CheckQty_4) {
            txt_CheckQty_4_Action(id);
            return;
        }
        if (id == but_SingleScan_4) {
            but_SingleScan_4_Action(id);
            return;
        }
        if (id == but_Confirm_4) {
            but_Confirm_4_Action(id);
            return;
        }
        if (id == but_Cancel_4) {
            but_Cancel_4_Action(id);
            return;
        }
        if (id == txt_FmLocation_5) {
            txt_FmLocation_5_Action(id);
            return;
        }
        if (id == but_QueryPickingStatus_5) {
            but_QueryPickingStatus_5_Action(id);
            return;
        }
        if (id == txt_FmTraceId_5) {
            txt_FmTraceId_5_Action(id);
            return;
        }
        if (id == txt_Sku_5) {
            txt_Sku_5_Action(id);
            return;
        }
        if (id == txt_Qty_5) {
            txt_Qty_5_Action(id);
            return;
        }
        if (id == cmb_Uom_5) {
            cmb_Uom_5_Action(id);
            return;
        }
        if (id == cmb_ReasonCode_5) {
            cmb_ReasonCode_5_Action(id);
            return;
        }
        if (id == txt_DropId_5) {
            txt_DropId_5_Action(id);
            return;
        }
        if (id == txt_ToLocation_5) {
            first_GetLocationValue(id);
            txt_ToLocation_5_Action(id);
            return;
        }
        if (id == txt_CheckQty_5) {
            txt_CheckQty_5_Action(id);
            return;
        }
        if (id == but_StockOut_5) {
            but_StockOut_5_Action(id);
            return;
        }
        if (id == but_LastOne_5) {
            but_LastOne_5_Action(id);
            return;
        }
        if (id == but_Confirm_5) {
            but_Confirm_5_Action(id);
            return;
        }
        if (id == but_Cancel_5) {
            but_Cancel_5_Action(id);
            return;
        }
        if (id == but_NextOne_5) {
            but_NextOne_5_Action(id);
            return;
        }
        if (id == but_Confirm_6) {
            but_Confirm_6_Action(id);
            return;
        }
        if (id == but_Cancel_6) {
            but_Cancel_6_Action(id);
            return;
        }
        if (id == but_Confirm_7) {
            but_Confirm_7_Action(id);
            return;
        }
        if (id == but_Cancel_7) {
            but_Cancel_7_Action(id);
            return;
        }
        if (id == but_Confirm_8) {
            but_Confirm_8_Action(id);
            return;
        }
        if (id == but_Cancel_8) {
            but_Cancel_8_Action(id);
            return;
        }
        if (id == but_Confirm_9) {
            but_Confirm_9_Action(id);
            return;
        }
        if (id == but_Cancel_9) {
            but_Cancel_9_Action(id);
            return;
        }
        if (id == but_Confirm_10) {
            but_Confirm_10_Action(id);
            return;
        }
        if (id == but_Cancel_10) {
            but_Cancel_10_Action(id);
            return;
        }
        if (id == but_Confirm_11) {
            but_Confirm_11_Action(id);
            return;
        }
        if (id == but_Cancel_11) {
            but_Cancel_11_Action(id);
            return;
        }
        if (id == ScanByEach_Txt_Sku) {
            ScanByEach_Txt_Sku_Action();
            return;
        }
        if (id == ScanByEach_But_Add) {
            ScanByEach_But_Add_Action();
            return;
        }
        if (id == ScanByEach_But_Cut_Action) {
            ScanByEach_But_Cut_Action();
            return;
        }
        if (id == ScanByEach_But_Confrim_1) {
            ScanByEach_But_Confrim_1_Action();
            return;
        }
        if (id == ScanByEach_But_Cancel_1) {
            ScanByEach_But_Cancel_1_Action();
            return;
        }
        if (id == "PublicJs_dynamicLot_ButtonConfirmLot") {
            PublicJs_dynamicLot_ConfirmLotButton();
            return;
        }
        if (id == "PublicJs_dynamicLot_ButtonCancelLot") {
            PublicJs_dynamicLot_CancelLotButton();
            return;
        }
        alert("function first_ActionControl() is Error: " + id + " not found.");
    }
};

function autoFocus(id) {
    if (id == "init") {
        autoFocus(sfc_GetNextId(id, sfc_Code_1));
        return;
    }
    if (id == txt_OrderNo_1) {
        setFocus(txt_OrderNo_1);
        updateMessageBar(hide_Message_01);
        return;
    }
    if (id == txt_GroupTaskId_1) {
        setFocus(txt_GroupTaskId_1);
        updateMessageBar(hide_Message_02);
        return;
    }
    if (id == txt_Area_1) {
        setFocus(txt_Area_1);
        updateMessageBar(hide_Message_03);
        return;
    }
    if (id == txt_Zone_1) {
        setFocus(txt_Zone_1);
        updateMessageBar(hide_Message_04);
        return;
    }
    if (id == txt_LocGroup1_1) {
        setFocus(txt_LocGroup1_1);
        updateMessageBar(hide_Message_05);
        return;
    }
    if (id == txt_LocGroup2_1) {
        setFocus(txt_LocGroup2_1);
        updateMessageBar(hide_Message_06);
        return;
    }
    if (id == txt_LocationIdFm_1) {
        setFocus(txt_LocationIdFm_1);
        updateMessageBar(hide_Message_07);
        return;
    }
    if (id == txt_LocationIdTo_1) {
        setFocus(txt_LocationIdTo_1);
        updateMessageBar(hide_Message_08);
        return;
    }
    if (id == but_Confirm_1) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_1) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_1) {
        doButConfirm1Action();
        return;
    }
    if (id == but_Confirm_2) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_2) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == txt_FmLocation_3) {
        setFocus(txt_FmLocation_3);
        updateMessageBar(hide_Message_11);
        return;
    }
    if (id == "ERROR" + txt_FmLocation_3) {
        setFocus(txt_FmLocation_3);
        updateMessageBar(hide_Message_14);
        return;
    }
    if (id == "NONE" + txt_FmLocation_3) {
        setFocus(txt_FmLocation_3);
        updateMessageBar(hide_Message_15);
        return;
    }
    if (id == "NOQTY" + txt_FmLocation_3) {
        setFocus(txt_FmLocation_3);
        updateMessageBar(hide_Message_28);
        return;
    }
    if (id == txt_FmTraceId_3) {
        setFocus(txt_FmTraceId_3);
        updateMessageBar(hide_Message_12);
        return;
    }
    if (id == "ERROR" + txt_FmTraceId_3) {
        setFocus(txt_FmTraceId_3);
        updateMessageBar(hide_Message_16);
        startMusic();
        return;
    }
    if (id == "NONE" + txt_FmTraceId_3) {
        setFocus(txt_FmTraceId_3);
        updateMessageBar(hide_Message_17);
        startMusic();
        return;
    }
    if (id == "NOQTY" + txt_FmTraceId_3) {
        setFocus(txt_FmTraceId_3);
        updateMessageBar(hide_Message_29);
        startMusic();
        return;
    }
    if (id == txt_Sku_3) {
        setFocus(txt_Sku_3);
        updateMessageBar(hide_Message_13);
        return;
    }
    if (id == "ERROR" + txt_Sku_3) {
        startMusic();
        setFocus(txt_Sku_3);
        updateMessageBar(hide_Message_18);
        return;
    }
    if (id == txt_LotCode_3) {
        setFocus(txt_LotCode_3);
        updateMessageBar(hide_Message_34);
        return;
    }
    if (id == but_StockOut_3) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_3) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_3) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_SkuQuery_3) {
        return;
    }
    if (id == sfc_Code_3) {
        doButConfirm3Action();
        return;
    }
    if (id == txt_Qty_4) {
        setFocus(txt_Qty_4);
        updateMessageBar(hide_Message_19);
        return;
    }
    if (id == "ERROR" + txt_Qty_4) {
        setFocus(txt_Qty_4);
        updateMessageBar(hide_Message_40);
        return;
    }
    if (id == cmb_Uom_4) {
        setFocus2(cmb_Uom_4);
        updateMessageBar(hide_Message_20);
        return;
    }
    if (id == cmb_ReasonCode_4) {
        setFocus2(cmb_ReasonCode_4);
        updateMessageBar(hide_Message_21);
        return;
    }
    if (id == txt_DropId_4) {
        setFocus(txt_DropId_4);
        updateMessageBar(hide_Message_22);
        return;
    }
    if (id == txt_ToLocation_4) {
        setFocus(txt_ToLocation_4);
        updateMessageBar(hide_Message_23);
        return;
    }
    if (id == txt_CheckQty_4) {
        setFocus(txt_CheckQty_4);
        updateMessageBar(hide_Message_19);
        return;
    }
    if (id == "ERROR" + txt_CheckQty_4) {
        setFocus(txt_CheckQty_4);
        updateMessageBar(getValue2(hide_Message_25).replace("&1", ""));
        return;
    }
    if (id == but_Confirm_4) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_4) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_4) {
        but_Confirm_4_Action(but_Confirm_4);
        return;
    }
    if (id == txt_FmLocation_5) {
        setFocus(txt_FmLocation_5);
        updateMessageBar(hide_Message_11);
        return;
    }
    if (id == "ERROR" + txt_FmLocation_5) {
        setFocus(txt_FmLocation_5);
        updateMessageBar(hide_Message_14);
        return;
    }
    if (id == "NONE" + txt_FmLocation_5) {
        setFocus(txt_FmLocation_5);
        updateMessageBar(hide_Message_15);
        return;
    }
    if (id == txt_FmTraceId_5) {
        setFocus(txt_FmTraceId_5);
        updateMessageBar(hide_Message_12);
        return;
    }
    if (id == "ERROR" + txt_FmTraceId_5) {
        setFocus(txt_FmTraceId_5);
        updateMessageBar(hide_Message_16);
        startMusic();
        return;
    }
    if (id == "NONE" + txt_FmTraceId_5) {
        setFocus(txt_FmTraceId_5);
        updateMessageBar(hide_Message_17);
        startMusic();
        return;
    }
    if (id == txt_Sku_5) {
        setFocus(txt_Sku_5);
        updateMessageBar(hide_Message_13);
        return;
    }
    if (id == "ERROR" + txt_Sku_5) {
        setFocus(txt_Sku_5);
        updateMessageBar(hide_Message_18);
        return;
    }
    if (id == txt_Qty_5) {
        setFocus(txt_Qty_5);
        updateMessageBar(hide_Message_19);
        return;
    }
    if (id == "ERROR" + txt_Qty_5) {
        setFocus(txt_Qty_5);
        updateMessageBar(hide_Message_40);
        return;
    }
    if (id == cmb_Uom_5) {
        setFocus2(cmb_Uom_5);
        updateMessageBar(hide_Message_20);
        return;
    }
    if (id == cmb_ReasonCode_5) {
        setFocus2(cmb_ReasonCode_5);
        updateMessageBar(hide_Message_21);
        return;
    }
    if (id == txt_DropId_5) {
        setFocus(txt_DropId_5);
        updateMessageBar(hide_Message_22);
        return;
    }
    if (id == txt_ToLocation_5) {
        setFocus(txt_ToLocation_5);
        updateMessageBar(hide_Message_23);
        return;
    }
    if (id == txt_CheckQty_5) {
        setFocus(txt_CheckQty_5);
        updateMessageBar(hide_Message_19);
        return;
    }
    if (id == "ERROR" + txt_CheckQty_5) {
        setFocus(txt_CheckQty_5);
        updateMessageBar(getValue2(hide_Message_25).replace("&1", ""));
        return;
    }
    if (id == but_StockOut_5) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_5) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_5) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_5) {
        DoConfirm5Action(but_Confirm_5);
        return;
    }
    if (id == but_Confirm_6) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_6) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_6) {
        setFocus2(but_Confirm_6);
        return;
    }
    if (id == but_Confirm_8) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_8) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_9) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_9) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_10) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_10) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_11) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_Cancel_11) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    alert("function autoFocus() is Error: " + id + " not found.");
}

function but_QueryOrderNo_1_Action(id) {
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_GroupTaskId_1, getValue2(txt_GroupTaskId_1));
    setValue(hide_Area_1, getValue2(txt_Area_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    setValue(hide_LocGroup1_1, getValue2(txt_LocGroup1_1));
    setValue(hide_LocGroup2_1, getValue2(txt_LocGroup2_1));
    setValue(hide_LocationIdFm_1, first_GetLocationValue(txt_LocationIdFm_1));
    setValue(hide_LocationIdTo_1, first_GetLocationValue(txt_LocationIdTo_1));
    setValue(hide_Rfq_Pck_Ud1, first_GetParameterValue(RFQ_PCK_UD1));
    setValue(hide_Rfq_Pck_Ud2, first_GetParameterValue(RFQ_PCK_UD2));
    setValue(hide_Rfq_Pck_Ud3, first_GetParameterValue(RFQ_PCK_UD3));
    setValue(hide_FmLocation_3, "");
    setValue(hide_FmTraceId_3, "");
    setValue(hide_Sku_3, "");
    buf_OrderIndex_3 = 0;
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getOrderNoListAction", QSKeys, getOrderNoListAction);
}

function getOrderNoListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            buf_OrderList_2 = new Array();
            var WCO_RFQ_PCK_UD1 = getValue(hide_Rfq_Pck_Ud1);
            var WCO_RFQ_PCK_UD2 = getValue(hide_Rfq_Pck_Ud2);
            var WCO_RFQ_PCK_UD3 = getValue(hide_Rfq_Pck_Ud3);
            var buf_Content = new Array();
            for (var i = 0; i < obj2.length; i++) {
                buf_Content = new Array(obj2[i].ORDERNO, obj2[i].SOREFERENCE1, obj2[i].ORDER_TYPE, obj2[i].ADDTIME);
                if (WCO_RFQ_PCK_UD1.indexOf("DOC_ORDER_HEADER") >= 0) {
                    buf_Content.push(obj2[i].UDF01);
                }
                if (WCO_RFQ_PCK_UD2.indexOf("DOC_ORDER_HEADER") >= 0) {
                    buf_Content.push(obj2[i].UDF02);
                }
                if (WCO_RFQ_PCK_UD3.indexOf("DOC_ORDER_HEADER") >= 0) {
                    buf_Content.push(obj2[i].UDF03);
                }
                buf_OrderList_2.push(buf_Content);
            }
            var buf_LabelList = new Array(getValue(hide_Lbl_01), getValue(hide_Lbl_14), getValue(hide_Lbl_08), getValue(hide_Lbl_09));
            if (WCO_RFQ_PCK_UD1.indexOf("DOC_ORDER_HEADER") >= 0) {
                buf_LabelList.push(getValue(hide_Lbl_11));
            }
            if (WCO_RFQ_PCK_UD2.indexOf("DOC_ORDER_HEADER") >= 0) {
                buf_LabelList.push(getValue(hide_Lbl_12));
            }
            if (WCO_RFQ_PCK_UD3.indexOf("DOC_ORDER_HEADER") >= 0) {
                buf_LabelList.push(getValue(hide_Lbl_13));
            }
            Table_CreateTable(div_OrderNoList_2, buf_LabelList, buf_OrderList_2, 7, "doOrderListSingleClickAction", "doOrderListSingleDoubleAction", "doOrderListSingleDeleteAction", false, false);
            showViewSingle(_div2Input, inViewsKeys);
            autoFocus(but_Confirm_2);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_09), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doOrderListSingleClickAction(index) {
}

function doOrderListSingleDoubleAction(index) {
    but_Confirm_2_Action("");
}

function doOrderListSingleDeleteAction(index) {
}

function txt_OrderNo_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_GroupTaskId_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_Area_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_Zone_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_LocGroup1_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_LocGroup2_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_LocationIdFm_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function txt_LocationIdTo_1_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_1));
}

function but_Confirm_1_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_1);
    if (nextId == sfc_Code_1) {
        doButConfirm1Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm1Action() {
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_GroupTaskId_1, getValue2(txt_GroupTaskId_1));
    setValue(hide_Area_1, getValue2(txt_Area_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    setValue(hide_LocGroup1_1, getValue2(txt_LocGroup1_1));
    setValue(hide_LocGroup2_1, getValue2(txt_LocGroup2_1));
    setValue(hide_LocationIdFm_1, first_GetLocationValue(txt_LocationIdFm_1));
    setValue(hide_LocationIdTo_1, first_GetLocationValue(txt_LocationIdTo_1));
    setValue(hide_FmLocation_3, "");
    setValue(hide_FmTraceId_3, "");
    setValue(hide_Sku_3, "");
    buf_OrderIndex_3 = 0;
    buf_AllSerialNo_3 = "";
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoAction);
}

function getOrderInfoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            if (getValue2(hide_Pck_Scr_Mod) == "SIMPLE") {
                showPage5Action(obj1, obj2, true);
            } else {
                showPage3Action(obj1, obj2, true);
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_10), first_Alert, "updateMessageBar");
                autoFocus(sfc_GetNextId("init", sfc_Code_1));
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Cancel_1_Action(id) {
    first_But_Cancel_Action();
}

function but_GetOrderNo_1_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_1);
    if (nextId == sfc_Code_1 || nextId == txt_OrderNo_1) {
        doGetOrderNoAction();
    } else {
        autoFocus(nextId);
    }
}

function doGetOrderNoAction() {
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_GroupTaskId_1, getValue2(txt_GroupTaskId_1));
    setValue(hide_Area_1, getValue2(txt_Area_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    setValue(hide_LocGroup1_1, getValue2(txt_LocGroup1_1));
    setValue(hide_LocGroup2_1, getValue2(txt_LocGroup2_1));
    setValue(hide_LocationIdFm_1, first_GetLocationValue(txt_LocationIdFm_1));
    setValue(hide_LocationIdTo_1, first_GetLocationValue(txt_LocationIdTo_1));
    setValue(hide_FmLocation_3, "");
    setValue(hide_Sku_3, "");
    buf_OrderIndex_3 = 0;
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "autoGetOrderNoAction", QSKeys, autoGetOrderNoAction);
}

function autoGetOrderNoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            setValue(txt_OrderNo_1, obj2[0].DOCNO);
            if (getValue2(hide_Pck_Scr_Mod) == "SIMPLE") {
                showPage5Action(obj1, obj2, true);
            } else {
                showPage3Action(obj1, obj2, true);
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_09), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Confirm_2_Action(id) {
    var index = Table_GetSelectIndex(div_OrderNoList_2);
    if (index >= 0) {
        setValue(txt_OrderNo_1, buf_OrderList_2[index][0]);
    }
    but_Cancel_2_Action(id);
}

function but_Cancel_2_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus("init");
}

var needRefresh3 = false;

function showPage3Action(obj1, obj2, isRefresh) {
    if (obj1 != null && obj2 != null) {
        buf_OrderInfo_3 = obj2;
        buf_OrderSize_3 = parseInt(obj1.SIZE);
    }
    if (buf_OrderIndex_3 < 0 || buf_OrderIndex_3 >= buf_OrderInfo_3.length) {
        buf_OrderIndex_3 = 0;
    }
    var orderT = buf_OrderInfo_3[buf_OrderIndex_3];
    if (orderT.ERPCANCELFLAG != null && orderT.ERPCANCELFLAG == "Y") {
        showViewSingle(_div1Input, inViewsKeys);
        updateMessageBar(hide_Message_32);
        setFocus(txt_OrderNo_1);
        return;
    }
    if (orderT.RELEASESTATUS != null && orderT.RELEASESTATUS == "H") {
        showViewSingle(_div1Input, inViewsKeys);
        updateMessageBar(hide_Message_33);
        setFocus(txt_OrderNo_1);
        return;
    }
    needRefresh3 = isRefresh;
    isDoSerialNo = false;
    if (sfc_IsDisPlay(div_Lot_3, sfc_Code_3)) {
        PublicJs_dynamicLot_init();
        PublicJs_dynamicLot_SetisRFShowTrue();
        var order = buf_OrderInfo_3[buf_OrderIndex_3];
        var sku = order.SKU;
        var customerId = order.CUSTOMERID;
        var lot01 = order.LOTATT01;
        var lot02 = order.LOTATT02;
        var lot03 = order.LOTATT03;
        var lot04 = order.LOTATT04;
        var lot05 = order.LOTATT05;
        var lot06 = order.LOTATT06;
        var lot07 = order.LOTATT07;
        var lot08 = order.LOTATT08;
        var lot09 = order.LOTATT09;
        var lot10 = order.LOTATT10;
        var lot11 = order.LOTATT11;
        var lot12 = order.LOTATT12;
        PublicJs_dynamicLot_SetLotValue1(lot01);
        PublicJs_dynamicLot_SetLotValue2(lot02);
        PublicJs_dynamicLot_SetLotValue3(lot03);
        PublicJs_dynamicLot_SetLotValue4(lot04);
        PublicJs_dynamicLot_SetLotValue5(lot05);
        PublicJs_dynamicLot_SetLotValue6(lot06);
        PublicJs_dynamicLot_SetLotValue7(lot07);
        PublicJs_dynamicLot_SetLotValue8(lot08);
        PublicJs_dynamicLot_SetLotValue9(lot09);
        PublicJs_dynamicLot_SetLotValue10(lot10);
        PublicJs_dynamicLot_SetLotValue11(lot11);
        PublicJs_dynamicLot_SetLotValue12(lot12);
        PublicJs_dynamicLot_SetSku(sku);
        PublicJs_dynamicLot_SetCustomerID(customerId);
        PublicJs_dynamicLot_divNewInput = _div3Input;
        PublicJs_dynamicLot_SetShowDivID(div_Lot_3);
        PublicJs_dynamicLot_getLotTableIncludeShow();
    } else {
        showPageThreeAction();
    }
}

function PublicJs_dynamicLot_setFocusAfterShowLot(type) {
    if (type == 2) {
        showPageThreeAction();
    } else {
        setFocus2(PublicJs_dynamicLot_btnLotSubmit);
    }
}

function showPageThreeAction() {
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    sfc_SetValue(wxt_FmLocation_3, order.FMLOCATION, sfc_Code_3);
    sfc_SetValue(wxt_FmTraceId_3, order.FMID, sfc_Code_3);
    sfc_SetValue(wxt_SkuName_3, order.SKUNAME, sfc_Code_3);
    sfc_SetValue(wxt_Sku_3, order.SKU, sfc_Code_3);
    sfc_SetValue(wxt_Udf1_3, order.UDF1, sfc_Code_3);
    sfc_SetValue(wxt_Udf2_3, order.UDF2, sfc_Code_3);
    sfc_SetValue(wxt_Udf3_3, order.UDF3, sfc_Code_3);
    sfc_SetValue(wxt_Udf4_3, order.UDF4, sfc_Code_3);
    sfc_SetValue(lbl_Page_3, (buf_OrderIndex_3 + 1) + "/" + buf_OrderSize_3, sfc_Code_3);
    setValue(hide_Sku_3, order.SKU);
    setValue(hide_LotNum_3, order.FMLOTNUM);
    buf_InvQty_4 = parseFloat(order.INV_QTY);
    buf_MedicineSpecicalControl_1 = order.MEDICINESPECICALCONTROL;
    setValue(hide_TaskId, order.TASKID);
    setValue(hide_TaskId_Sequence, order.TASKID_SEQUENCE);
    var wco_Pck_Skp_Lot = first_GetParameterValue(getValue(hide_Pck_Skp_Lot), order.CUSTOMERID, order.DOCTYPE, p_warehouseId);
    setValue(hide_Pck_Skp_Lot, wco_Pck_Skp_Lot);
    showViewSingle(_div3Input, inViewsKeys);
    if (needRefresh3) {
        sfc_SetValue(txt_FmLocation_3, order.FMLOCATION, sfc_Code_3);
        var fmId = order.FMID;
        if (fmId == "*") {
            setValue(txt_FmTraceId_3, "*");
        } else {
            sfc_SetValue(txt_FmTraceId_3, fmId, sfc_Code_3);
        }
        sfc_SetValue(txt_Sku_3, order.SKU, sfc_Code_3);
        autoFocus(sfc_GetNextId("", sfc_Code_3));
        needRefresh3 = false;
    } else {
        autoFocus(sfc_GetNextId(txt_Sku_3, sfc_Code_3));
    }
    if (order.PICKINSTRUCTION.length > 0) {
        first_EchoMessage(order.PICKINSTRUCTION, first_Alert_Focus, "");
    }
}

function txt_FmLocation_3_Action(id) {
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_3);
    var validAtionCodeValue = getValue2(txt_FmLocation_3);
    if (wco_Loc_Val_Mod == "Y" && !(buf_OrderInfo_3[buf_OrderIndex_3].VALIDATIONCODE == validAtionCodeValue || buf_OrderInfo_3[buf_OrderIndex_3].FMLOCATION == fmLocationValue)) {
        if (validAtionCodeValue.length == (buf_OrderInfo_3[buf_OrderIndex_3].VALIDATIONCODE).length) {
            startMusic();
            autoFocus(txt_FmLocation_3);
            updateMessageBar(hide_Message_38);
            return;
        }
    }
    if (buf_OrderInfo_3[buf_OrderIndex_3].VALIDATIONCODE == validAtionCodeValue && validAtionCodeValue.length != 0) {
        fmLocationValue = buf_OrderInfo_3[buf_OrderIndex_3].FMLOCATION;
        setValue(txt_FmLocation_3, fmLocationValue);
    }
    if (fmLocationValue.length == 0 || fmLocationValue == getValue2(wxt_FmLocation_3)) {
        startMusic2();
        autoFocus(sfc_GetNextId(txt_FmLocation_3, sfc_Code_3));
    } else {
        if (getValue2(hide_Pck_Chg_Loc) != "Y") {
            startMusic();
            autoFocus("ERROR" + txt_FmLocation_3);
        } else {
            if (startMusic() || !first_EchoMessage(getValue(hide_Message_30), first_Confirm, "")) {
                startMusic();
                autoFocus("ERROR" + txt_FmLocation_3);
            } else {
                setValue(hide_NewFmLocation_3, fmLocationValue);
                _prevView = _div3Input;
                showViewSingle(_div1Waiting, inViewsKeys);
                doServerAction(className, "changeLocationAction", QSKeys, changeLocationAction);
            }
        }
    }
}

function changeLocationAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(wxt_FmLocation_3, first_GetLocationValue(txt_FmLocation_3));
            buf_InvQty_4 = parseFloat(returnMessage);
            autoFocus(sfc_GetNextId(txt_FmLocation_3, sfc_Code_3));
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                if (returnMessage == "0") {
                    autoFocus("NOQTY" + txt_FmLocation_3);
                } else {
                    autoFocus("NONE" + txt_FmLocation_3);
                }
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function txt_FmTraceId_3_Action(id) {
    var fmTraceIdValue = getValue2(txt_FmTraceId_3);
    if (fmTraceIdValue.length == 0 || fmTraceIdValue == getValue2(wxt_FmTraceId_3)) {
        autoFocus(sfc_GetNextId(txt_FmTraceId_3, sfc_Code_3));
    } else {
        if (first_EchoMessage(getValue(hide_Message_39), first_Confirm, "")) {
            for (var i = 0; i < buf_OrderInfo_3.length; i++) {
                if (first_GetLocationValue(txt_FmLocation_3) == buf_OrderInfo_3[i].FMLOCATION && fmTraceIdValue == buf_OrderInfo_3[i].FMID) {
                    buf_OrderIndex_3 = i;
                    needRefresh3 = false;
                    startMusic2();
                    showPage3Action(null, null, false);
                    return;
                }
            }
            setValue(hide_FmLocation_3, first_GetLocationValue(txt_FmLocation_3));
            setValue(hide_FmTraceId_3, getValue2(txt_FmTraceId_3));
            setValue(hide_Sku_3, "");
            first_SetNextMusicOff();
            _prevView = _div3Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoByTraceIdAction3);
        } else {
            autoFocus("ERROR" + txt_FmTraceId_3);
        }
    }
}

function getOrderInfoByTraceIdAction3(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            buf_OrderIndex_3 = 0;
            showPage3Action(obj1, obj2, false);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                if (getValue2(hide_Pck_Chg_Id) != "Y") {
                    autoFocus("NONE" + txt_FmTraceId_3);
                } else {
                    if (startMusic() || !first_EchoMessage(getValue(hide_Message_31), first_Confirm, "")) {
                        autoFocus("ERROR" + txt_FmTraceId_3);
                    } else {
                        setValue(hide_FmLocation_3, getValue2(wxt_FmLocation_3));
                        setValue(hide_NewFmTraceId_3, getValue2(txt_FmTraceId_3));
                        setValue(hide_Sku_3, getValue2(wxt_Sku_3));
                        _prevView = _div3Input;
                        showViewSingle(_div1Waiting, inViewsKeys);
                        doServerAction(className, "changeTraceIdAction", QSKeys, changeTraceIdAction);
                    }
                }
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                startMusic();
                setFocus(txt_FmTraceId_3);
            }
        }
    }
}

function changeTraceIdAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(wxt_FmTraceId_3, getValue2(txt_FmTraceId_3));
            autoFocus(sfc_GetNextId(txt_FmTraceId_3, sfc_Code_3));
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                if (returnMessage == "0") {
                    autoFocus("NOQTY" + txt_FmTraceId_3);
                } else {
                    autoFocus("NONE" + txt_FmTraceId_3);
                }
                setValue(hide_NewFmTraceId_3, "");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setValue(hide_NewFmTraceId_3, "");
            }
        }
    }
}

function txt_Sku_3_Action(id) {
    var skuValue = getValue3(txt_Sku_3);
    buf_LotArray = new Array();
    buf_SkuValue = skuValue;
    buf_SkuLotIsEmpty_3 = false;
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    var taskId = order.TASKID;
    var customerId = order.CUSTOMERID;
    var orderType = order.ORDERTYPE;
    wco_Pck_Pcs_Scn = first_GetParameterValue(getValue(hide_Pck_Pcs_Scn), customerId, orderType, p_warehouseId);
    var otherInfo = null;
    var paramInfo = new Array("PCK", taskId, "", customerId, "", skuValue);
    SkuBarcodeAnalyzer_SetParameterAttribute(customerId, orderType, p_warehouseId);
    SkuBarcodeAnalyzer_SetAddWhere(" AND ALLOWSHIPMENT='Y' ", getValue2(txt_OrderNo_1), "PCK");
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, returnFunction, otherInfo);
}

var buf_Uom_3 = "";

function returnFunction() {
    var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
    var returnCode = skuInfo[0];
    if (returnCode == codeValue_OK) {
        var skuOutput = skuInfo[1];
        var qtyOutput = skuInfo[2];
        setValue(txt_Sku_3, skuOutput);
        setValue(hide_Qty_3, qtyOutput);
        buf_Uom_3 = skuInfo[19];
        if (buf_Uom_3 != null && buf_Uom_3.length > 0) {
            setValue(cmb_Uom_4, buf_Uom_3);
        }
        if (skuOutput.length == 0) {
            showViewSingle(_div3Input, inViewsKeys);
            startMusic2();
            autoFocus(sfc_GetNextId(txt_Sku_3, sfc_Code_3));
            return;
        }
        for (var i = 4; i < 16; i++) {
            buf_LotArray.push(skuInfo[i]);
        }
        if (skuInfo[4].length > 0 || skuInfo[5].length > 0 || skuInfo[6].length > 0 || skuInfo[7].length > 0 || skuInfo[8].length > 0 || skuInfo[9].length > 0 || skuInfo[10].length > 0 || skuInfo[11].length > 0 || skuInfo[12].length > 0 || skuInfo[13].length > 0 || skuInfo[14].length > 0 || skuInfo[15].length > 0) {
            buf_SkuLotIsEmpty_3 = false;
        } else {
            buf_SkuLotIsEmpty_3 = true;
        }
        if (getValue(hide_Sku_Bcd_Lvl) == "2" && buf_SkuLotIsEmpty_3) {
            showViewSingle(_div3Input, inViewsKeys);
            startMusic2();
            autoFocus(txt_LotCode_3);
            return;
        }
        var order = buf_OrderInfo_3[buf_OrderIndex_3];
        var order_LotArray = new Array();
        order_LotArray.push(order.LOTATT01);
        order_LotArray.push(order.LOTATT02);
        order_LotArray.push(order.LOTATT03);
        order_LotArray.push(order.LOTATT04);
        order_LotArray.push(order.LOTATT05);
        order_LotArray.push(order.LOTATT06);
        order_LotArray.push(order.LOTATT07);
        order_LotArray.push(order.LOTATT08);
        order_LotArray.push(order.LOTATT09);
        order_LotArray.push(order.LOTATT10);
        order_LotArray.push(order.LOTATT11);
        order_LotArray.push(order.LOTATT12);
        var skuValue = getValue2(txt_Sku_3);
        if (skuValue == getValue2(wxt_Sku_3)) {
            showViewSingle(_div3Input, inViewsKeys);
            if (getValue(hide_Sku_Bcd_Lvl) == "2") {
                for (var i = 0; i < buf_OrderInfo_3.length; i++) {
                    if (skuValue == buf_OrderInfo_3[i].SKU && (buf_LotArray[0] == "" || buf_LotArray[0] == buf_OrderInfo_3[i].LOTATT01) && (buf_LotArray[1] == "" || buf_LotArray[1] == buf_OrderInfo_3[i].LOTATT02) && (buf_LotArray[2] == "" || buf_LotArray[2] == buf_OrderInfo_3[i].LOTATT03) && (buf_LotArray[3] == "" || buf_LotArray[3] == buf_OrderInfo_3[i].LOTATT04) && (buf_LotArray[4] == "" || buf_LotArray[4] == buf_OrderInfo_3[i].LOTATT05) && (buf_LotArray[5] == "" || buf_LotArray[5] == buf_OrderInfo_3[i].LOTATT06) && (buf_LotArray[6] == "" || buf_LotArray[6] == buf_OrderInfo_3[i].LOTATT07) && (buf_LotArray[7] == "" || buf_LotArray[7] == buf_OrderInfo_3[i].LOTATT08) && (buf_LotArray[8] == "" || buf_LotArray[8] == buf_OrderInfo_3[i].LOTATT09) && (buf_LotArray[9] == "" || buf_LotArray[9] == buf_OrderInfo_3[i].LOTATT10) && (buf_LotArray[10] == "" || buf_LotArray[10] == buf_OrderInfo_3[i].LOTATT11) && (buf_LotArray[11] == "" || buf_LotArray[11] == buf_OrderInfo_3[i].LOTATT12)) {
                        buf_OrderIndex_3 = i;
                        startMusic2();
                        showPageThreeAction();
                        return;
                    }
                }
                autoFocus("ERROR" + txt_Sku_3);
                return;
            } else {
                for (var i = 0; i < 12; i++) {
                    if (buf_LotArray[i].length > 0 && buf_LotArray[i] != "" && buf_LotArray[i] != order_LotArray[i]) {
                        updateMessageBar(getValue(hide_Message_35).replace("&1", i + 1).replace("&2", order_LotArray[i]));
                        setValue(txt_Sku_3, buf_SkuValue);
                        setFocus(txt_Sku_3);
                        startMusic();
                        return;
                    }
                }
            }
            startMusic2();
            autoFocus(sfc_GetNextId(txt_Sku_3, sfc_Code_3));
        } else {
            setValue(hide_FmLocation_3, first_GetLocationValue(txt_FmLocation_3));
            setValue(hide_FmTraceId_3, getValue2(txt_FmTraceId_3));
            setValue(hide_Sku_3, getValue2(txt_Sku_3));
            _prevView = _div3Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoBySkuAction);
        }
    } else {
        if (returnCode == codeValue_NORECORD) {
            showViewSingle(_div3Input, inViewsKeys);
            setFocus(txt_Sku_3);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        } else {
            showViewSingle(_div3Input, inViewsKeys);
            startMusic();
            setFocus(txt_Sku_3);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        }
    }
}

function getOrderInfoBySkuAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            buf_OrderIndex_3 = 0;
            var order = buf_OrderInfo_3[buf_OrderIndex_3];
            var order_LotArray = new Array();
            order_LotArray.push(order.LOTATT01);
            order_LotArray.push(order.LOTATT02);
            order_LotArray.push(order.LOTATT03);
            order_LotArray.push(order.LOTATT04);
            order_LotArray.push(order.LOTATT05);
            order_LotArray.push(order.LOTATT06);
            order_LotArray.push(order.LOTATT07);
            order_LotArray.push(order.LOTATT08);
            order_LotArray.push(order.LOTATT09);
            order_LotArray.push(order.LOTATT10);
            order_LotArray.push(order.LOTATT11);
            order_LotArray.push(order.LOTATT12);
            for (var i = 0; i < 12; i++) {
                if (buf_LotArray[i].length > 0 && buf_LotArray[i] != "" && buf_LotArray[i] != order_LotArray[i]) {
                    showViewSingle(_div3Input, inViewsKeys);
                    updateMessageBar(getValue(hide_Message_35).replace("&1", i + 1).replace("&2", order_LotArray[i]));
                    setFocus(txt_Sku_3);
                    startMusic();
                    return;
                }
            }
            showPage3Action(obj1, obj2, false);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("ERROR" + txt_Sku_3);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
        setValue(hide_FmLocation_3, "");
        setValue(hide_FmTraceId_3, "");
        setValue(hide_Sku_3, "");
    }
}

function txt_LotCode_3_Action() {
    var skuValue = getValue2(txt_Sku_3);
    var lotCodeValue = getValue2(txt_LotCode_3);
    if (skuValue == "" || lotCodeValue == "" || !buf_SkuLotIsEmpty_3) {
        autoFocus(txt_LotCode_3);
        return;
    }
    var lotList = skuBarcodeAnalyzerByJs_LotCode("PCK", lotCodeValue, buf_OrderInfo_3[buf_OrderIndex_3].CUSTOMERID, skuValue);
    buf_LotArray = new Array();
    for (var i = 1; i < 13; i++) {
        buf_LotArray.push(lotList[i]);
    }
    for (var i = 0; i < buf_OrderInfo_3.length; i++) {
        if (getValue(txt_Sku_3) == buf_OrderInfo_3[i].SKU && (buf_LotArray[0] == "" || buf_LotArray[0] == buf_OrderInfo_3[i].LOTATT01) && (buf_LotArray[1] == "" || buf_LotArray[1] == buf_OrderInfo_3[i].LOTATT02) && (buf_LotArray[2] == "" || buf_LotArray[2] == buf_OrderInfo_3[i].LOTATT03) && (buf_LotArray[3] == "" || buf_LotArray[3] == buf_OrderInfo_3[i].LOTATT04) && (buf_LotArray[4] == "" || buf_LotArray[4] == buf_OrderInfo_3[i].LOTATT05) && (buf_LotArray[5] == "" || buf_LotArray[5] == buf_OrderInfo_3[i].LOTATT06) && (buf_LotArray[6] == "" || buf_LotArray[6] == buf_OrderInfo_3[i].LOTATT07) && (buf_LotArray[7] == "" || buf_LotArray[7] == buf_OrderInfo_3[i].LOTATT08) && (buf_LotArray[8] == "" || buf_LotArray[8] == buf_OrderInfo_3[i].LOTATT09) && (buf_LotArray[9] == "" || buf_LotArray[9] == buf_OrderInfo_3[i].LOTATT10) && (buf_LotArray[10] == "" || buf_LotArray[10] == buf_OrderInfo_3[i].LOTATT11) && (buf_LotArray[11] == "" || buf_LotArray[11] == buf_OrderInfo_3[i].LOTATT12)) {
            buf_OrderIndex_3 = i;
            showPageThreeAction();
            return;
        }
    }
    updateMessageBar(hide_Message_18);
    setFocus(txt_LotCode_3);
    return;
}

function but_LastOne_3_Action(id) {
    if (buf_OrderIndex_3 > 0) {
        buf_OrderIndex_3--;
        showPage3Action(null, null, true);
    }
}

function but_Confirm_3_Action(id) {
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_3);
    if (fmLocationValue.length > 0 && fmLocationValue != getValue2(wxt_FmLocation_3)) {
        startMusic();
        autoFocus("ERROR" + txt_FmLocation_3);
        return;
    }
    var fmTraceIdValue = getValue2(txt_FmTraceId_3);
    if (fmTraceIdValue.length > 0 && fmTraceIdValue != getValue2(wxt_FmTraceId_3)) {
        autoFocus("ERROR" + txt_FmTraceId_3);
        return;
    }
    var skuValue = getValue2(txt_Sku_3);
    if (skuValue.length > 0 && skuValue != getValue2(wxt_Sku_3)) {
        autoFocus("ERROR" + txt_Sku_3);
        return;
    }
    var nextId = sfc_GetNextId(id, sfc_Code_3);
    if (nextId == sfc_Code_3) {
        doButConfirm3Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm3Action() {
    if (getValue2(hide_Pck_Skp_Lot) == "Y") {
        PublicJs_dynamicLot_ConfirmLotButton();
    } else {
        var order = buf_OrderInfo_3[buf_OrderIndex_3];
        var sku = order.SKU;
        var customerId = order.CUSTOMERID;
        var docType = order.DOCTYPE;
        var lot01 = order.LOTATT01;
        var lot02 = order.LOTATT02;
        var lot03 = order.LOTATT03;
        var lot04 = order.LOTATT04;
        var lot05 = order.LOTATT05;
        var lot06 = order.LOTATT06;
        var lot07 = order.LOTATT07;
        var lot08 = order.LOTATT08;
        var lot09 = order.LOTATT09;
        var lot10 = order.LOTATT10;
        var lot11 = order.LOTATT11;
        var lot12 = order.LOTATT12;
        PublicJs_dynamicLot_init();
        PublicJs_dynamicLot_SetisRFShowTrue();
        PublicJs_dynamicLot_SetLotValue1(lot01);
        PublicJs_dynamicLot_SetLotValue2(lot02);
        PublicJs_dynamicLot_SetLotValue3(lot03);
        PublicJs_dynamicLot_SetLotValue4(lot04);
        PublicJs_dynamicLot_SetLotValue5(lot05);
        PublicJs_dynamicLot_SetLotValue6(lot06);
        PublicJs_dynamicLot_SetLotValue7(lot07);
        PublicJs_dynamicLot_SetLotValue8(lot08);
        PublicJs_dynamicLot_SetLotValue9(lot09);
        PublicJs_dynamicLot_SetLotValue10(lot10);
        PublicJs_dynamicLot_SetLotValue11(lot11);
        PublicJs_dynamicLot_SetLotValue12(lot12);
        PublicJs_dynamicLot_SetSku(sku);
        PublicJs_dynamicLot_SetCustomerID(customerId);
        Pck_Lot_Cfm_Use = first_GetParameterValue(getValue2(hide_Pck_Lot_Cfm), customerId, docType);
        PublicJs_dynamicLot_getLotTableSingleShow(Pck_Lot_Cfm_Use);
    }
}

function PublicJs_dynamicLot_ConfirmLotButton() {
    if (PublicJs_dynamicLot_CheckLotattValue() == null) {
        setValue(hide_SerialNoList_4, "");
        if (wco_Pck_Pcs_Scn != null && wco_Pck_Pcs_Scn == "Y") {
            showPage4Action();
            but_SingleScan_4_Action(but_SingleScan_4);
        } else {
            showPage4Action();
            autoFocus(sfc_GetNextId(txt_Qty_4, sfc_Code_4));
        }
    }
}

function PublicJs_dynamicLot_CancelLotButton() {
    showViewSingle(_div3Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_3));
}

function serialNoConfirmAction(serialNoList) {
    setValue(hide_SerialNoList_4, serialNoList);
    isDoSerialNo = true;
    but_Confirm_4_Action(but_Confirm_4);
}

function serialNoCancelAction() {
    isDoSerialNo = false;
    showViewSingle(_div4Input, inViewsKeys);
    setFocus2(but_Confirm_4);
}

function doPickingAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            playMusic("OK");
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            showViewSingle(_prevView, inViewsKeys);
            buf_MedicineSpecicalControl_1 = "";
            showPage3Action(obj1, obj2, true);
            var msg = returnMessage.split("=:=");
            if (msg.length > 0 && msg[0].length > 0) {
                updateMessageBar(msg[0]);
            } else {
                updateMessageBar(hide_Message_26);
            }
            if (msg.length > 0 && msg[1].length > 0) {
                first_EchoMessage(msg[1], first_Alert, "");
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                initHtmlPage();
                playMusic("OK");
                var msg = returnMessage.split("=:=");
                if (msg.length > 0 && msg[0].length > 0) {
                    setInnerHTML("lbl_Message_1", msg[0]);
                } else {
                    updateMessageBar(hide_Message_27);
                }
                if (msg[1] != null && msg[1].length > 0) {
                    first_EchoMessage(msg[1], first_Alert, "");
                }
            } else {
                playMusic("ERROR");
                showViewSingle(_prevView, inViewsKeys);
                if (returnMessage == "CHECKNOLOCATION") {
                    setFocus(txt_ToLocation_4);
                    updateMessageBar(hide_Message_38);
                } else {
                    if (isDoSerialNo && SerialNoControl_GetScanSerialNoQty() > 0) {
                        SerialNoControl_ShowSerialNoAgain(returnMessage.replace("201607221000", ""), returnMessage.indexOf("201607221000") >= 0 ? false : true);
                    } else {
                        first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                        setFocus2(but_Confirm_4);
                    }
                }
            }
        }
    }
}

function ScanningSerialNo_But_Cancel_Action() {
    showViewSingle(_div4Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_4));
}

function but_Cancel_3_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_1));
}

function but_NextOne_3_Action(id) {
    if (buf_OrderIndex_3 < buf_OrderSize_3 - 1) {
        buf_OrderIndex_3++;
        if (buf_OrderIndex_3 > buf_OrderInfo_3.length - 1) {
            setValue(hide_FmLocation_3, "");
            setValue(hide_FmTraceId_3, "");
            setValue(hide_Sku_3, "");
            setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
            setValue(hide_TopX_1, parseInt(getValue2(hide_TopX_1)) * 2);
            _prevView = _div3Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoAction);
        } else {
            showPage3Action(null, null, true);
        }
    }
}

function but_QueryPickingStatus_3_Action(id) {
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    sfc_SetValue(wxt_PickedQty_6, order.PICKEDQTY, sfc_Code_6);
    sfc_SetValue(wxt_AllPickQty_6, order.ALLPICKEDQTY, sfc_Code_6);
    sfc_SetValue(wxt_PickedTaskQty_6, order.PICKEDTASKQTY, sfc_Code_6);
    sfc_SetValue(wxt_AllPickTaskQty_6, order.ALLPICKEDTASKQTY, sfc_Code_6);
    showPageSix();
}

function but_StockOut_3_Action(id) {
    startMusic();
    if (first_EchoMessage(getValue3(hide_Message_37), first_Confirm, "")) {
        var order = buf_OrderInfo_3[buf_OrderIndex_3];
        setValue(hide_isChanged_4, "Y");
        setValue(hide_AllocationDetailsId_4, order.ALLOCATIONDETAILSID);
        setValue(hide_DocNo_4, order.DOCNO);
        setValue(hide_DocLineNo_4, order.DOCLINENO);
        setValue(hide_LotNum_4, order.FMLOTNUM);
        setValue(hide_FmLocation_4, first_GetLocationValue(wxt_FmLocation_3));
        setValue(hide_FmTraceId_4, getValue2(wxt_FmTraceId_3));
        setValue(hide_Qty_4, "0");
        setValue(hide_Uom_4, "EA");
        setValue(hide_PackId_4, order.FMPACKID);
        setValue(hide_ToLocation_4, "");
        setValue(hide_ToTraceId_4, "");
        setValue(hide_ReasonCode_4, "SS");
        setValue(hide_ReasonName_4, "SS");
        first_SetNextMusicOff();
        _prevView = _div3Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doStockOutAction", QSKeys, doStockOutAction3);
    } else {
        autoFocus(but_StockOut_3);
    }
}

function doStockOutAction3(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            playMusic("OK");
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            showViewSingle(_prevView, inViewsKeys);
            showPage3Action(obj1, obj2, true);
            if (returnMessage != null && returnMessage.length > 0) {
                updateMessageBar(returnMessage);
            } else {
                updateMessageBar(hide_Message_41);
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                initHtmlPage();
                playMusic("OK");
                var msg = returnMessage.split("=:=");
                if (msg.length > 0 && msg[0].length > 0) {
                    setInnerHTML("lbl_Message_1", msg[0]);
                } else {
                    updateMessageBar(hide_Message_27);
                }
                if (msg[1] != null && msg[1].length > 0) {
                    first_EchoMessage(msg[1], first_Alert, "");
                }
            } else {
                playMusic("ERROR");
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function showPage4Action() {
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    removeAllOptions(cmb_Uom_4);
    var uomList = order.JSONUOMLIST;
    buf_UomAndQty_4 = new Array();
    for (var i = 0; i < uomList.length; i++) {
        buf_UomAndQty_4.push(new Array(uomList[i].CODE, uomList[i].QTY));
        addOptionToSelect(cmb_Uom_4, uomList[i].CODE, uomList[i].NAME, null);
    }
    removeAllOptions(cmb_ReasonCode_4);
    var reasonCodeList = getValue(hide_ReasonCodes_4).split(";");
    for (var i = 0; i < reasonCodeList.length; i++) {
        var reasonCode = reasonCodeList[i].split(":");
        addOptionToSelect(cmb_ReasonCode_4, reasonCode[0], reasonCode[1], null);
    }
    sfc_SetValue(wxt_Qty_4, order.FMQTY, sfc_Code_4);
    sfc_SetValue(txt_Qty_4, getValue(hide_Qty_3), sfc_Code_4);
    sfc_SetValue(wxt_Uom_4, order.DESCR + "(" + order.FMUOM + ")", sfc_Code_4);
    sfc_SetValue(cmb_Uom_4, (buf_Uom_3.length > 0 ? buf_Uom_3 : order.FMUOM), sfc_Code_4);
    sfc_SetValue(cmb_ReasonCode_4, "OK", sfc_Code_4);
    sfc_SetValue(wxt_PackId_4, order.DESCR_GH, sfc_Code_4);
    sfc_SetValue(txt_DropId_4, order.PLANTOID, sfc_Code_4);
    sfc_SetValue(txt_ToLocation_4, order.PLANTOLOCATION, sfc_Code_4);
    sfc_SetValue(wxt_FmTraceId_4, getValue2(wxt_FmTraceId_3), sfc_Code_4);
    sfc_SetValue(txt_CheckQty_4, "0", sfc_Code_4);
    setValue(hide_CheckQty_4, "");
    setValue(hide_AllocationDetailsId_4, order.ALLOCATIONDETAILSID);
    setValue(hide_DocNo_4, order.DOCNO);
    setValue(hide_DocLineNo_4, order.DOCLINENO);
    setValue(hide_LotNum_4, order.FMLOTNUM);
    setValue(hide_PackId_4, order.FMPACKID);
    setValue(hide_Sku_4, order.SKU);
    setValue(hide_CustomerId_4, order.CUSTOMERID);
    showViewSingle(_div4Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_4));
}

function txt_Qty_4_Action(id) {
    if (getValue(hide_Pck_Dft_Los) == "Y" && parseFloat(getValue(wxt_Qty_4)) > parseFloat(getValue(txt_Qty_4))) {
        setValue(cmb_ReasonCode_4, "SS");
    }
    checkQtyAndUomAciton(id);
}

function checkQtyAndUomAciton(id) {
    var qtyValue = getValue2(txt_Qty_4);
    if (!first_CheckNumber(qtyValue) && qtyValue != "0") {
        if (sfc_CanFocus(txt_Qty_4, sfc_Code_4)) {
            autoFocus(txt_Qty_4);
        }
        return;
    }
    var uomValue = getValue2(cmb_Uom_4);
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    var qty = order.FMQTY;
    var uom = order.FMUOM;
    var input_UomQty = 1;
    var db_UomQty = 1;
    for (var i = 0; i < buf_UomAndQty_4.length; i++) {
        if (uomValue == buf_UomAndQty_4[i][0]) {
            input_UomQty = parseInt(buf_UomAndQty_4[i][1]);
        }
        if (uom == buf_UomAndQty_4[i][0]) {
            db_UomQty = parseInt(buf_UomAndQty_4[i][1]);
        }
    }
    if (parseFloat(qtyValue) * input_UomQty != parseFloat(qty) * db_UomQty) {
        if (id == txt_Qty_4 && sfc_CanFocus(cmb_Uom_4, sfc_Code_4)) {
            autoFocus(cmb_Uom_4);
            return;
        }
        if (sfc_CanFocus(cmb_ReasonCode_4, sfc_Code_4)) {
            autoFocus(cmb_ReasonCode_4);
            return;
        }
    }
    autoFocus(sfc_GetNextId(id, sfc_Code_4));
}

function cmb_Uom_4_Action(id) {
    if (getValue(hide_Pck_Dft_Los) == "Y" && parseFloat(getValue(wxt_Qty_4)) >= parseFloat(getValue(txt_Qty_4))) {
        txt_DropId_4_Action(id);
    } else {
        checkQtyAndUomAciton(id);
    }
}

function cmb_ReasonCode_4_Action(id) {
    autoFocus(sfc_GetNextId(cmb_ReasonCode_4, sfc_Code_4));
}

function txt_DropId_4_Action(id) {
    autoFocus(sfc_GetNextId(txt_DropId_4, sfc_Code_4));
}

function txt_ToLocation_4_Action(id) {
    autoFocus(sfc_GetNextId(txt_ToLocation_4, sfc_Code_4));
}

function txt_CheckQty_4_Action(id) {
    var qtyValue = getValue2(txt_CheckQty_4);
    if (!first_CheckNumber(qtyValue) && qtyValue != "0") {
        autoFocus(txt_CheckQty_4);
        return;
    }
    autoFocus(sfc_GetNextId(txt_CheckQty_4, sfc_Code_4));
}

function but_SingleScan_4_Action(id) {
    var qty = getValue2(wxt_Qty_4);
    var buf_DefaultQty = "";
    if (qty == 1 && EASCAN_STARTQTY == 0) {
        var skuInfo = new Array(getValue2(wxt_Sku_3), getValue2(wxt_SkuName_3), 0, qty, "PCK", taskId, "", customerId, "");
        var buttonActions = new Array(but_Confirm_ScanByEach_Action, but_Cancel_ScanByEach_Action);
        var otherInfo = new Array(getValue2(wxt_FmLocation_3), customerId, getValue2(wxt_Sku_3), getValue2(wxt_Uom_4));
        var lotInfo = new Array(order.LOTATT01, order.LOTATT02, order.LOTATT03, order.LOTATT04, order.LOTATT05, order.LOTATT06, order.LOTATT07, order.LOTATT08, order.LOTATT09, order.LOTATT10, order.LOTATT11, order.LOTATT12);
        ScanByEach_ShowScanByEachPage(inViewsKeys, skuInfo, buttonActions, otherInfo, lotInfo);
        return;
    } else {
        if (qty == 1) {
            autoFocus(sfc_GetNextId("", sfc_Code_4));
            return;
        }
    }
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    var taskId = order.TASKID;
    var customerId = order.CUSTOMERID;
    if (getValue3(hide_Qty_3) != "" && getValue3(hide_Qty_3) > 0 && EASCAN_STARTQTY == 1) {
        buf_DefaultQty = getValue3(hide_Qty_3);
    }
    var skuInfo = new Array(getValue2(wxt_Sku_3), getValue2(wxt_SkuName_3), 1, qty, "PCK", taskId, "", customerId, "", buf_DefaultQty);
    var buttonActions = new Array(but_Confirm_ScanByEach_Action, but_Cancel_ScanByEach_Action);
    var otherInfo = new Array(getValue2(wxt_FmLocation_3), customerId, getValue2(wxt_Sku_3), getValue2(wxt_Uom_4));
    var lotInfo = new Array(order.LOTATT01, order.LOTATT02, order.LOTATT03, order.LOTATT04, order.LOTATT05, order.LOTATT06, order.LOTATT07, order.LOTATT08, order.LOTATT09, order.LOTATT10, order.LOTATT11, order.LOTATT12);
    ScanByEach_ShowScanByEachPage(inViewsKeys, skuInfo, buttonActions, otherInfo, lotInfo);
}

function but_Confirm_ScanByEach_Action() {
    showViewSingle(_div4Input, inViewsKeys);
    setValue(txt_Qty_4, ScanByEach_GetScanResult());
    autoFocus(sfc_GetNextId(txt_Qty_4, sfc_Code_4));
}

function but_Cancel_ScanByEach_Action() {
    showViewSingle(_div4Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_4));
}

function but_Confirm_4_Action(id) {
    var order = buf_OrderInfo_3[buf_OrderIndex_3];
    var qtyValue = getValue2(txt_Qty_4);
    if (!isNumber(qtyValue) && qtyValue != "0") {
        if (sfc_CanFocus(txt_Qty_4, sfc_Code_4)) {
            autoFocus(txt_Qty_4);
        }
        return;
    }
    var pck_Inv_Cou = getValue2(hide_Pck_Inv_Cou);
    var checkQtyValue = getValue2(txt_CheckQty_4);
    if (!first_CheckNumber(checkQtyValue) && parseFloat(qtyValue) == 0) {
        autoFocus(txt_CheckQty_4);
        return;
    }
    var uomValue = getValue2(cmb_Uom_4);
    var input_UomQty = 1;
    for (var i = 0; i < buf_UomAndQty_4.length; i++) {
        if (uomValue == buf_UomAndQty_4[i][0]) {
            input_UomQty = parseInt(buf_UomAndQty_4[i][1]);
            break;
        }
    }
    var WCO_IND_WGT_PCT = first_GetParameterValue(IND_WGT_PCT, order.CUSTOMERID, order.DOCTYPE);
    WCO_IND_WGT_PCT = first_CheckNumber(WCO_IND_WGT_PCT) ? parseFloat(WCO_IND_WGT_PCT) : 0;
    if (order.PICKBYWEIGHT == "Y" && order.OVERPREALLOCATION == "Y" && parseFloat(qtyValue) * parseFloat(input_UomQty) > parseFloat(order.FMQTY_EACH) * (1 + WCO_IND_WGT_PCT / 100)) {
        autoFocus("ERROR" + txt_Qty_4);
        return;
    }
    var couQtySameFlag = (parseFloat(checkQtyValue) + parseFloat(qtyValue)) * input_UomQty == parseFloat(buf_InvQty_4) ? true : false;
    if (pck_Inv_Cou == "1" && !couQtySameFlag) {
        setValue(hide_CheckQty_4, checkQtyValue);
    } else {
        if (pck_Inv_Cou == "2" && !couQtySameFlag) {
            if (checkQtyValue != getValue2(hide_CheckQty_4)) {
                setValue(hide_CheckQty_4, checkQtyValue);
                autoFocus("ERROR" + txt_CheckQty_4);
                return;
            } else {
                setValue(hide_CheckQty_4, checkQtyValue);
            }
        } else {
            setValue(hide_CheckQty_4, "");
        }
    }
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_3);
    var fmLocationValueOld = "";
    fmLocationValueOld = order.FMLOCATION;
    if (fmLocationValue != fmLocationValueOld.toUpperCase()) {
        if (getValue2(hide_Pck_Chg_Loc) != "Y") {
            startMusic();
            updateMessageBar(hide_Message_14);
            return;
        } else {
            if (startMusic() || !first_EchoMessage(getValue(hide_Message_30), first_Confirm, "")) {
                startMusic();
                updateMessageBar(hide_Message_14);
                return;
            }
        }
    }
    var fmSkuValue = getValue2(txt_Sku_3);
    var fmSkuValueOld = "";
    fmSkuValueOld = order.SKU;
    if (fmSkuValue != fmSkuValueOld.toUpperCase()) {
        updateMessageBar(hide_Message_18);
        return;
    }
    var fmFmTraceIdValue = getValue2(txt_FmTraceId_3);
    var fmFmTraceIdValueOld = "";
    fmFmTraceIdValueOld = getValue2(wxt_FmTraceId_4);
    if (fmFmTraceIdValue != fmFmTraceIdValueOld.toUpperCase()) {
        updateMessageBar(hide_Message_16);
        return;
    }
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_3);
    var fmTraceIdValue = getValue2(txt_FmTraceId_3);
    var uomValue = getValue2(cmb_Uom_4);
    var toLocationValue = first_GetLocationValue(txt_ToLocation_4);
    var toTraceIdValue = getValue2(txt_DropId_4);
    if (order.FMLOCATION != fmLocationValue || order.FMID != fmTraceIdValue || parseFloat(order.FMQTY) != parseFloat(qtyValue) || order.PLANTOLOCATION != toLocationValue || order.FMUOM != uomValue || order.PLANTOID != toTraceIdValue) {
        setValue(hide_FmLocation_4, fmLocationValue);
        setValue(hide_FmTraceId_4, fmTraceIdValue);
        setValue(hide_Qty_4, qtyValue);
        setValue(hide_Uom_4, uomValue);
        setValue(hide_ToLocation_4, toLocationValue);
        setValue(hide_ToTraceId_4, toTraceIdValue);
        setValue(hide_ReasonCode_4, getValue2(cmb_ReasonCode_4));
        setValue(hide_ReasonName_4, getOptionText(cmb_ReasonCode_4));
        if (order.FMLOCATION != fmLocationValue || order.FMID != fmTraceIdValue) {
            setValue(hide_isChanged_4, "Y");
        } else {
            setValue(hide_isChanged_4, "N");
        }
    } else {
        setValue(hide_FmLocation_4, "");
        setValue(hide_FmTraceId_4, "");
        setValue(hide_Qty_4, "");
        setValue(hide_Uom_4, "");
        setValue(hide_ToLocation_4, "");
        setValue(hide_ToTraceId_4, "");
        setValue(hide_ReasonCode_4, "");
        setValue(hide_ReasonName_4, "");
    }
    setValue(hide_Sn_Ctl, first_GetParameterValue(SN_CTL, order.CUSTOMERID, order.DOCTYPE));
    var nextId = sfc_GetNextId(id, sfc_Code_4);
    if (nextId == sfc_Code_4) {
        var order = buf_OrderInfo_3[buf_OrderIndex_3];
        var isScanSerialNo1 = order.SCANWHENPIECEPICKING;
        var isScanSerialNo2 = order.SERIALNOCATCH_ORDER;
        var isScanSerialNo3 = order.SERIALNOCATCH_SKU;
        if (!isDoSerialNo && isScanSerialNo1 == "Y" && isScanSerialNo2 == "Y" && isScanSerialNo3 == "Y") {
            var type = SerialNoControl_C_OUT;
            var scanInfo = new Array(order.SKU, order.CUSTOMERID, getValue(txt_Qty_4), getValue(cmb_Uom_4), "*", order.LOTATT12, getValue3(hide_TaskId) + "%" + getValue3(hide_TaskId_Sequence));
            var noList = new Array();
            SerialNoControl_Init(serialNoConfirmAction, serialNoCancelAction, type, scanInfo, noList);
            return;
        }
        doCheck1Action();
    } else {
        autoFocus(nextId);
    }
}

function doCheck1Action() {
    setValue(hide_doubleConfirmBy_4, "");
    if (buf_MedicineSpecicalControl_1 != null && buf_MedicineSpecicalControl_1 != "" && buf_MedicineSpecicalControl_1 == "Y" && getValue(hide_Dbl_Cfm_Pck) == "Y") {
        DoubleCheck_Init(inViewsKeys, "doCheck2Action", getValue3(txt_Sku_3), getValue3(wxt_SkuName_3), buf_OrderInfo_3[buf_OrderIndex_3].ALTERNATE_SKU1, buf_OrderInfo_3[buf_OrderIndex_3].RESERVEDFIELD01, getValue3(txt_Qty_4), buf_OrderInfo_3[buf_OrderIndex_3].ALTERNATE_SKU4);
        return;
    } else {
        first_SetNextMusicOff();
        _prevView = _div4Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doPickingAction", QSKeys, doPickingAction);
    }
}

function doCheck2Action(isOk, doubleCheckName) {
    if (isOk) {
        buf_MedicineSpecicalControl_1 = "";
        setValue(hide_doubleConfirmBy_4, getValue3(DoubleCheck_Txt_UserName_1));
        _prevView = _div4Input;
        first_SetNextMusicOff();
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doPickingAction", QSKeys, doPickingAction);
        return;
    } else {
        showViewSingle(_div4Input, inViewsKeys);
        autoFocus(but_Confirm_4);
    }
}

function but_Cancel_4_Action(id) {
    showViewSingle(_div3Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_3));
}

var needRefresh5 = false;

function showPage5Action(obj1, obj2, isRefresh) {
    if (obj1 != null && obj2 != null) {
        buf_OrderInfo_5 = obj2;
        buf_OrderSize_5 = parseInt(obj1.SIZE);
    }
    if (buf_OrderIndex_5 < 0 || buf_OrderIndex_5 >= buf_OrderInfo_5.length) {
        buf_OrderIndex_5 = 0;
    }
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    if (order.ERPCANCELFLAG != null && order.ERPCANCELFLAG == "Y") {
        showViewSingle(_div1Input, inViewsKeys);
        updateMessageBar(hide_Message_32);
        setFocus(txt_OrderNo_1);
        return;
    }
    if (order.RELEASESTATUS != null && order.RELEASESTATUS == "H") {
        showViewSingle(_div1Input, inViewsKeys);
        updateMessageBar(hide_Message_33);
        setFocus(txt_OrderNo_1);
        return;
    }
    needRefresh5 = isRefresh;
    removeAllOptions(cmb_Uom_5);
    var uomList = order.JSONUOMLIST;
    buf_UomAndQty_5 = new Array();
    for (var i = 0; i < uomList.length; i++) {
        buf_UomAndQty_5.push(new Array(uomList[i].CODE, uomList[i].QTY));
        addOptionToSelect(cmb_Uom_5, uomList[i].CODE, uomList[i].NAME, null);
    }
    removeAllOptions(cmb_ReasonCode_5);
    var reasonCodeList = getValue(hide_ReasonCodes_5).split(";");
    for (var i = 0; i < reasonCodeList.length; i++) {
        var reasonCode = reasonCodeList[i].split(":");
        addOptionToSelect(cmb_ReasonCode_5, reasonCode[0], reasonCode[1], null);
    }
    sfc_SetValue(wxt_Udf1_5, order.UDF1, sfc_Code_5);
    sfc_SetValue(wxt_Udf2_5, order.UDF2, sfc_Code_5);
    sfc_SetValue(wxt_Udf3_5, order.UDF3, sfc_Code_5);
    sfc_SetValue(wxt_Udf4_5, order.UDF4, sfc_Code_5);
    sfc_SetValue(wxt_FmLocation_5, order.FMLOCATION, sfc_Code_5);
    sfc_SetValue(wxt_FmTraceId_5, order.FMID, sfc_Code_5);
    sfc_SetValue(wxt_Sku_5, order.SKU, sfc_Code_5);
    sfc_SetValue(wxt_SkuName_5, order.SKUNAME, sfc_Code_5);
    sfc_SetValue(wxt_Qty_5, order.FMQTY + "(" + order.DESCR + ")", sfc_Code_5);
    sfc_SetValue(txt_Qty_5, order.FMQTY, sfc_Code_5);
    sfc_SetValue(cmb_Uom_5, (buf_Uom_5.length > 0 ? buf_Uom_5 : order.FMUOM), sfc_Code_5);
    sfc_SetValue(cmb_ReasonCode_5, "OK", sfc_Code_5);
    sfc_SetValue(txt_DropId_5, order.PLANTOID, sfc_Code_5);
    sfc_SetValue(txt_ToLocation_5, order.PLANTOLOCATION, sfc_Code_5);
    sfc_SetValue(txt_CheckQty_5, "0", sfc_Code_5);
    sfc_SetValue(lbl_Page_5, (buf_OrderIndex_5 + 1) + "/" + buf_OrderSize_5, sfc_Code_5);
    buf_MedicineSpecicalControl_1 = order.MEDICINESPECICALCONTROL;
    buf_InvQty_5 = parseFloat(order.INV_QTY);
    setValue(hide_Sku_5, order.SKU);
    setValue(hide_LotNum_5, order.FMLOTNUM);
    setValue(hide_CheckQty_5, "");
    setValue(hide_AllocationDetailsId_5, order.ALLOCATIONDETAILSID);
    setValue(hide_DocNo_5, order.DOCNO);
    setValue(hide_DocLineNo_5, order.DOCLINENO);
    setValue(hide_LotNum_5, order.FMLOTNUM);
    setValue(hide_PackId_5, order.FMPACKID);
    setValue(hide_Sku_5, order.SKU);
    setValue(hide_CustomerId_5, order.CUSTOMERID);
    setValue(hide_TaskId, order.TASKID);
    setValue(hide_TaskId_Sequence, order.TASKID_SEQUENCE);
    showViewSingle(_div5Input, inViewsKeys);
    if (needRefresh5) {
        sfc_SetValue(txt_FmLocation_5, order.FMLOCATION, sfc_Code_5);
        var fmId = order.FMID;
        if (fmId == "*") {
            setValue(txt_FmTraceId_5, "*");
        } else {
            sfc_SetValue(txt_FmTraceId_5, fmId, sfc_Code_5);
        }
        sfc_SetValue(txt_Sku_5, order.SKU, sfc_Code_5);
        autoFocus(sfc_GetNextId("", sfc_Code_5));
        needRefresh5 = false;
    } else {
        autoFocus(sfc_GetNextId(txt_Sku_5, sfc_Code_5));
    }
    if (order.PICKINSTRUCTION.length > 0) {
        first_EchoMessage(order.PICKINSTRUCTION, first_Alert_Focus, "");
    }
}

function txt_FmLocation_5_Action(id) {
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_5);
    var validAtionCodeValue = getValue2(txt_FmLocation_5);
    if (wco_Loc_Val_Mod == "Y" && !(buf_OrderInfo_5[buf_OrderIndex_5].VALIDATIONCODE == validAtionCodeValue || buf_OrderInfo_5[buf_OrderIndex_5].FMLOCATION == fmLocationValue)) {
        if (validAtionCodeValue.length == buf_OrderInfo_5[buf_OrderIndex_5].VALIDATIONCODE.length) {
            autoFocus(txt_FmLocation_5);
            first_MessageSystem(getValue(hide_Message_38), false);
            return;
        }
    }
    if (buf_OrderInfo_5[buf_OrderIndex_5].VALIDATIONCODE == validAtionCodeValue && validAtionCodeValue.length != 0) {
        fmLocationValue = buf_OrderInfo_5[buf_OrderIndex_5].FMLOCATION;
        setValue(txt_FmLocation_5, fmLocationValue);
    }
    if (fmLocationValue.length == 0 || fmLocationValue == getValue2(wxt_FmLocation_5)) {
        startMusic2();
        autoFocus(sfc_GetNextId(txt_FmLocation_5, sfc_Code_5));
    } else {
        if (getValue2(hide_Pck_Chg_Loc) != "Y") {
            startMusic();
            autoFocus("ERROR" + txt_FmLocation_5);
        } else {
            if (startMusic() || !first_EchoMessage(getValue(hide_Message_30), first_Confirm, "")) {
                startMusic();
                autoFocus("ERROR" + txt_FmLocation_5);
                return;
            } else {
                setValue(hide_NewFmLocation_5, fmLocationValue);
                _prevView = _div5Input;
                showViewSingle(_div1Waiting, inViewsKeys);
                doServerAction(className, "changeLocationAction", QSKeys, changeLocationAction5);
            }
        }
    }
}

function changeLocationAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(wxt_FmLocation_5, first_GetLocationValue(txt_FmLocation_5));
            buf_InvQty_5 = parseFloat(returnMessage);
            autoFocus(sfc_GetNextId(txt_FmLocation_5, sfc_Code_5));
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("NONE" + txt_FmLocation_5);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function txt_FmTraceId_5_Action(id) {
    var fmTraceIdValue = getValue2(txt_FmTraceId_5);
    if (fmTraceIdValue.length == 0 || fmTraceIdValue == getValue2(wxt_FmTraceId_5)) {
        autoFocus(sfc_GetNextId(txt_FmTraceId_5, sfc_Code_5));
    } else {
        if (confirm(getValue(hide_Message_39))) {
            for (var i = 0; i < buf_OrderInfo_5.length; i++) {
                if (first_GetLocationValue(txt_FmLocation_5) == buf_OrderInfo_5[i].FMLOCATION && fmTraceIdValue == buf_OrderInfo_5[i].FMID) {
                    buf_OrderIndex_5 = i;
                    needRefresh5 = false;
                    startMusic2();
                    showPage5Action(null, null, false);
                    return;
                }
            }
            setValue(hide_FmLocation_5, first_GetLocationValue(txt_FmLocation_5));
            setValue(hide_FmTraceId_5, getValue2(txt_FmTraceId_5));
            setValue(hide_Sku_5, "");
            first_SetNextMusicOff();
            _prevView = _div5Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoByTraceIdAction5);
        } else {
            autoFocus("ERROR" + txt_FmTraceId_5);
        }
    }
}

function getOrderInfoByTraceIdAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            buf_OrderIndex_5 = 0;
            showPage5Action(obj1, obj2, false);
            setValue(hide_FmLocation_5, "");
            setValue(hide_FmTraceId_5, "");
            setValue(hide_Sku_5, "");
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                if (getValue2(hide_Pck_Chg_Id) != "Y") {
                    autoFocus("NONE" + txt_FmTraceId_5);
                } else {
                    if (startMusic() || !first_EchoMessage(getValue(hide_Message_31), first_Confirm, "")) {
                        autoFocus("ERROR" + txt_FmTraceId_5);
                    } else {
                        setValue(hide_FmLocation_5, getValue2(wxt_FmLocation_5));
                        setValue(hide_NewFmTraceId_5, getValue2(txt_FmTraceId_5));
                        setValue(hide_Sku_5, getValue2(wxt_Sku_5));
                        _prevView = _div5Input;
                        showViewSingle(_div1Waiting, inViewsKeys);
                        doServerAction(className, "changeTraceIdAction", QSKeys, changeTraceIdAction5);
                    }
                }
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                startMusic();
                setFocus(txt_FmTraceId_5);
                setValue(hide_FmLocation_5, "");
                setValue(hide_FmTraceId_5, "");
                setValue(hide_Sku_5, "");
            }
        }
    }
}

function changeTraceIdAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(wxt_FmTraceId_5, getValue2(txt_FmTraceId_5));
            autoFocus(sfc_GetNextId(txt_FmTraceId_5, sfc_Code_5));
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("NONE" + txt_FmTraceId_5);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function txt_Sku_5_Action(id) {
    var nextId = sfc_GetNextId(txt_Sku_5, sfc_Code_5);
    if (nextId == txt_FmLocation_5 || nextId == txt_FmTraceId_5) {
        autoFocus(nextId);
        return;
    }
    var skuValue = getValue3(txt_Sku_5);
    buf_LotArray = new Array();
    buf_SkuValue = skuValue;
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    var taskId = order.TASKID;
    var customerId = order.CUSTOMERID;
    var orderType = order.ORDERTYPE;
    var otherInfo = null;
    var paramInfo = new Array("PCK", taskId, "", customerId, "", skuValue);
    SkuBarcodeAnalyzer_SetParameterAttribute(customerId, orderType, p_warehouseId);
    SkuBarcodeAnalyzer_SetAddWhere(" AND ALLOWSHIPMENT='Y' ", getValue2(txt_OrderNo_1), "PCK");
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, returnFunction5, otherInfo);
}

var buf_Uom_5 = "";

function returnFunction5() {
    var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
    var returnCode = skuInfo[0];
    if (returnCode == codeValue_OK) {
        var customerId = buf_OrderInfo_5[buf_OrderIndex_5].CUSTOMERID;
        var orderType = buf_OrderInfo_5[buf_OrderIndex_5].ORDERTYPE;
        wco_Pck_Pcs_Scn = first_GetParameterValue(getValue(hide_Pck_Pcs_Scn), customerId, orderType, p_warehouseId);
        var skuOutput = skuInfo[1];
        var qtyOutput = skuInfo[2];
        setValue(txt_Sku_5, skuOutput);
        setValue(hide_Qty_5, qtyOutput);
        buf_Uom_5 = skuInfo[19];
        if (buf_Uom_5 != null && buf_Uom_5.length > 0) {
            setValue(cmb_Uom_5, buf_Uom_5);
        }
        for (var i = 4; i < 16; i++) {
            buf_LotArray.push(skuInfo[i]);
        }
        var order = buf_OrderInfo_5[buf_OrderIndex_5];
        var order_LotArray = new Array();
        order_LotArray.push(order.LOTATT01);
        order_LotArray.push(order.LOTATT02);
        order_LotArray.push(order.LOTATT03);
        order_LotArray.push(order.LOTATT04);
        order_LotArray.push(order.LOTATT05);
        order_LotArray.push(order.LOTATT06);
        order_LotArray.push(order.LOTATT07);
        order_LotArray.push(order.LOTATT08);
        order_LotArray.push(order.LOTATT09);
        order_LotArray.push(order.LOTATT10);
        order_LotArray.push(order.LOTATT11);
        order_LotArray.push(order.LOTATT12);
        for (var i = 0; i < 12; i++) {
            if (buf_LotArray[i].length > 0 && buf_LotArray[i] != "" && buf_LotArray[i] != order_LotArray[i]) {
                showViewSingle(_div5Input, inViewsKeys);
                updateMessageBar(getValue(hide_Message_35).replace("&1", i + 1).replace("&2", order_LotArray[i]));
                setValue(txt_Sku_5, buf_SkuValue);
                setFocus(txt_Sku_5);
                startMusic2();
                return;
            }
        }
        var skuValue = getValue2(txt_Sku_5);
        if (skuValue.length == 0) {
            showViewSingle(_div5Input, inViewsKeys);
            startMusic2();
            autoFocus(sfc_GetNextId(txt_Sku_5, sfc_Code_5));
        } else {
            if (skuValue == buf_OrderInfo_5[buf_OrderIndex_5].SKU) {
                for (var i = 0; i < 12; i++) {
                    if (buf_LotArray[i].length > 0 && buf_LotArray[i] != "" && buf_LotArray[i] != order_LotArray[i]) {
                        showViewSingle(_div5Input, inViewsKeys);
                        updateMessageBar(getValue(hide_Message_35).replace("&1", i + 1).replace("&2", order_LotArray[i]));
                        setValue(txt_Sku_5, buf_SkuValue);
                        setFocus(txt_Sku_5);
                        startMusic();
                        return;
                    }
                }
                if (wco_Pck_Pcs_Scn != null && wco_Pck_Pcs_Scn == "Y") {
                    show_SingleScan_5_Action();
                } else {
                    showViewSingle(_div5Input, inViewsKeys);
                    if (getValue(hide_Qty_5).length != 0) {
                        setValue(txt_Qty_5, getValue(hide_Qty_5));
                        setValue(hide_Qty_5, "");
                    }
                    startMusic2();
                    autoFocus(sfc_GetNextId(txt_Sku_5, sfc_Code_5));
                }
            } else {
                if (!confirm(getValue(hide_Message_39))) {
                    setFocus(txt_Sku_5);
                    return;
                }
                setValue(hide_FmLocation_5, first_GetLocationValue(txt_FmLocation_5));
                setValue(hide_FmTraceId_5, getValue2(txt_FmTraceId_5));
                setValue(hide_Sku_5, getValue2(txt_Sku_5));
                _prevView = _div5Input;
                showViewSingle(_div1Waiting, inViewsKeys);
                doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoBySkuAction5);
            }
        }
    } else {
        if (returnCode == codeValue_NORECORD) {
            showViewSingle(_div5Input, inViewsKeys);
            setFocus(txt_Sku_5);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        } else {
            showViewSingle(_div5Input, inViewsKeys);
            startMusic();
            setFocus(txt_Sku_5);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        }
    }
}

function getOrderInfoBySkuAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            buf_OrderIndex_5 = 0;
            var order = buf_OrderInfo_5[buf_OrderIndex_5];
            var order_LotArray = new Array();
            order_LotArray.push(order.LOTATT01);
            order_LotArray.push(order.LOTATT02);
            order_LotArray.push(order.LOTATT03);
            order_LotArray.push(order.LOTATT04);
            order_LotArray.push(order.LOTATT05);
            order_LotArray.push(order.LOTATT06);
            order_LotArray.push(order.LOTATT07);
            order_LotArray.push(order.LOTATT08);
            order_LotArray.push(order.LOTATT09);
            order_LotArray.push(order.LOTATT10);
            order_LotArray.push(order.LOTATT11);
            order_LotArray.push(order.LOTATT12);
            for (var i = 0; i < 12; i++) {
                if (buf_LotArray[i].length > 0 && buf_LotArray[i] != "" && buf_LotArray[i] != order_LotArray[i]) {
                    showViewSingle(_div5Input, inViewsKeys);
                    updateMessageBar(getValue(hide_Message_35).replace("&1", i + 1).replace("&2", order_LotArray[i]));
                    setFocus(txt_Sku_5);
                    startMusic();
                    return;
                }
            }
            showPage5Action(obj1, obj2, false);
            if (getValue(hide_Qty_5).length != 0) {
                setValue(txt_Qty_5, getValue(hide_Qty_5));
                setValue(hide_Qty_5, "");
                autoFocus(sfc_GetNextId(txt_Sku_5, sfc_Code_5));
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("ERROR" + txt_Sku_5);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
        setValue(hide_FmLocation_5, "");
        setValue(hide_FmTraceId_5, "");
        setValue(hide_Sku_5, "");
    }
}

function but_SkuQuery_3_Action(id) {
    setValue(hide_FmLocation_3, first_GetLocationValue(wxt_FmLocation_3));
    var QSKeys = new Array(hide_OrderNo_1, hide_GroupTaskId_1, hide_Area_1, hide_Zone_1, hide_LocGroup1_1, hide_LocGroup2_1, hide_FmLocation_3, hide_LocationIdTo_1);
    _prevView = _div3Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "DoButSkuQuery3Action", QSKeys, DoButSkuQuery3Action);
}

function DoButSkuQuery3Action(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            buf_DocList_7 = replyData.strData2;
            var tableList = new Array();
            for (var i = 0; i < buf_DocList_7.length; i++) {
                tableList.push(new Array(buf_DocList_7[i].SKU, buf_DocList_7[i].SKU_NAME));
            }
            Table_CreateTable(div_SkuList_7, new Array(getValue3(hide_Lbl_02), getValue3(hide_Lbl_03)), tableList, 6, "SingleClick", "DoubleClick", "", false, false);
            showViewSingle(_div7Input, inViewsKeys);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                setFocus(txt_Sku_3);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_MessageSystem(returnMessage);
            }
        }
    }
}

function SingleClick(index) {
    buf_SkuListIndex_3 = index;
}

function DoubleClick(index) {
    buf_SkuListIndex_3 = index;
    but_Confirm_7_Action();
}

function show_SingleScan_5_Action() {
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    var taskId = order.TASKID;
    var customerId = order.CUSTOMERID;
    var buf_AnalyzerQty = getValue(hide_Qty_5);
    var buf_DefaultQty = 0;
    if (getValue(hide_Qty_5).length != 0 && getValue(hide_Qty_5) != 0) {
        setValue(txt_Qty_5, getValue(hide_Qty_5));
        setValue(hide_Qty_5, "");
    }
    if (order.FMQTY > 1) {
        if (buf_AnalyzerQty != "" && buf_AnalyzerQty > 0 && EASCAN_STARTQTY == 1) {
            buf_DefaultQty = buf_AnalyzerQty;
        }
        var skuInfo5 = new Array(getValue2(wxt_Sku_5), getValue2(wxt_SkuName_5), 1, order.FMQTY, "PCK", taskId, "", customerId, "", buf_DefaultQty);
        var buttonActions5 = new Array(but_Confirm_ScanByEach_5_Action, but_Cancel_ScanByEach_5_Action);
        var otherInfo5 = new Array(getValue2(wxt_FmLocation_5), customerId, getValue2(wxt_Sku_5), getValue2(cmb_Uom_5));
        var lotInfo = new Array(order.LOTATT01, order.LOTATT02, order.LOTATT03, order.LOTATT04, order.LOTATT05, order.LOTATT06, order.LOTATT07, order.LOTATT08, order.LOTATT09, order.LOTATT10, order.LOTATT11, order.LOTATT12);
        ScanByEach_ShowScanByEachPage(inViewsKeys, skuInfo5, buttonActions5, otherInfo5, lotInfo);
        return;
    } else {
        if (order.FMQTY == 1 && EASCAN_STARTQTY == 0) {
            var skuInfo5 = new Array(getValue2(wxt_Sku_5), getValue2(wxt_SkuName_5), 0, order.FMQTY, "PCK", taskId, "", customerId, "");
            var buttonActions5 = new Array(but_Confirm_ScanByEach_5_Action, but_Cancel_ScanByEach_5_Action);
            var otherInfo5 = new Array(getValue2(wxt_FmLocation_5), customerId, getValue2(wxt_Sku_5), getValue2(cmb_Uom_5));
            var lotInfo = new Array(order.LOTATT01, order.LOTATT02, order.LOTATT03, order.LOTATT04, order.LOTATT05, order.LOTATT06, order.LOTATT07, order.LOTATT08, order.LOTATT09, order.LOTATT10, order.LOTATT11, order.LOTATT12);
            ScanByEach_ShowScanByEachPage(inViewsKeys, skuInfo5, buttonActions5, otherInfo5, lotInfo);
            return;
        } else {
            showViewSingle(_div5Input, inViewsKeys);
            setValue(txt_Qty_5, order.FMQTY);
            if (sfc_GetNextId(txt_Sku_5, sfc_Code_5) == but_Confirm_5) {
                but_Confirm_5_Action(but_Confirm_5);
            } else {
                autoFocus(sfc_GetNextId(txt_Sku_5, sfc_Code_5));
            }
        }
    }
}

function but_Confirm_ScanByEach_5_Action() {
    showViewSingle(_div5Input, inViewsKeys);
    setValue(txt_Qty_5, ScanByEach_GetScanResult());
    autoFocus(sfc_GetNextId(txt_Qty_5, sfc_Code_5));
}

function but_Cancel_ScanByEach_5_Action() {
    showViewSingle(_div5Input, inViewsKeys);
    autoFocus(sfc_GetNextId(txt_Qty_5, sfc_Code_5));
}

function txt_Qty_5_Action(id) {
    checkQtyAndUomAciton5(id);
}

function checkQtyAndUomAciton5(id) {
    var qtyValue = getValue2(txt_Qty_5);
    if (!first_CheckNumber(qtyValue) && qtyValue != "0") {
        autoFocus(txt_Qty_5);
        return;
    }
    var uomValue = getValue2(cmb_Uom_5);
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    var qty = order.FMQTY;
    var uom = order.FMUOM;
    var input_UomQty = 1;
    var db_UomQty = 1;
    for (var i = 0; i < buf_UomAndQty_5.length; i++) {
        if (uomValue == buf_UomAndQty_5[i][0]) {
            input_UomQty = parseInt(buf_UomAndQty_5[i][1]);
        }
        if (uom == buf_UomAndQty_5[i][0]) {
            db_UomQty = parseInt(buf_UomAndQty_5[i][1]);
        }
    }
    if (parseFloat(qtyValue) * input_UomQty != parseFloat(qty) * db_UomQty) {
        if (id == txt_Qty_5 && sfc_CanFocus(cmb_Uom_5, sfc_Code_5)) {
            autoFocus(cmb_Uom_5);
            return;
        }
        if (sfc_CanFocus(cmb_ReasonCode_5, sfc_Code_5)) {
            autoFocus(cmb_ReasonCode_5);
            return;
        }
    }
    autoFocus(sfc_GetNextId(id, sfc_Code_5));
}

function cmb_Uom_5_Action(id) {
    checkQtyAndUomAciton5(id);
}

function cmb_ReasonCode_5_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_5));
}

function txt_DropId_5_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_5));
}

function txt_ToLocation_5_Action(id) {
    autoFocus(sfc_GetNextId(id, sfc_Code_5));
}

function txt_CheckQty_5_Action(id) {
    var qtyValue = getValue2(txt_CheckQty_5);
    if (!first_CheckNumber(qtyValue) && qtyValue != "0") {
        autoFocus(txt_CheckQty_5);
        return;
    }
    autoFocus(sfc_GetNextId(txt_CheckQty_5, sfc_Code_5));
}

function but_LastOne_5_Action(id) {
    if (buf_OrderIndex_5 > 0) {
        buf_OrderIndex_5--;
        showPage5Action(null, null, true);
    }
}

function but_Confirm_5_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_5);
    autoFocus(nextId);
}

function DoConfirm5Action(id) {
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    var fmSkuValue = getValue2(txt_Sku_5);
    var fmSkuValueOld = "";
    fmSkuValueOld = order.SKU;
    if (fmSkuValue != fmSkuValueOld.toUpperCase()) {
        autoFocus("ERROR" + txt_Sku_5);
        return;
    }
    var qtyValue = getValue2(txt_Qty_5);
    if (!first_CheckNumber(qtyValue) && parseFloat(qtyValue) == 0) {
        autoFocus(txt_Qty_5);
        return;
    }
    var pck_Inv_Cou = getValue2(hide_Pck_Inv_Cou);
    var checkQtyValue = getValue2(txt_CheckQty_5);
    if (!first_CheckNumber(checkQtyValue) && parseFloat(qtyValue) == 0) {
        autoFocus(txt_CheckQty_5);
        return;
    }
    var uomValue = getValue2(cmb_Uom_5);
    var input_UomQty = 1;
    for (var i = 0; i < buf_UomAndQty_5.length; i++) {
        if (uomValue == buf_UomAndQty_5[i][0]) {
            input_UomQty = parseInt(buf_UomAndQty_5[i][1]);
            break;
        }
    }
    var WCO_IND_WGT_PCT = first_GetParameterValue(IND_WGT_PCT, order.CUSTOMERID, order.DOCTYPE);
    WCO_IND_WGT_PCT = first_CheckNumber(WCO_IND_WGT_PCT) ? parseFloat(WCO_IND_WGT_PCT) : 0;
    if (order.PICKBYWEIGHT == "Y" && order.OVERPREALLOCATION == "Y" && parseFloat(qtyValue) * parseFloat(input_UomQty) > parseFloat(order.FMQTY_EACH) * (1 + WCO_IND_WGT_PCT / 100)) {
        autoFocus("ERROR" + txt_Qty_5);
        return;
    }
    var couQtySameFlag = (parseFloat(checkQtyValue) + parseFloat(qtyValue)) * input_UomQty == parseFloat(buf_InvQty_5) ? true : false;
    if (pck_Inv_Cou == "1" && !couQtySameFlag) {
        setValue(hide_CheckQty_5, checkQtyValue);
    } else {
        if (pck_Inv_Cou == "2" && !couQtySameFlag) {
            if (checkQtyValue != getValue2(hide_CheckQty_5)) {
                setValue(hide_CheckQty_5, checkQtyValue);
                autoFocus("ERROR" + txt_CheckQty_5);
                return;
            } else {
                setValue(hide_CheckQty_5, checkQtyValue);
            }
        } else {
            setValue(hide_CheckQty_5, "");
        }
    }
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_5);
    var fmLocationValueOld = "";
    fmLocationValueOld = order.FMLOCATION;
    if (fmLocationValue != fmLocationValueOld.toUpperCase()) {
        if (getValue2(hide_Pck_Chg_Loc) != "Y") {
            startMusic();
            updateMessageBar(hide_Message_14);
            return;
        } else {
            if (startMusic() || !first_EchoMessage(getValue(hide_Message_30), first_Confirm, "")) {
                startMusic();
                updateMessageBar(hide_Message_14);
                return;
            }
        }
    }
    var fmFmTraceIdValue = getValue2(txt_FmTraceId_5);
    var fmFmTraceIdValueOld = "";
    fmFmTraceIdValueOld = getValue2(wxt_FmTraceId_5);
    if (fmFmTraceIdValue != fmFmTraceIdValueOld.toUpperCase()) {
        updateMessageBar(hide_Message_16);
        return;
    }
    var fmLocationValue = first_GetLocationValue(txt_FmLocation_5);
    var fmTraceIdValue = getValue2(txt_FmTraceId_5);
    var uomValue = getValue2(cmb_Uom_5);
    var toLocationValue = first_GetLocationValue(txt_ToLocation_5);
    var toTraceIdValue = getValue2(txt_DropId_5);
    if (order.FMLOCATION != fmLocationValue || order.FMID != fmTraceIdValue || parseFloat(order.FMQTY) != parseFloat(qtyValue) || order.FMUOM != uomValue || order.PLANTOLOCATION != toLocationValue || order.PLANTOID != toTraceIdValue) {
        setValue(hide_FmLocation_5, fmLocationValue);
        setValue(hide_FmTraceId_5, fmTraceIdValue);
        setValue(hide_Qty_5, qtyValue);
        setValue(hide_Uom_5, uomValue);
        setValue(hide_ToLocation_5, toLocationValue);
        setValue(hide_ToTraceId_5, toTraceIdValue);
        setValue(hide_ReasonCode_5, getValue2(cmb_ReasonCode_5));
        setValue(hide_ReasonName_5, getOptionText(cmb_ReasonCode_5));
        if (order.FMLOCATION != fmLocationValue || order.FMID != fmTraceIdValue) {
            setValue(hide_isChanged_5, "Y");
        } else {
            setValue(hide_isChanged_5, "N");
        }
    } else {
        setValue(hide_FmLocation_5, "");
        setValue(hide_FmTraceId_5, "");
        setValue(hide_Qty_5, "");
        setValue(hide_Uom_5, "");
        setValue(hide_ToLocation_5, "");
        setValue(hide_ToTraceId_5, "");
        setValue(hide_ReasonCode_5, "");
        setValue(hide_ReasonName_5, "");
    }
    doCheck3Action();
}

function doCheck3Action() {
    if (buf_MedicineSpecicalControl_1 != null && buf_MedicineSpecicalControl_1 != "" && buf_MedicineSpecicalControl_1 == "Y" && getValue(hide_Dbl_Cfm_Pck) == "Y") {
        DoubleCheck_Init(inViewsKeys, "doCheck4Action", getValue3(txt_Sku_5), getValue3(wxt_SkuName_5), buf_OrderInfo_3[buf_OrderIndex_3].ALTERNATE_SKU1, buf_OrderInfo_3[buf_OrderIndex_3].RESERVEDFIELD01, getValue3(txt_Qty_5), buf_OrderInfo_3[buf_OrderIndex_3].ALTERNATE_SKU4);
        return;
    } else {
        _prevView = _div5Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doPickingAction", QSKeys, doPickingAction5);
    }
}

function doCheck4Action(isOk, doubleCheckName) {
    if (isOk) {
        buf_MedicineSpecicalControl_1 = "";
        first_SetNextMusicOff();
        _prevView = _div5Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doPickingAction", QSKeys, doPickingAction5);
        return;
    } else {
        showViewSingle(_div5Input, inViewsKeys);
        autoFocus(but_Confirm_5);
    }
}

function doPickingAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            playMusic("OK");
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            showViewSingle(_prevView, inViewsKeys);
            showPage5Action(obj1, obj2, true);
            var msg = returnMessage.split("=:=");
            if (msg.length > 0 && msg[0].length > 0) {
                updateMessageBar(msg[0]);
            } else {
                updateMessageBar(hide_Message_26);
            }
            if (msg[1] != null && msg[1].length > 0) {
                first_EchoMessage(msg[1], first_Alert, "");
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                initHtmlPage();
                playMusic("OK");
                var msg = returnMessage.split("=:=");
                if (msg.length > 0 && msg[0].length > 0) {
                    setInnerHTML("lbl_Message_1", msg[0]);
                } else {
                    updateMessageBar(hide_Message_27);
                }
                if (msg[1] != null && msg[1].length > 0) {
                    first_EchoMessage(msg[1], first_Alert, "");
                }
            } else {
                playMusic("ERROR");
                showViewSingle(_prevView, inViewsKeys);
                if (returnMessage == "CHECKNOLOCATION") {
                    setFocus(txt_ToLocation_5);
                    updateMessageBar(hide_Message_38);
                } else {
                    first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                    setFocus2(but_Confirm_5);
                }
            }
        }
    }
}

function but_Cancel_5_Action(id) {
    setValue(hide_Sku_5, "");
    setValue(hide_LotNum_5, "");
    setValue(hide_CheckQty_5, "");
    setValue(hide_AllocationDetailsId_5, "");
    setValue(hide_DocNo_5, "");
    setValue(hide_DocLineNo_5, "");
    setValue(hide_LotNum_5, "");
    setValue(hide_PackId_5, "");
    setValue(hide_CustomerId_5, "");
    setValue(hide_FmLocation_5, "");
    setValue(hide_FmTraceId_5, "");
    setValue(hide_FmLocation_3, "");
    setValue(hide_FmTraceId_3, "");
    setValue(hide_Sku_3, "");
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_1));
}

function but_NextOne_5_Action(id) {
    if (buf_OrderIndex_5 < buf_OrderSize_5 - 1) {
        buf_OrderIndex_5++;
        if (buf_OrderIndex_5 >= buf_OrderInfo_5.length - 1) {
            setValue(hide_FmLocation_5, "");
            setValue(hide_FmTraceId_5, "");
            setValue(hide_Sku_5, "");
            setValue(hide_TopX_1, parseInt(getValue2(hide_TopX_1)) * 2);
            _prevView = _div5Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "getOrderInfoAction", QSKeys, getOrderInfoAction);
        } else {
            showPage5Action(null, null, true);
        }
    }
}

function but_QueryPickingStatus_5_Action(id) {
    var order = buf_OrderInfo_5[buf_OrderIndex_5];
    sfc_SetValue(wxt_PickedQty_6, order.PICKEDQTY, sfc_Code_6);
    sfc_SetValue(wxt_AllPickQty_6, order.ALLPICKEDQTY, sfc_Code_6);
    sfc_SetValue(wxt_PickedTaskQty_6, order.PICKEDTASKQTY, sfc_Code_6);
    sfc_SetValue(wxt_AllPickTaskQty_6, order.ALLPICKEDTASKQTY, sfc_Code_6);
    showPageSix();
}

function but_StockOut_5_Action(id) {
    startMusic();
    if (first_EchoMessage(getValue3(hide_Message_37), first_Confirm, "")) {
        var order = buf_OrderInfo_5[buf_OrderIndex_5];
        setValue(hide_isChanged_5, "Y");
        setValue(hide_AllocationDetailsId_5, order.ALLOCATIONDETAILSID);
        setValue(hide_DocNo_5, order.DOCNO);
        setValue(hide_DocLineNo_5, order.DOCLINENO);
        setValue(hide_LotNum_5, order.FMLOTNUM);
        setValue(hide_FmLocation_5, first_GetLocationValue(wxt_FmLocation_5));
        setValue(hide_FmTraceId_5, getValue2(wxt_FmTraceId_5));
        setValue(hide_Qty_5, "0");
        setValue(hide_Uom_5, "EA");
        setValue(hide_PackId_5, order.FMPACKID);
        setValue(hide_ToLocation_5, "");
        setValue(hide_ToTraceId_5, "");
        setValue(hide_ReasonCode_5, "SS");
        setValue(hide_ReasonName_5, "SS");
        first_SetNextMusicOff();
        _prevView = _div5Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doStockOutAction", QSKeys, doStockOutAction5);
    } else {
        autoFocus(but_StockOut_5);
    }
}

function doStockOutAction5(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            playMusic("ERROR");
            var obj1 = replyData.strData1;
            var obj2 = replyData.strData2;
            showViewSingle(_prevView, inViewsKeys);
            showPage5Action(obj1, obj2, true);
            if (returnMessage != null && returnMessage.length > 0) {
                updateMessageBar(returnMessage);
            } else {
                updateMessageBar(hide_Message_41);
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                initHtmlPage();
                playMusic("OK");
                var msg = returnMessage.split("=:=");
                if (msg.length > 0 && msg[0].length > 0) {
                    setInnerHTML("lbl_Message_1", msg[0]);
                } else {
                    updateMessageBar(hide_Message_27);
                }
                if (msg[1] != null && msg[1].length > 0) {
                    first_EchoMessage(msg[1], first_Alert, "");
                }
            } else {
                playMusic("ERROR");
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function showPageSix() {
    showViewSingle(_div6Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_6));
    updateMessageBar("");
}

function but_Confirm_6_Action(id) {
    but_Cancel_6_Action(id);
}

function but_Cancel_6_Action(id) {
    if (getValue2(hide_Pck_Scr_Mod) == "SIMPLE") {
        showPage5Action(null, null, false);
    } else {
        showPage3Action(null, null, false);
    }
}

function but_Confirm_7_Action(id) {
    if (buf_SkuListIndex_3 != -1) {
        setValue(txt_Sku_3, buf_DocList_7[buf_SkuListIndex_3].SKU);
    }
    showViewSingle(_div3Input, inViewsKeys);
    setFocus(txt_Sku_3);
}

function but_Cancel_7_Action(id) {
    showViewSingle(_div3Input, inViewsKeys);
    setFocus(txt_Sku_3);
}

function but_QueryArea_1_Action(id) {
    setValue(hide_Area_1, getValue2(txt_Area_1));
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getAreaNoListAction", QSKeys, getAreaNoListAction);
}

function getAreaNoListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            buf_AreaList_2 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                buf_AreaList_2.push(new Array(obj2[i].ZONEGROUP));
            }
            Table_CreateTable(div_AreaList_8, new Array(getValue(hide_Lbl_04)), buf_AreaList_2, 10, "doAreaListSingleClickAction", "doAreaListSingleDoubleAction", "doAreaListSingleDeleteAction", false, false);
            showViewSingle(_div8Input, inViewsKeys);
            autoFocus(but_Confirm_8);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_42), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Confirm_8_Action(id) {
    var index = Table_GetSelectIndex(div_AreaList_8);
    if (index >= 0) {
        setValue(txt_Area_1, buf_AreaList_2[index]);
    }
    but_Cancel_8_Action(id);
}

function but_Cancel_8_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus("init");
}

function doAreaListSingleClickAction(index) {
}

function doAreaListSingleDoubleAction(index) {
    but_Confirm_8_Action("");
}

function doAreaListSingleDeleteAction(index) {
}

function but_QueryZone_1_Action(id) {
    setValue(hide_Area_1, getValue2(txt_Area_1));
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getZoneNoListAction", QSKeys, getZoneNoListAction);
}

function getZoneNoListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            buf_ZoneList_2 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                buf_ZoneList_2.push(new Array(obj2[i].ZONE));
            }
            Table_CreateTable(div_ZoneList_9, new Array(getValue(hide_Lbl_05)), buf_ZoneList_2, 10, "doZoneListSingleClickAction", "doZoneListSingleDoubleAction", "doZoneListSingleDeleteAction", false, false);
            showViewSingle(_div9Input, inViewsKeys);
            autoFocus(but_Confirm_9);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_43), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Confirm_9_Action(id) {
    var index = Table_GetSelectIndex(div_ZoneList_9);
    if (index >= 0) {
        setValue(txt_Zone_1, buf_ZoneList_2[index]);
    }
    but_Cancel_9_Action(id);
}

function but_Cancel_9_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus("init");
}

function doZoneListSingleClickAction(index) {
}

function doZoneListSingleDoubleAction(index) {
    but_Confirm_9_Action("");
}

function doZoneListSingleDeleteAction(index) {
}

function but_QueryLocGroup1_1_Action(id) {
    setValue(hide_LocGroup1_1, getValue2(txt_LocGroup1_1));
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getLocGroup1NoListAction", QSKeys, getLocGroup1NoListAction);
}

function getLocGroup1NoListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            buf_LocGroup1List_2 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                buf_LocGroup1List_2.push(new Array(obj2[i].LOCGROUP1));
            }
            Table_CreateTable(div_LocGroup1List_10, new Array(getValue(hide_Lbl_06)), buf_LocGroup1List_2, 10, "doLocGroup1ListSingleClickAction", "doLocGroup1ListSingleDoubleAction", "doLocGroup1ListSingleDeleteAction", false, false);
            showViewSingle(_div10Input, inViewsKeys);
            autoFocus(but_Confirm_10);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_44), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Confirm_10_Action(id) {
    var index = Table_GetSelectIndex(div_LocGroup1List_10);
    if (index >= 0) {
        setValue(txt_LocGroup1_1, buf_LocGroup1List_2[index]);
    }
    but_Cancel_10_Action(id);
}

function but_Cancel_10_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus("init");
}

function doLocGroup1ListSingleClickAction(index) {
}

function doLocGroup1ListSingleDoubleAction(index) {
    but_Confirm_10_Action("");
}

function doLocGroup1ListSingleDeleteAction(index) {
}

function but_QueryLocGroup2_1_Action(id) {
    setValue(hide_OrderNo_1, getValue2(txt_OrderNo_1));
    setValue(hide_LocGroup2_1, getValue2(txt_LocGroup2_1));
    setValue(hide_Zone_1, getValue2(txt_Zone_1));
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getLocGroup2NoListAction", QSKeys, getLocGroup2NoListAction);
}

function getLocGroup2NoListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            buf_LocGroup2List_2 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                buf_LocGroup2List_2.push(new Array(obj2[i].LOCGROUP2));
            }
            Table_CreateTable(div_LocGroup2List_11, new Array(getValue(hide_Lbl_07)), buf_LocGroup2List_2, 10, "doLocGroup2ListSingleClickAction", "doLocGroup2ListSingleDoubleAction", "doLocGroup2ListSingleDeleteAction", false, false);
            showViewSingle(_div11Input, inViewsKeys);
            autoFocus(but_Confirm_11);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(getValue(hide_Message_45), first_Alert, "updateMessageBar");
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Confirm_11_Action(id) {
    var index = Table_GetSelectIndex(div_LocGroup2List_11);
    if (index >= 0) {
        setValue(txt_LocGroup2_1, buf_LocGroup2List_2[index]);
    }
    but_Cancel_11_Action(id);
}

function but_Cancel_11_Action(id) {
    showViewSingle(_div1Input, inViewsKeys);
    autoFocus("init");
}

function doLocGroup2ListSingleClickAction(index) {
}

function doLocGroup2ListSingleDoubleAction(index) {
    but_Confirm_11_Action("");
}

function doLocGroup2ListSingleDeleteAction(index) {
}

var SerialNoControl_Task = "";

function SerialNoControl_InitAction(confirmAction, cancelAction, type, scanInfo, noList) {
    SerialNoControl_SetParameter();
    for (var i = 0; i < SerialNoControl_Qkeys.length; i++) {
        if (SerialNoControl_Qkeys[i] == "break") {
            break;
        }
        setValue(SerialNoControl_Qkeys[i], "");
    }
    SerialNoControl_GiveUpFlag = false;
    SerialNoControl_ConfirmAction = confirmAction;
    SerialNoControl_CancelAction = cancelAction;
    SerialNoControl_Type = type;
    SerialNoControl_Sku = scanInfo[0];
    SerialNoControl_CustomerId = scanInfo[1];
    SerialNoControl_Qty = parseInt(scanInfo[2]);
    SerialNoControl_Uom = scanInfo[3];
    SerialNoControl_OrderType = scanInfo[4];
    SerialNoControl_LotAtt12 = SerialNoControl_IsInt(scanInfo[5]) ? parseInt(scanInfo[5]) : 0;
    SerialNoControl_Task = scanInfo[6];
    if (scanInfo[6] == "M") {
        setDisabled(SerialNoControl_But_GiveUp_1, true);
    }
    SerialNoControl_ScanSerialNoList = new Array();
    SerialNoControl_MaxQty = 0;
    SerialNoControl_MinQty = 0;
    SerialNoControl_SkuInfo = null;
    SerialNoControl_SerialRules = null;
    SerialNoControl_SerialNoInDatabaseList = "";
    SerialNoControl_LastScanSerialNo = "";
    SerialNoControl_LastScanSerialNoFrom = "";
    SerialNoControl_LastScanSubSerialNoFrom = "";
    setValue(SerialNoControl_Hide_Type_1, SerialNoControl_Type);
    setValue(SerialNoControl_Hide_Sku_1, SerialNoControl_Sku);
    setValue(SerialNoControl_Hide_CustomerId_1, SerialNoControl_CustomerId);
    setValue(SerialNoControl_Hide_Uom_1, SerialNoControl_Uom);
    setValue(SerialNoControl_Sn_Ctl, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Ctl), SerialNoControl_CustomerId, SerialNoControl_OrderType));
    setValue(SerialNoControl_Sn_Dsp_Ctl, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Dsp_Ctl), SerialNoControl_CustomerId, SerialNoControl_OrderType));
    if (noList != null || noList.length != 0) {
        setValue(SerialNoControl_Hide_AsnNo_1, noList[0]);
        setValue(SerialNoControl_Hide_OrderNo_1, noList[0]);
        setValue(SerialNoControl_Aut_Cfm_Isn, first_GetParameterValue(getValue(SerialNoControl_Wco_Aut_Cfm_Isn), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Pck_Val_I, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Pck_Val_I), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Pck_Val_S, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Pck_Val_S), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Rcv_Val_I, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Rcv_Val_I), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Rcv_Val_S, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Rcv_Val_S), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Shp_Stk, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Shp_Stk), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Shp_Unq, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Shp_Unq), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Val_Lst_I, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Val_Lst_I), SerialNoControl_CustomerId, SerialNoControl_OrderType));
        setValue(SerialNoControl_Sn_Val_Lst_S, first_GetParameterValue(getValue(SerialNoControl_Wco_Sn_Val_Lst_S), SerialNoControl_CustomerId, SerialNoControl_OrderType));
    }
    if (getValue(SerialNoControl_Sn_Ctl) != "1" && getValue(SerialNoControl_Sn_Ctl) != "2") {
        SerialNoControl_GiveUpFlag = true;
        SerialNoControl_IsEnd();
        return;
    }
    SerialNoControl__PrevView = SerialNoControl_Div_01;
    showViewSingle(SerialNoControl_Div1Waiting);
    doServerAction(SerialNoControl_ClassName, "SerialNoControl_GetSerialRuleAction", SerialNoControl_Qkeys, SerialNoControl_GetSerialRuleAction);
}

function do_SerialNoControl_Txt_SerialNo_1_Action(id) {
    if (SerialNoControl_MaxQty > 0 && SerialNoControl_ScanSerialNoList.length + 1 > SerialNoControl_MaxQty) {
        startMusic();
        first_EchoMessage(getValue(SerialNoControl_Hide_Message_08), first_Alert, "SerialNoControl_ShowMessage");
        setFocus(id);
        return;
    }
    var serialNoValue = getValue2(id);
    if (serialNoValue.length == 0) {
        startMusic();
        SerialNoControl_ShowMessageById(SerialNoControl_Hide_Message_01);
        setFocus(id);
        return;
    }
    var otherInfo = null;
    var paramInfo = new Array("RF_SCAN_SN", SerialNoControl_Task, SerialNoControl_Sku, "*", "", serialNoValue);
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, SerialNoControl_SerialNo_returnFunction, otherInfo);

    function SerialNoControl_SerialNo_returnFunction() {
        var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
        var returnCode = skuInfo[0];
        if (returnCode == codeValue_OK) {
            var serialNoOutput = skuInfo[18];
            showViewSingle(SerialNoControl__PrevView);
            if (serialNoOutput != "") {
                serialNoValue = serialNoOutput;
            }
            if (SerialNoControl_GetEncodingRule("1") != "") {
                if (serialNoValue.length == 0) {
                    startMusic();
                    SerialNoControl_ShowMessageById(SerialNoControl_Hide_Message_01);
                    setFocus(id);
                    return;
                }
                UserDefine_SerialNoControl_AnalyzerSeialNo("1", SerialNoControl_GetEncodingRule("1"), serialNoValue, "", SerialNoControl_Sku, SerialNoControl_CustomerId, getValue(hide_WaittingPage_WarehouseId));
                return;
            }
            var checkSameSerial = SerialNoControl_CheckSameSerialNo("1", new Array(serialNoValue));
            if (checkSameSerial != 999) {
                startMusic();
                if (checkSameSerial == 1) {
                    first_EchoMessage(getValue(SerialNoControl_Hide_Message_05), first_Alert, "SerialNoControl_ShowMessage");
                } else {
                    if (checkSameSerial == 2) {
                        first_EchoMessage(getValue(SerialNoControl_Hide_Message_06), first_Alert, "SerialNoControl_ShowMessage");
                    } else {
                        if (checkSameSerial == 3) {
                            first_EchoMessage(getValue(SerialNoControl_Hide_Message_07), first_Alert, "SerialNoControl_ShowMessage");
                        }
                    }
                }
                setFocus(id);
                return;
            }
            var checkRul = SerialNoControl_CheckSerialNoRul(new Array(serialNoValue), 1);
            if (checkRul != 999) {
                startMusic();
                first_EchoMessage(getValue(SerialNoControl_Hide_Message_04) + "[" + checkRul + "]", first_Alert, "SerialNoControl_ShowMessage");
                setFocus(id);
                return;
            }
            if (SerialNoControl_SkuNotEqualsSerialNoFlag) {
                var checkSkuNotEqualsSerialNo = SerialNoControl_checkSkuNotEqualsSerialNo(new Array(serialNoValue));
                if (checkSkuNotEqualsSerialNo != 999) {
                    startMusic();
                    first_EchoMessage(getValue(SerialNoControl_Hide_Message_13), first_Alert, "SerialNoControl_ShowMessage");
                    setFocus(id);
                    return;
                }
            }
            startMusic2();
            SerialNoControl_LastScanSerialNo = serialNoValue;
            if (getValue(SerialNoControl_Sn_Ctl) == 2) {
                SerialNoControl_ShowMessageById(SerialNoControl_Hide_Message_03);
                if (SerialNoControl_GetSN_BCH(2) == "Y") {
                    setFocus(SerialNoControl_Txt_SubSerialNoFrom_1);
                } else {
                    setFocus(SerialNoControl_Txt_SubSerialNo_1);
                }
                return;
            } else {
                if (SerialNoControl_SkuInfo.SECONDSERIALNOCATCH == "Y") {
                    SerialNoControl_ShowMessageById(SerialNoControl_Hide_Message_02);
                    setFocus(SerialNoControl_Txt_SecondSerialNo_1);
                    return;
                }
            }
            SerialNoControl_PushInScanSerialNoList(serialNoValue, "", "", "", "", "", "", "", "");
            SerialNoControl_RefreshPage();
        } else {
            if (returnCode == codeValue_NORECORD) {
                showViewSingle(SerialNoControl__PrevView);
                setFocus(id);
                first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
            } else {
                showViewSingle(SerialNoControl__PrevView);
                setFocus(id);
                first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
            }
        }
    }
}