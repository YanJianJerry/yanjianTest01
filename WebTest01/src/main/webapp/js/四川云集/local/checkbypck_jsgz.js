var className = "CheckByPack";
document.write("<script type='text/javascript' src='rfbiz/include/publicFuncPart/morePages/morepages.jsgz'><\/script>");
var txt_OrderNo_1 = "txt_OrderNo_1";
var TXT_PICKTOTRACEID = "TXT_PICKTOTRACEID";
var TXT_USERID = "TXT_USERID";
var TXT_PASSWORD = "TXT_PASSWORD";
var txt_Qty_7 = "txt_Qty_7";
var txt_Qty_8 = "txt_Qty_8";
var cmb_ReasonType_8 = "cmb_ReasonType_8";
var txt_Location_8 = "txt_Location_8";
var txt_Carton_8 = "txt_Carton_8";
var chk_OrderNoSave_1 = "chk_OrderNoSave_1";
var but_List_1 = "but_List_1";
var BUT_CONFIRM = "BUT_CONFIRM";
var BUT_CANCEL = "BUT_CANCEL";
var but_ReversePick_1 = "but_ReversePick_1";
var BUT_PREVIOUS = "BUT_PREVIOUS";
var BUT_NEXT = "BUT_NEXT";
var BUT_CONFIRM_2 = "BUT_CONFIRM_2";
var BUT_CANCEL_2 = "BUT_CANCEL_2";
var but_ScanSerialNo = "but_ScanSerialNo";
var BUT_Exception_3 = "BUT_Exception_3";
var BUT_CONFIRM_3 = "BUT_CONFIRM_3";
var BUT_CANCEL_3 = "BUT_CANCEL_3";
var BUT_CONFIRM_4 = "BUT_CONFIRM_4";
var BUT_CANCEL_4 = "BUT_CANCEL_4";
var but_Confirm_5 = "but_Confirm_5";
var but_Confirm_6 = "but_Confirm_6";
var but_Cancel_6 = "but_Cancel_6";
var but_Split_6 = "but_Split_6";
var but_Confirm_7 = "but_Confirm_7";
var but_Cancel_7 = "but_Cancel_7";
var but_Confirm_8 = "but_Confirm_8";
var but_Cancel_8 = "but_Cancel_8";
var wxt_KindsOfSku_1 = "wxt_KindsOfSku_1";
var wxt_TotalCartonQty_1 = "wxt_TotalCartonQty_1";
var wxt_QtyEach_1 = "wxt_QtyEach_1";
var LBL_SKU = "LBL_SKU";
var LBL_SKUDESCR = "LBL_SKUDESCR";
var LBL_QTY = "LBL_QTY";
var LBL_UOM = "LBL_UOM";
var LBL_UDF1 = "LBL_UDF1";
var LBL_UDF2 = "LBL_UDF2";
var LBL_UDF3 = "LBL_UDF3";
var LBL_SHOWLOT = "LBL_SHOWLOT";
var LBL_MEDICALCODE = "LBL_MEDICALCODE";
var LBL_MEDICALNAME = "LBL_MEDICALNAME";
var LBL_MEDICALSPEC = "LBL_MEDICALSPEC";
var LBL_MEDICALMANUFACTURER = "LBL_MEDICALMANUFACTURER";
var LBL_QTY_4 = "LBL_QTY_4";
var LBL_UOM_4 = "LBL_UOM_4";
var wxt_SkuName_7 = "wxt_SkuName_7";
var wxt_Qty_7 = "wxt_Qty_7";
var wxt_Uom_7 = "wxt_Uom_7";
var wxt_SkuName_8 = "wxt_SkuName_8";
var wxt_Qty_8 = "wxt_Qty_8";
var wxt_Sku_8 = "wxt_Sku_8";
var div_Lot_3 = "div_Lot_3";
var div_IdList_5 = "div_IdList_5";
var div_ReversePickList_6 = "div_ReversePickList_6";
var lastSEQUpdate = 0;
var lastSEQUpdate1 = 0;
var lastSEQUpdate5 = 0;
var lastSEQUpdate6 = 0;
var lastSEQUpdate9 = 0;
var lastSEQUpdate4 = 0;
var lastSEQUpdate3 = 0;
var lastDemoUpdate = 0;
var lastSEQUpdate2 = 0;
var lastSEQUpdate10 = 0;
var lastSEQUpdate7 = 0;
var lastSEQUpdate8 = 0;
var HIDDEN_PAGENOW = "HIDDEN_PAGENOW";
var HIDE_PICKTOTRACEID = "HIDE_PICKTOTRACEID";
var hide_OrderNo_1 = "hide_OrderNo_1";
var hide_Rf_Sku_Ud1 = "hide_Rf_Sku_Ud1";
var hide_Pkg_Cfm_Pck = "hide_Pkg_Cfm_Pck";
var hide_Status_1 = "hide_Status_1";
var HIDE_CUSTOMERID = "HIDE_CUSTOMERID";
var HIDE_LOCATION = "HIDE_LOCATION";
var HIDE_SKU = "HIDE_SKU";
var hide_SerialNoList = "hide_SerialNoList";
var hide_LotNum_2 = "hide_LotNum_2";
var HIDE_USERID = "HIDE_USERID";
var HIDE_PASSWORD = "HIDE_PASSWORD";
var HIDE_ORDERNO_4 = "HIDE_ORDERNO_4";
var HIDE_ALLOCATIONDETAILSID = "HIDE_ALLOCATIONDETAILSID";
var HIDE_ORDERLINENO = "HIDE_ORDERLINENO";
var HIDE_SKULINENO = "HIDE_SKULINENO";
var hide_ReverseAllocationDetailsIdList = "hide_ReverseAllocationDetailsIdList";
var hide_Qty_7 = "hide_Qty_7";
var hide_AllocationDetailsId_7 = "hide_AllocationDetailsId_7";
var hide_Qty_8 = "hide_Qty_8";
var hide_ReasonType_8 = "hide_ReasonType_8";
var hide_Location_8 = "hide_Location_8";
var hide_Carton_8 = "hide_Carton_8";
var hide_RF_CHK_UNT = "hide_RF_CHK_UNT";
var hide_CHK_ORD_PCK = "hide_CHK_ORD_PCK";
var HIDE_UDF1 = "HIDE_UDF1";
var HIDE_UDF2 = "HIDE_UDF2";
var HIDE_UDF3 = "HIDE_UDF3";
var flag = true;
var QSKeys = new Array(HIDE_PICKTOTRACEID, hide_OrderNo_1, hide_Rf_Sku_Ud1, hide_Pkg_Cfm_Pck, hide_Qty_7, HIDE_UDF1, HIDE_UDF2, HIDE_UDF3, HIDE_CUSTOMERID, HIDE_SKU, hide_SerialNoList, hide_LotNum_2, HIDE_USERID, HIDE_PASSWORD, HIDE_ALLOCATIONDETAILSID, HIDE_ORDERLINENO, HIDE_SKULINENO, HIDE_ORDERNO_4, HIDDEN_PAGENOW, hide_RF_CHK_UNT, hide_CHK_ORD_PCK, hide_ReverseAllocationDetailsIdList, hide_AllocationDetailsId_7, hide_Qty_8, hide_ReasonType_8, hide_Location_8, hide_Carton_8, hide_Status_1, "break");
var msg01 = "";
var msg02 = "";
var msg03 = "";
var msg04 = "";
var msg05 = "";
var msg06 = "";
var msg07 = "";
var msg08 = "";
var msg09 = "";
var msg10 = "";
var msg11 = "";
var msg12 = "";
var msg13 = "";
var msg14 = "";
var msg15 = "";
var msg16 = "";
var msg17 = "";
var msg18 = "";
var msg19 = "";
var msg20 = "";
var msg21 = "";
var _div1Input = "div1Input";
var _div2Input = "div2Input";
var _div3Input = "div3Input";
var _div4Input = "div4Input";
var _div5Input = "div5Input";
var _div6Input = "div6Input";
var _div7Input = "div7Input";
var _div8Input = "div8Input";
var _div1Waiting = "div1Waiting";
var inViewsKeys = new Array(_div1Input, _div2Input, _div3Input, _div4Input, _div5Input, _div6Input, _div7Input, _div8Input, _div1Waiting, PublicJs_dynamicLot_divLotInput);
var _prevView = _div1Input;
var RF_CHK_UNT = "";
var udf1 = "";
var udf2 = "";
var udf3 = "";
var CHK_ORD_PCK = "";
var ORDER_ID_CHK = "";
var CHK_SKP_LOT = "";
var PKG_CFM_PCK = "";
var userd_AllInfo = null;
var userd_ArrInfo_Type = new Array();
var userd_AllInfo_Index = 0;
var userd_doubleCheckType = "N";
var userd_userId = "";
var userd_sLANG = "";
var userd_ScanWhenCheck = "";
var userd_SerialNoCatch = "";
var userd_SerialNoCatch_Order = "";
var userd_PickListInfo = null;
var userd_ReversePickInfo = null;
var userd_Choose = "<input type='checkbox' checked='checked' id='chk_&1'/>";
var userd_NoChoose = "<input type='checkbox' id='chk_&1'/>";
var userd_ChooseNow = -1;
var userd_TableId_1 = "userd_TableId_1";
var userd_ThNameList_1 = new Array();
var userd_TdContentList_1 = new Array();
var userd_MinLineNumber_1 = 8;
var userd_MaxLineNumber_1 = 8;
var userd_ShowLineNumber_1 = true;
var userd_ShowDeleteAction_1 = false;
var userd_ShowInfoByDESC_1 = false;
var userd_TableId_2 = "userd_TableId_2";
var userd_ThNameList_2 = new Array();
var userd_TdContentList_2 = new Array();
var userd_MinLineNumber_2 = 8;
var userd_MaxLineNumber_2 = 999;
var userd_ShowLineNumber_2 = true;
var userd_ShowDeleteAction_2 = false;
var userd_ShowInfoByDESC_2 = false;
var userd_TableId_3 = "userd_TableId_3";
var userd_ThNameList_3 = new Array();
var userd_TdContentList_3 = new Array();
var userd_MinLineNumber_3 = 11;
var userd_MaxLineNumber_3 = 11;
var userd_ShowLineNumber_3 = true;
var userd_ShowDeleteAction_3 = false;
var userd_ShowInfoByDESC_3 = false;
var userd_TableId_4 = "userd_TableId_4";
var userd_ThNameList_4 = new Array();
var userd_TdContentList_4 = new Array();
var userd_MinLineNumber_4 = 14;
var userd_MaxLineNumber_4 = 999;
var userd_ShowLineNumber_4 = true;
var userd_ShowDeleteAction_4 = false;
var userd_ShowInfoByDESC_4 = false;

function initHtmlPage() {
    _prevView = _div1Input;
    showViewSingle(_div1Input, inViewsKeys);
    initPageOne();
    initPageTwo();
    initPageThree();
    initPageFour();
    intiUserDefined();
    initPageEight();
    for (var i = 0; i < QSKeys.length; i++) {
        if (QSKeys[i] == "break") {
            break;
        } else {
            setValue(QSKeys[i], "");
        }
    }
    updateMessageBar2("");
    first_AutoFocus("init");
    setValue(hide_RF_CHK_UNT, RF_CHK_UNT);
    setValue(hide_CHK_ORD_PCK, CHK_ORD_PCK);
    setValue(HIDE_UDF1, udf1);
    setValue(HIDE_UDF2, udf2);
    setValue(HIDE_UDF3, udf3);
    setValue(HIDDEN_PAGENOW, 1);
}

function updateMessageBar(sNewStr) {
    setInnerHTML("messageBar_1", sNewStr);
    setInnerHTML("messageBar_2", sNewStr);
    setInnerHTML("messageBar_3", sNewStr);
    setInnerHTML("messageBar_4", sNewStr);
    setInnerHTML("messageBar_7", sNewStr);
    setInnerHTML("messageBar_8", sNewStr);
}

function updateMessageBar2(sNewStr) {
    setInnerHTML("messageBar2", sNewStr);
}

function returnPrevPage() {
    showViewSingle(_prevView, inViewsKeys);
}

function initPageOne() {
    if (getValue2(chk_OrderNoSave_1) != "Y") {
        setValue(txt_OrderNo_1, "");
    }
    setValue(TXT_PICKTOTRACEID, "");
    setValue(wxt_KindsOfSku_1, "");
    setValue(wxt_TotalCartonQty_1, "");
    setValue(wxt_QtyEach_1, "");
}

function initPageTwo() {
    setValue(LBL_SKU, "");
    setValue(LBL_SKUDESCR, "");
    setValue(LBL_QTY, "");
    setValue(LBL_UOM, "");
    setValue(LBL_UDF1, "");
    setValue(LBL_UDF2, "");
    setValue(LBL_UDF3, "");
    setDisabled(BUT_PREVIOUS, true);
    setDisabled(BUT_NEXT, true);
}

function initPageThree() {
}

function initPageFour() {
    setValue(TXT_USERID, "");
    setValue(TXT_PASSWORD, "");
    setValue(LBL_MEDICALCODE, "");
    setValue(LBL_MEDICALNAME, "");
    setValue(LBL_MEDICALSPEC, "");
    setValue(LBL_MEDICALMANUFACTURER, "");
    setValue(LBL_QTY_4, "");
    setValue(LBL_UOM_4, "");
}

function initPageSeven() {
    setValue(wxt_SkuName_7, "");
    setValue(wxt_Qty_7, "");
    setValue(wxt_Uom_7, "");
    setValue(txt_Qty_7, "");
}

function initPageEight() {
    setValue(wxt_SkuName_8, "");
    setValue(wxt_Qty_8, "");
    setValue(cmb_ReasonType_8, "OK");
    setValue(txt_Location_8, "");
    setValue(txt_Qty_8, "");
    setValue(txt_Carton_8, "");
}

function intiUserDefined() {
    userd_AllInfo = null;
    userd_ArrInfo_Type = new Array();
    userd_AllInfo_Index = 0;
    userd_doubleCheckType = "N";
}

function first_ActionControl(id, event) {
    if (event == null || event.keyCode == 13) {
        if (id == txt_OrderNo_1) {
            txtOrderNo1Action();
            return;
        }
        if (id == TXT_PICKTOTRACEID) {
            txtPickToTraceIdAction();
            return;
        }
        if (id == but_List_1) {
            butList1Action();
            return;
        }
        if (id == but_ReversePick_1) {
            butReversePickAction();
            return;
        }
        if (id == BUT_CONFIRM) {
            BUT_CONFIRM_ACTION();
            return;
        }
        if (id == BUT_CANCEL) {
            first_But_Cancel_Action();
            return;
        }
        if (id == BUT_PREVIOUS) {
            BUT_PREVIOUS_ACTION();
            return;
        }
        if (id == BUT_NEXT) {
            BUT_NEXT_ACTION();
            return;
        }
        if (id == but_ScanSerialNo) {
            but_ScanSerialNo_Action();
            return;
        }
        if (id == BUT_CONFIRM_2) {
            BUT_CONFIRM_2_ACTION();
            return;
        }
        if (id == BUT_CANCEL_2) {
            BUT_CANCEL_2_ACTION();
            return;
        }
        if (id == BUT_Exception_3) {
            BUT_Exception_3_ACTION();
            return;
        }
        if (id == BUT_CONFIRM_3) {
            BUT_CONFIRM_3_ACTION();
            return;
        }
        if (id == BUT_CANCEL_3) {
            BUT_CANCEL_3_ACTION();
            return;
        }
        if (id == TXT_USERID) {
            TXT_USERID_ACTION();
            return;
        }
        if (id == TXT_PASSWORD) {
            TXT_PASSWORD_ACTION();
            return;
        }
        if (id == BUT_CONFIRM_4) {
            BUT_CONFIRM_4_ACTION();
            return;
        }
        if (id == BUT_CANCEL_4) {
            BUT_CANCEL_4_ACTION();
            return;
        }
        if (id == but_Confirm_5) {
            butConfirm5Action();
            return;
        }
        if (id == but_Confirm_6) {
            doButConfirm6Action();
            return;
        }
        if (id == but_Cancel_6) {
            doButCancel6Action();
            return;
        }
        if (id == but_Split_6) {
            doButSplit6Action();
            return;
        }
        if (id == txt_Qty_7) {
            doTxtQty7Action();
            return;
        }
        if (id == but_Confirm_7) {
            doButConfirm7Action();
            return;
        }
        if (id == but_Cancel_7) {
            doButCancel7Action();
            return;
        }
        if (id == txt_Qty_8) {
            doTxtQty8Action();
            return;
        }
        if (id == cmb_ReasonType_8) {
            doCmbReasonType8Action();
            return;
        }
        if (id == txt_Location_8) {
            doTxtLocation8Action();
            return;
        }
        if (id == txt_Carton_8) {
            doTxtCarton8Action();
            return;
        }
        if (id == but_Confirm_8) {
            butConfirm8Action();
            return;
        }
        if (id == but_Cancel_8) {
            doButCancel8Action();
            return;
        }
    }
}

function first_AutoFocus(id) {
    if (id == "init") {
        if (ORDER_ID_CHK == "Y" && getValue2(txt_OrderNo_1).length == 0) {
            setFocus(txt_OrderNo_1);
            updateMessageBar(msg12);
            return;
        } else {
            setFocus(TXT_PICKTOTRACEID);
            updateMessageBar(msg01);
            return;
        }
    }
    if (id == txt_OrderNo_1) {
        setFocus(TXT_PICKTOTRACEID);
        updateMessageBar(msg01);
        return;
    }
}

function txtPickToTraceIdAction() {
    if (ORDER_ID_CHK == "Y") {
        var orderNoValue = getValue2(txt_OrderNo_1);
        if (orderNoValue.length == 0) {
            setFocus(txt_OrderNo_1);
            updateMessageBar(msg12);
            return;
        } else {
            setValue(hide_OrderNo_1, orderNoValue);
        }
    }
    var pickToTraceIdValue = getValue2(TXT_PICKTOTRACEID);
    if (pickToTraceIdValue.length == 0) {
        setFocus(TXT_PICKTOTRACEID);
        updateMessageBar(msg01);
        return;
    } else {
        setValue(HIDE_PICKTOTRACEID, pickToTraceIdValue);
    }
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getTaskQty", QSKeys, getTaskQty);
}

function getTaskQty(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate9) {
        lastSEQUpdate9 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            flag = true;
            var obj1 = replyData.strData1;
            showViewSingle(_prevView, inViewsKeys);
            setValue(wxt_KindsOfSku_1, obj1.KINDSOFSKU);
            setValue(wxt_QtyEach_1, obj1.QTYEACH);
            setValue(wxt_TotalCartonQty_1, obj1.CARTONQTY);
            setValue(TXT_PICKTOTRACEID, returnMessage);
            setFocus2(BUT_CONFIRM);
            updateMessageBar("");
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                flag = false;
                showViewSingle(_prevView, inViewsKeys);
                if (ORDER_ID_CHK == "Y") {
                    setFocus(txt_OrderNo_1);
                    updateMessageBar(msg13);
                } else {
                    setFocus(TXT_PICKTOTRACEID);
                    updateMessageBar(msg02);
                }
            } else {
                flag = false;
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                if (ORDER_ID_CHK == "Y") {
                    setFocus(txt_OrderNo_1);
                } else {
                    setFocus(TXT_PICKTOTRACEID);
                }
            }
        }
    }
}

function BUT_CONFIRM_ACTION() {
    if (flag) {
        if (ORDER_ID_CHK == "Y") {
            var orderNoValue = getValue2(txt_OrderNo_1);
            if (orderNoValue.length == 0) {
                setFocus(txt_OrderNo_1);
                updateMessageBar(msg12);
                return;
            } else {
                setValue(hide_OrderNo_1, orderNoValue);
            }
        }
        var pickToTraceIdValue = getValue2(TXT_PICKTOTRACEID);
        if (pickToTraceIdValue.length == 0) {
            setFocus(TXT_PICKTOTRACEID);
            updateMessageBar(msg01);
            return;
        } else {
            setValue(HIDE_PICKTOTRACEID, pickToTraceIdValue);
        }
        _prevView = _div1Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction("CheckByPack", "checkPickToTraceId", QSKeys, checkPickToTraceId);
    } else {
        return;
    }
}

function checkPickToTraceId(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate1) {
        lastSEQUpdate1 = curSEQ;
        showViewSingle(_div1Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            userd_AllInfo = replyData.strData2;
            if (userd_AllInfo[userd_AllInfo_Index].RELEASESTATUS == "H") {
                first_EchoMessage(msg21, first_Alert, "updateMessageBar");
                userd_AllInfo = null;
                return;
            }
            morepages_new(replyData.strData1, BUT_PREVIOUS, BUT_NEXT);
            if (userd_AllInfo_Index == -1) {
                userd_AllInfo_Index = morepages_getIndexInArray();
            } else {
                morepages_setIndexInArray(userd_AllInfo_Index);
            }
            userd_doubleCheckType = userd_AllInfo[userd_AllInfo_Index].MEDICINESPECICALCONTROL;
            userd_ArrInfo_Type = new Array();
            for (var i = 0; i < userd_AllInfo.length; i++) {
                userd_ArrInfo_Type[i] = "Y";
            }
            showPageTwo();
            setFocus2(BUT_CONFIRM_2);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                setFocus(TXT_PICKTOTRACEID);
                if (CHK_ORD_PCK == "ORDER") {
                    updateMessageBar(msg16);
                    first_EchoMessage(msg16, first_Alert, "updateMessageBar");
                } else {
                    if (CHK_ORD_PCK == "TASK") {
                        updateMessageBar(msg17);
                        first_EchoMessage(msg17, first_Alert, "updateMessageBar");
                    } else {
                        updateMessageBar(msg02);
                    }
                }
            } else {
                var returnMessage = replyData.mesg;
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setFocus(TXT_PICKTOTRACEID);
            }
        }
    }
}

function showPageTwo() {
    userd_AllInfo_Index = morepages_getIndexInArray();
    updateMessageBar2(msg04.replace("&1", morepages_getInfoCount()).replace("&2", morepages_getIndexInAllInfo()));
    showViewSingle(_div2Input, inViewsKeys);
    setValue(LBL_SKU, userd_AllInfo[userd_AllInfo_Index].SKU);
    setValue(LBL_SKUDESCR, userd_AllInfo[userd_AllInfo_Index].SKU_NAME);
    setValue(LBL_QTY, userd_AllInfo[userd_AllInfo_Index].QTY);
    setValue(LBL_UOM, userd_AllInfo[userd_AllInfo_Index].UOM_NAME);
    setValue(LBL_UDF1, userd_AllInfo[userd_AllInfo_Index].UDF1);
    setValue(LBL_UDF2, userd_AllInfo[userd_AllInfo_Index].UDF2);
    setValue(LBL_UDF3, userd_AllInfo[userd_AllInfo_Index].UDF3);
    updateMessageBar("");
    setValue(LBL_MEDICALCODE, userd_AllInfo[userd_AllInfo_Index].DESCR_E);
    setValue(LBL_MEDICALNAME, userd_AllInfo[userd_AllInfo_Index].DESCR_C);
    setValue(LBL_MEDICALSPEC, userd_AllInfo[userd_AllInfo_Index].ALTERNATE_SKU1);
    setValue(LBL_MEDICALMANUFACTURER, userd_AllInfo[userd_AllInfo_Index].RESERVEDFIELD01);
    setValue(LBL_QTY_4, userd_AllInfo[userd_AllInfo_Index].QTY);
    setValue(LBL_UOM_4, userd_AllInfo[userd_AllInfo_Index].ALTERNATE_SKU4);
    setValue(HIDE_CUSTOMERID, userd_AllInfo[userd_AllInfo_Index].CUSTOMERID);
    setValue(HIDE_SKU, userd_AllInfo[userd_AllInfo_Index].SKU);
    setValue(HIDE_LOCATION, userd_AllInfo[userd_AllInfo_Index].LOCATION);
    setValue(HIDE_ORDERNO_4, userd_AllInfo[userd_AllInfo_Index].ORDERNO);
    setValue(HIDE_ALLOCATIONDETAILSID, userd_AllInfo[userd_AllInfo_Index].ALLOCATIONDETAILSID);
    setValue(HIDE_ORDERLINENO, userd_AllInfo[userd_AllInfo_Index].ORDERLINENO);
    setValue(HIDE_SKULINENO, userd_AllInfo[userd_AllInfo_Index].SKULINENO);
    setValue(hide_LotNum_2, userd_AllInfo[userd_AllInfo_Index].LOTNUM);
    setValue(hide_Status_1, userd_AllInfo[userd_AllInfo_Index].STATUS);
    userd_ScanWhenCheck = userd_AllInfo[userd_AllInfo_Index].SCANWHENCHECK.toUpperCase();
    userd_SerialNoCatch = userd_AllInfo[userd_AllInfo_Index].SERIALNOCATCH.toUpperCase();
    userd_SerialNoCatch_Order = userd_AllInfo[userd_AllInfo_Index].SERIALNOCATCH_ORDER.toUpperCase();
}

function BUT_CANCEL_ACTION() {
    initHtmlPage();
}

function txtOrderNo1Action() {
    var orderNoValue = getValue2(txt_OrderNo_1);
    if (orderNoValue.length == 0) {
        setFocus(txt_OrderNo_1);
        updateMessageBar(msg12);
        return;
    } else {
        setValue(hide_OrderNo_1, orderNoValue);
    }
    first_AutoFocus(txt_OrderNo_1);
}

function butList1Action() {
    var orderNoValue = getValue2(txt_OrderNo_1);
    if (orderNoValue.length == 0) {
        setFocus(txt_OrderNo_1);
        updateMessageBar(msg12);
        return;
    } else {
        setValue(hide_OrderNo_1, orderNoValue);
    }
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getPickList", QSKeys, getPickList);
}

function getPickList(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate5) {
        lastSEQUpdate5 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_div5Input, inViewsKeys);
            var obj2 = replyData.strData2;
            userd_PickListInfo = obj2;
            userd_ThNameList_1 = new Array("TID", "USER", getValue2(hide_Lbl_01));
            userd_TdContentList_1 = new Array();
            for (var i = 0; i < userd_PickListInfo.length; i++) {
                userd_TdContentList_1.push(new Array(userd_PickListInfo[i].PICKTOTRACEID, userd_PickListInfo[i].CHECKWHO, userd_PickListInfo[i].QTY1 + "(" + userd_PickListInfo[i].QTY2 + "/" + userd_PickListInfo[i].QTY3 + ")"));
            }
            var tableCode = ShowTable_GetTableCode(userd_TableId_1, userd_ThNameList_1, userd_TdContentList_1, userd_MinLineNumber_1, userd_MaxLineNumber_1, userd_ShowLineNumber_1, userd_ShowDeleteAction_1, userd_ShowInfoByDESC_1);
            setInnerHTML(div_IdList_5, tableCode);
            setFocus2(but_Confirm_5);
            updateMessageBar("");
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                setFocus(txt_OrderNo_1);
                updateMessageBar(msg13);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setFocus(txt_OrderNo_1);
            }
        }
    }
}

function butReversePickAction() {
    var traceIdValue = getValue2(TXT_PICKTOTRACEID);
    if (traceIdValue.length == 0) {
        setFocus(TXT_PICKTOTRACEID);
        updateMessageBar(msg01);
        return;
    } else {
        setValue(HIDE_PICKTOTRACEID, traceIdValue);
    }
    _prevView = _div1Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getAllocationDetailsNoList", QSKeys, getAllocationDetailsNoList);
}

function getAllocationDetailsNoList(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate6) {
        lastSEQUpdate6 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_ChooseNow = -1;
            showAllocationDetailsList(obj2);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                setFocus(TXT_PICKTOTRACEID);
                updateMessageBar(msg02);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setFocus(TXT_PICKTOTRACEID);
            }
        }
    }
}

function showAllocationDetailsList(obj2) {
    showViewSingle(_div6Input, inViewsKeys);
    userd_ReversePickInfo = obj2;
    userd_ThNameList_3 = new Array("R", "SkuName", "Qty", "Uom");
    userd_TdContentList_3 = new Array();
    for (var i = 0; i < userd_ReversePickInfo.length; i++) {
        userd_TdContentList_3.push(new Array(userd_NoChoose.replace("&1", i), userd_ReversePickInfo[i].SKUNAME, userd_ReversePickInfo[i].QTY, userd_ReversePickInfo[i].UOMDESCR));
    }
    var tableCode = ShowTable_GetTableCode(userd_TableId_3, userd_ThNameList_3, userd_TdContentList_3, userd_MinLineNumber_3, userd_MaxLineNumber_3, userd_ShowLineNumber_3, userd_ShowDeleteAction_3, userd_ShowInfoByDESC_3);
    setInnerHTML(div_ReversePickList_6, tableCode);
    setFocus2(but_Confirm_6);
    updateMessageBar("");
}

function BUT_PREVIOUS_ACTION() {
    if (morepages_go("last")) {
        showPageTwo();
    } else {
        setValue(HIDDEN_PAGENOW, parseFloat(getValue(HIDDEN_PAGENOW)) - 1);
        userd_AllInfo_Index = -1;
        BUT_CONFIRM_ACTION();
    }
}

function BUT_NEXT_ACTION() {
    if (morepages_go("next")) {
        showPageTwo();
    } else {
        setValue(HIDDEN_PAGENOW, parseFloat(getValue(HIDDEN_PAGENOW)) + 1);
        userd_AllInfo_Index = -1;
        BUT_CONFIRM_ACTION();
    }
}

function BUT_CONFIRM_2_ACTION() {
    if (CHK_SKP_LOT != null && CHK_SKP_LOT == "N") {
        showViewSingle(_div3Input, inViewsKeys);
        PublicJs_dynamicLot_init();
        PublicJs_dynamicLot_isNeedLotButton = false;
        PublicJs_dynamicLot_SetLotValue1(userd_AllInfo[userd_AllInfo_Index].LOTATT01);
        PublicJs_dynamicLot_SetLotValue2(userd_AllInfo[userd_AllInfo_Index].LOTATT02);
        PublicJs_dynamicLot_SetLotValue3(userd_AllInfo[userd_AllInfo_Index].LOTATT03);
        PublicJs_dynamicLot_SetLotValue4(userd_AllInfo[userd_AllInfo_Index].LOTATT04);
        PublicJs_dynamicLot_SetLotValue5(userd_AllInfo[userd_AllInfo_Index].LOTATT05);
        PublicJs_dynamicLot_SetLotValue6(userd_AllInfo[userd_AllInfo_Index].LOTATT06);
        PublicJs_dynamicLot_SetLotValue7(userd_AllInfo[userd_AllInfo_Index].LOTATT07);
        PublicJs_dynamicLot_SetLotValue8(userd_AllInfo[userd_AllInfo_Index].LOTATT08);
        PublicJs_dynamicLot_SetLotValue9(userd_AllInfo[userd_AllInfo_Index].LOTATT09);
        PublicJs_dynamicLot_SetLotValue10(userd_AllInfo[userd_AllInfo_Index].LOTATT10);
        PublicJs_dynamicLot_SetLotValue11(userd_AllInfo[userd_AllInfo_Index].LOTATT11);
        PublicJs_dynamicLot_SetLotValue12(userd_AllInfo[userd_AllInfo_Index].LOTATT12);
        PublicJs_dynamicLot_SetSku(getValue2(HIDE_SKU));
        PublicJs_dynamicLot_SetCustomerID(getValue2(HIDE_CUSTOMERID));
        PublicJs_dynamicLot_divNewInput = "div3Input";
        PublicJs_dynamicLot_SetShowDivID(div_Lot_3);
        PublicJs_dynamicLot_getLotTableIncludeShow();
    } else {
        if (userd_doubleCheckType == "Y") {
            showViewSingle(_div4Input, inViewsKeys);
            setFocus(TXT_USERID);
            updateMessageBar(msg05);
        } else {
            if (userd_ScanWhenCheck == "Y" && userd_SerialNoCatch == "Y" && userd_SerialNoCatch_Order == "Y" && ScanningSerialNo_GetScannedSerialNo().length == 0) {
                but_ScanSerialNo_Action();
            } else {
                doCheckByPackAction();
            }
        }
    }
}

function PublicJs_dynamicLot_setFocusAfterShowLot() {
    setFocus2(BUT_CONFIRM_3);
}

function doCustomerBiz() {
    for (var i = 0; i < LOT_LotInfoByDatabase.length; i++) {
        var LOTVALUE = LOT_LotInfoByDatabase[i].LOTVALUE;
        if (LOTVALUE == null || LOTVALUE.length == 0) {
            setDisabled("txt_" + i + "_LOT", true);
        } else {
            setDisabled("cmb_" + i + "_LOT", true);
        }
    }
    setFocus2(BUT_CONFIRM_3);
}

function BUT_CANCEL_2_ACTION() {
    showViewSingle(_div1Input, inViewsKeys);
    setFocus(TXT_PICKTOTRACEID);
    updateMessageBar("");
}

function but_ScanSerialNo_Action() {
    ScanningSerialNo_SetSkuInfo("", userd_AllInfo[userd_AllInfo_Index].SKU, userd_AllInfo[userd_AllInfo_Index].CUSTOMERID);
    ScanningSerialNo_Init(inViewsKeys, parseInt(userd_AllInfo[userd_AllInfo_Index].QTY), userd_AllInfo[userd_AllInfo_Index].UOM_NAME, _div2Input, false, new Array("CLEAR"), "OUT");
}

function ScanningSerialNo_But_GetSerialNoByTraceID_Action() {
    alert("You need overwrite the function: ScanningSerialNo_But_GetSerialNoByTraceID_Action(). And try it again.");
}

function ShowTable_DeleteClick_Action(tableId, index) {
    if (tableId == userd_TableId_1) {
        return;
    }
}

function ScanningSerialNo_ClearSerialNo_Action() {
    if (first_EchoMessage(msg11, first_Confirm)) {
        ScanningSerialNo_ClearAllSerialNoAndRefresh();
    }
}

function ScanningSerialNo_But_LoadSerialNo_Action() {
    var ScanningSerialNo_CheckQty = getValue(ScanningSerialNo_Chk_CheckQty_1);
    var serialNoArray = ScanningSerialNo_GetScannedSerialNo();
    if (serialNoArray.length == 0 && !ScanningSerialNo_IsGiveUp()) {
        return;
    }
    var flag = false;
    for (var i = 0; i < serialNoArray.length; i++) {
        if (serialNoArray[i][0] == " ") {
            flag = true;
            break;
        }
    }
    if (flag || ScanningSerialNo_IsGiveUp()) {
        ScanningSerialNo_ClearAllSerialNo();
        userd_ScanWhenCheck = "N";
        doCheckByPackAction();
    } else {
        var serialNoValues = "";
        for (var i = 0; i < serialNoArray.length; i++) {
            serialNoValues += serialNoArray[i][0] + ";";
        }
        setValue(hide_SerialNoList, serialNoValues);
        var inputReceiveQty = parseFloat(userd_AllInfo[userd_AllInfo_Index].QTY);
        var userd_ScanSerialNoQty = serialNoArray.length;
        if (ScanningSerialNo_CheckQty == "Y" && inputReceiveQty != userd_ScanSerialNoQty) {
            ScanningSerialNo_FocusSerialNoInputText();
            first_PlayMuiscByName("M052", getValue("hide_MusicList"), false);
            ScanningSerialNo_ShowMessage(msg15);
            return;
        }
        if (ScanningSerialNo_CheckQty == "N") {
            setValue(LBL_QTY, userd_ScanSerialNoQty);
        }
        if (CHK_SKP_LOT != null && CHK_SKP_LOT == "N") {
            _prevView = _div3Input;
        } else {
            if (userd_doubleCheckType == "Y") {
                _prevView = _div4Input;
            } else {
                _prevView = _div2Input;
            }
        }
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "uploadSerialNo", QSKeys, uploadSerialNo);
    }
}

function uploadSerialNo(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate4) {
        lastSEQUpdate4 = curSEQ;
        var returnMessage = replyData.mesg;
        showViewSingle(_prevView, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            ScanningSerialNo_ClearAllSerialNo();
            userd_ScanWhenCheck = "N";
            doCheckByPackAction();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
            } else {
                first_EchoMessage(returnMessage, first_Alert, updateMessageBar);
            }
        }
    }
}

function ScanningSerialNo_But_Cancel_Action() {
    if (CHK_SKP_LOT != null && CHK_SKP_LOT == "N") {
        showViewSingle(_div3Input, inViewsKeys);
        PublicJs_dynamicLot_init();
        PublicJs_dynamicLot_isNeedLotButton = false;
        PublicJs_dynamicLot_SetLotValue1(userd_AllInfo[userd_AllInfo_Index].LOTATT01);
        PublicJs_dynamicLot_SetLotValue2(userd_AllInfo[userd_AllInfo_Index].LOTATT02);
        PublicJs_dynamicLot_SetLotValue3(userd_AllInfo[userd_AllInfo_Index].LOTATT03);
        PublicJs_dynamicLot_SetLotValue4(userd_AllInfo[userd_AllInfo_Index].LOTATT04);
        PublicJs_dynamicLot_SetLotValue5(userd_AllInfo[userd_AllInfo_Index].LOTATT05);
        PublicJs_dynamicLot_SetLotValue6(userd_AllInfo[userd_AllInfo_Index].LOTATT06);
        PublicJs_dynamicLot_SetLotValue7(userd_AllInfo[userd_AllInfo_Index].LOTATT07);
        PublicJs_dynamicLot_SetLotValue8(userd_AllInfo[userd_AllInfo_Index].LOTATT08);
        PublicJs_dynamicLot_SetLotValue9(userd_AllInfo[userd_AllInfo_Index].LOTATT09);
        PublicJs_dynamicLot_SetLotValue10(userd_AllInfo[userd_AllInfo_Index].LOTATT10);
        PublicJs_dynamicLot_SetLotValue11(userd_AllInfo[userd_AllInfo_Index].LOTATT11);
        PublicJs_dynamicLot_SetLotValue12(userd_AllInfo[userd_AllInfo_Index].LOTATT12);
        PublicJs_dynamicLot_SetSku(getValue2(HIDE_SKU));
        PublicJs_dynamicLot_SetCustomerID(getValue2(HIDE_CUSTOMERID));
        PublicJs_dynamicLot_divNewInput = "div3Input";
        PublicJs_dynamicLot_SetShowDivID(div_Lot_3);
        PublicJs_dynamicLot_getLotTableIncludeShow();
        updateMessageBar("");
        setFocus2(BUT_CONFIRM_3);
    } else {
        if (userd_doubleCheckType == "Y") {
            showViewSingle(_div4Input, inViewsKeys);
            setFocus2(BUT_CONFIRM_4);
        } else {
            showViewSingle(_div2Input, inViewsKeys);
            setFocus2(BUT_CONFIRM_2);
        }
    }
    updateMessageBar("");
}

function BUT_CONFIRM_3_ACTION() {
    updateMessageBar("");
    if (userd_doubleCheckType == "Y") {
        showViewSingle(_div4Input, inViewsKeys);
        setFocus(TXT_USERID);
        updateMessageBar(msg05);
    } else {
        if (userd_ScanWhenCheck == "Y" && userd_SerialNoCatch == "Y" && userd_SerialNoCatch_Order == "Y" && ScanningSerialNo_GetScannedSerialNo().length == 0) {
            but_ScanSerialNo_Action();
        } else {
            doCheckByPackAction();
        }
    }
}

function doCheckByPackAction() {
    setValue(hide_Pkg_Cfm_Pck, PKG_CFM_PCK);
    doServerAction("CheckByPack", "CheckByPackAction", QSKeys, CheckByPackAction);
}

function CheckByPackAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate3) {
        lastSEQUpdate3 = curSEQ;
        if (codeValue_OK == replyData.codeValue) {
            if (RF_CHK_UNT == "Y") {
                if (morepages_getInfoCount() == 1) {
                    initHtmlPage();
                    updateMessageBar(msg10);
                    return;
                }
                if (morepages_getInfoCount() == morepages_getIndexInAllInfo()) {
                    morepages_init();
                    userd_AllInfo_Index = morepages_getIndexInArray();
                    setValue(HIDDEN_PAGENOW, 1);
                    BUT_CONFIRM_ACTION();
                }
                userd_AllInfo_Index = morepages_getIndexInArray();
                BUT_CONFIRM_ACTION();
                return;
            }
            if (RF_CHK_UNT != "Y") {
                var newOrderNo = replyData.mesg;
                initHtmlPage();
                if (newOrderNo.length > 0 && false) {
                    setValue(TXT_PICKTOTRACEID, newOrderNo);
                    BUT_CONFIRM_ACTION();
                    return;
                } else {
                    updateMessageBar(msg10);
                    return;
                }
            }
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
            } else {
                if (CHK_SKP_LOT != null && CHK_SKP_LOT == "N") {
                    showViewSingle(_div3Input, inViewsKeys);
                } else {
                    if (userd_doubleCheckType == "Y") {
                        showViewSingle(_div4Input, inViewsKeys);
                    } else {
                        showViewSingle(_div2Input, inViewsKeys);
                    }
                }
                var returnMessage = replyData.mesg;
                if (returnMessage.startWith("1.-->")) {
                    updateMessageBar(msg08);
                    setFocus2(BUT_CONFIRM_3);
                } else {
                    updateMessageBar(returnMessage);
                    setFocus2(BUT_CONFIRM_3);
                }
            }
        }
    }
}

function BUT_CANCEL_3_ACTION() {
    showViewSingle(_div2Input, inViewsKeys);
}

function BUT_Exception_3_ACTION() {
    initPageEight();
    userd_AllInfo_Index = morepages_getIndexInArray();
    showViewSingle(_div8Input, inViewsKeys);
    setValue(wxt_Sku_8, userd_AllInfo[userd_AllInfo_Index].SKU);
    setValue(wxt_SkuName_8, userd_AllInfo[userd_AllInfo_Index].SKU_NAME);
    setValue(wxt_Qty_8, userd_AllInfo[userd_AllInfo_Index].QTY);
    setFocus(txt_Qty_8);
    updateMessageBar(msg14);
}

function TXT_USERID_ACTION() {
    doUserCheckAction();
}

function doUserCheckAction() {
    var userIdValue = getValue3(TXT_USERID);
    if (userIdValue.length == 0 && userd_userId.toUpperCase() == userIdValue.toUpperCase()) {
        setFocus(TXT_USERID);
        updateMessageBar(msg05);
        return;
    }
    setValue(HIDE_USERID, userIdValue);
    var passwordValue = getValue3(TXT_PASSWORD);
    if (passwordValue.length == 0) {
        setFocus(TXT_PASSWORD);
        updateMessageBar(msg06);
        return;
    }
    setValue(HIDE_PASSWORD, passwordValue);
    setValue(HIDE_USERID, userIdValue);
    _prevView = _div4Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "checkUserId", QSKeys, checkUserId, "", false);
    updateMessageBar("");
}

function checkUserId(responseText) {
    var replyData = eval("(" + responseText + ")");
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate10) {
        lastSEQUpdate10 = curSEQ;
        if (codeValue_OK == replyData.codeValue) {
            _prevView = _div4Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "writeSecondUser", QSKeys, endCheck);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
            } else {
                showViewSingle(_div4Input, inViewsKeys);
                updateMessageBar(msg07);
                setFocus(TXT_USERID);
                return;
            }
        }
    }
}

function endCheck(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate2) {
        lastSEQUpdate2 = curSEQ;
        if (codeValue_OK == replyData.codeValue) {
            if (userd_ScanWhenCheck == "Y" && userd_SerialNoCatch == "Y" && userd_SerialNoCatch_Order == "Y" && ScanningSerialNo_GetScannedSerialNo().length == 0) {
                but_ScanSerialNo_Action();
            } else {
                doCheckByPackAction();
            }
            updateMessageBar("");
        } else {
            showViewSingle(_div4Input, inViewsKeys);
            updateMessageBar(msg07);
            setFocus(TXT_USERID);
            return;
        }
    }
}

function TXT_PASSWORD_ACTION() {
    doUserCheckAction();
}

function BUT_CONFIRM_4_ACTION() {
    doUserCheckAction();
}

function BUT_CANCEL_4_ACTION() {
    if (CHK_SKP_LOT != null && CHK_SKP_LOT == "N") {
        showViewSingle(_div3Input, inViewsKeys);
        setFocus2(BUT_CONFIRM_3);
    } else {
        showViewSingle(_div2Input, inViewsKeys);
    }
    updateMessageBar("");
}

function butConfirm5Action() {
    showViewSingle(_div1Input, inViewsKeys);
    setFocus2(BUT_CONFIRM);
    updateMessageBar("");
}

function ShowTable_DeleteClick_Action(tableId, index) {
}

function ShowTable_SingleClick_Action(tableId, index) {
    if (tableId == userd_TableId_1 || tableId == userd_TableId_2) {
    } else {
        if (tableId == userd_TableId_3 || tableId == userd_TableId_4) {
            userd_ChooseNow = index;
        }
    }
}

function ShowTable_DoubleClick_Action(tableId, index) {
    if (tableId == userd_TableId_1 || tableId == userd_TableId_2) {
    } else {
        if (tableId == userd_TableId_3 || tableId == userd_TableId_4) {
        }
    }
}

function ShowTable_ShowAllInfoList(tableId) {
    if (tableId == userd_TableId_1) {
        userd_ThNameList_2 = userd_ThNameList_1.slice(0);
        userd_TdContentList_2 = userd_TdContentList_1.slice(0);
        userd_ShowLineNumber_2 = true;
        userd_ShowDeleteAction_2 = false;
        userd_ShowInfoByDESC_2 = false;
        var tableCode = ShowTable_GetTableCode(userd_TableId_2, userd_ThNameList_2, userd_TdContentList_2, userd_MinLineNumber_2, userd_MaxLineNumber_2, userd_ShowLineNumber_2, userd_ShowDeleteAction_2, userd_ShowInfoByDESC_2);
        setInnerHTML(div_IdList_5, tableCode);
    } else {
        if (tableId == userd_TableId_3) {
            userd_ThNameList_4 = userd_ThNameList_3.slice(0);
            userd_TdContentList_4 = userd_TdContentList_3.slice(0);
            userd_ShowLineNumber_4 = true;
            userd_ShowDeleteAction_4 = false;
            userd_ShowInfoByDESC_4 = false;
            var tableCode = ShowTable_GetTableCode(userd_TableId_4, userd_ThNameList_4, userd_TdContentList_4, userd_MinLineNumber_4, userd_MaxLineNumber_4, userd_ShowLineNumber_4, userd_ShowDeleteAction_4, userd_ShowInfoByDESC_4);
            setInnerHTML(div_ReversePickList_6, tableCode);
        }
    }
}

function doButConfirm6Action() {
    var listValue = new Array();
    for (var i = 0; i < userd_ReversePickInfo.length; i++) {
        if (getValue2("chk_" + i) == "Y") {
            var allocationDetailsId = userd_ReversePickInfo[i].ALLOCATIONDETAILSID;
            if (listValue.length > 0) {
                listValue.push("," + allocationDetailsId);
            } else {
                listValue.push(allocationDetailsId);
            }
        }
    }
    if (listValue.length > 0) {
        setValue(hide_ReverseAllocationDetailsIdList, listValue.join(""));
        _prevView = _div6Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "reversePickAction", QSKeys, reversePickAction);
    }
}

function reversePickAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate7) {
        lastSEQUpdate7 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_ChooseNow = -1;
            showAllocationDetailsList(obj2);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                initHtmlPage();
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setFocus2(but_Confirm_6);
            }
        }
    }
}

function doButCancel6Action() {
    showViewSingle(_div1Input, inViewsKeys);
    setFocus(TXT_PICKTOTRACEID);
    updateMessageBar("");
}

function doButSplit6Action() {
    if (userd_ChooseNow != -1) {
        showViewSingle(_div7Input, inViewsKeys);
        setValue(wxt_SkuName_7, userd_ReversePickInfo[userd_ChooseNow].SKUNAME);
        setValue(wxt_Qty_7, userd_ReversePickInfo[userd_ChooseNow].QTY);
        setValue(wxt_Uom_7, userd_ReversePickInfo[userd_ChooseNow].UOM);
        setValue(txt_Qty_7, "");
        setFocus(txt_Qty_7);
        updateMessageBar(msg14);
    }
}

function doTxtQty7Action() {
    doButConfirm7Action();
}

function doButConfirm7Action() {
    var qtyValue = getValue2(txt_Qty_7);
    if (!first_CheckNumber(qtyValue)) {
        setFocus(txt_Qty_7);
        updateMessageBar(msg14);
        return;
    }
    if (parseInt(qtyValue) == 0) {
        setFocus(txt_Qty_7);
        updateMessageBar(msg20);
        return;
    } else {
        var qtyToEach = parseInt(userd_ReversePickInfo[userd_ChooseNow].QTYTOEACH);
        if (qtyToEach > 0) {
            setValue(hide_Qty_7, parseInt(qtyValue) * qtyToEach);
        } else {
            setValue(hide_Qty_7, qtyValue);
        }
    }
    setValue(hide_AllocationDetailsId_7, userd_ReversePickInfo[userd_ChooseNow].ALLOCATIONDETAILSID);
    _prevView = _div7Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "splitAllocationTask", QSKeys, splitAllocationTask);
}

function splitAllocationTask(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate8) {
        lastSEQUpdate8 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_ChooseNow = -1;
            showAllocationDetailsList(obj2);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                initHtmlPage();
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                setFocus(txt_Qty_7);
            }
        }
    }
}

function doButCancel7Action() {
    showViewSingle(_div6Input, inViewsKeys);
    setFocus2(but_Confirm_6);
    updateMessageBar("");
}

function doTxtQty8Action() {
    var qtyValue = getValue(txt_Qty_8);
    if (qtyValue.length == 0) {
        setFocus(txt_Qty_8);
        updateMessageBar(msg14);
        return;
    }
    setFocus(txt_Location_8);
    updateMessageBar(msg18);
}

function doCmbReasonType8Action() {
    setFocus(txt_Location_8);
}

function doTxtLocation8Action() {
    var locationValue = getValue2(txt_Location_8);
    setValue(txt_Location_8, locationValue);
    if (locationValue.length == 0) {
        setFocus(txt_Qty_8);
        updateMessageBar(msg18);
        return;
    }
    setFocus(txt_Carton_8);
    updateMessageBar(msg19);
}

function doTxtCarton8Action() {
    var cartonValue = getValue2(txt_Carton_8);
    setValue(txt_Carton_8, cartonValue);
    if (cartonValue.length == 0) {
        setFocus(txt_Carton_8);
        updateMessageBar(msg19);
        return;
    }
    butConfirm8Action();
}

function butConfirm8Action() {
    var qtyValue = getValue(txt_Qty_8);
    if (qtyValue.length == 0) {
        setFocus(txt_Qty_8);
        updateMessageBar(msg14);
        return;
    }
    var locationValue = getValue2(txt_Location_8);
    if (locationValue.length == 0) {
        setFocus(txt_Qty_8);
        updateMessageBar(msg18);
        return;
    }
    var cartonValue = getValue2(txt_Carton_8);
    if (cartonValue.length == 0) {
        setFocus(txt_Carton_8);
        updateMessageBar(msg19);
        return;
    }
    userd_AllInfo_Index = morepages_getIndexInArray();
    setValue(HIDE_ORDERNO_4, userd_AllInfo[userd_AllInfo_Index].ORDERNO);
    setValue(HIDE_CUSTOMERID, userd_AllInfo[userd_AllInfo_Index].CUSTOMERID);
    setValue(HIDE_LOCATION, userd_AllInfo[userd_AllInfo_Index].LOCATION);
    setValue(HIDE_SKU, getValue2(wxt_Sku_8));
    setValue(hide_Qty_8, qtyValue);
    setValue(hide_ReasonType_8, getValue(cmb_ReasonType_8));
    setValue(hide_Location_8, locationValue);
    setValue(hide_Carton_8, cartonValue);
    _prevView = _div8Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "doExceptionAction", QSKeys, doExceptionAction);
}

function doExceptionAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate8) {
        lastSEQUpdate8 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            BUT_CONFIRM_2_ACTION();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doButCancel8Action() {
    BUT_CONFIRM_2_ACTION();
}