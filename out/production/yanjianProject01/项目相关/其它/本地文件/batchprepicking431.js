var className = "BatchPrePicking";
var jspUrl = "rfbiz/outbound/batchprepicking/batchprepicking.jsp";
var hide_Message_01 = "hide_Message_01";
var hide_Message_02 = "hide_Message_02";
var hide_Message_03 = "hide_Message_03";
var hide_Message_04 = "hide_Message_04";
var hide_Message_05 = "hide_Message_05";
var hide_Message_06 = "hide_Message_06";
var hide_Message_07 = "hide_Message_07";
var hide_Message_08 = "hide_Message_08";
var hide_Message_09 = "hide_Message_09";
var hide_Message_10 = "hide_Message_10";
var hide_Message_11 = "hide_Message_11";
var hide_Message_12 = "hide_Message_12";
var hide_Message_13 = "hide_Message_13";
var hide_Message_14 = "hide_Message_14";
var hide_Message_15 = "hide_Message_15";
var hide_Message_16 = "hide_Message_16";
var hide_Message_17 = "hide_Message_17";
var hide_Message_18 = "hide_Message_18";
var hide_Message_19 = "hide_Message_19";
var hide_Message_20 = "hide_Message_20";
var hide_Message_21 = "hide_Message_21";
var hide_Message_22 = "hide_Message_22";
var hide_Message_23 = "hide_Message_23";
var hide_Message_24 = "hide_Message_24";
var hide_Message_25 = "hide_Message_25";
var hide_Message_26 = "hide_Message_26";
var hide_Message_27 = "hide_Message_27";
var hide_Message_28 = "hide_Message_28";
var hide_Message_29 = "hide_Message_29";
var hide_Message_30 = "hide_Message_30";
var hide_Message_31 = "hide_Message_31";
var hide_Message_32 = "hide_Message_32";
var hide_Message_33 = "hide_Message_33";
var hide_Message_34 = "hide_Message_34";
var hide_Message_35 = "hide_Message_35";
var hide_Message_36 = "hide_Message_36";
var hide_Message_37 = "hide_Message_37";
var hide_Message_38 = "hide_Message_38";
var hide_Message_39 = "hide_Message_39";
var hide_Message_40 = "hide_Message_40";
var hide_Message_41 = "hide_Message_41";
var hide_Message_42 = "hide_Message_42";
var hide_Message_43 = "hide_Message_43";
var hide_Message_44 = "hide_Message_44";
var hide_Message_45 = "hide_Message_45";
var hide_Message_46 = "hide_Message_46";
var hide_Message_47 = "hide_Message_47";
var hide_Message_48 = "hide_Message_48";
var hide_Message_49 = "hide_Message_49";
var hide_Message_50 = "hide_Message_50";
var hide_Lbl_01 = "hide_Lbl_01";
var hide_Lbl_02 = "hide_Lbl_02";
var hide_Lbl_03 = "hide_Lbl_03";
var hide_Lbl_04 = "hide_Lbl_04";
var hide_Lbl_05 = "hide_Lbl_05";
var hide_Lbl_06 = "hide_Lbl_06";
var hide_Lbl_07 = "hide_Lbl_07";
var hide_Lbl_08 = "hide_Lbl_08";
var hide_Lbl_09 = "hide_Lbl_09";
var hide_Lbl_10 = "hide_Lbl_10";
var lastSEQUpdate1 = 0;
var lastSEQUpdate2 = 0;
var lastSEQUpdate3 = 0;
var lastSEQUpdate4 = 0;
var lastSEQUpdate5 = 0;
var lastSEQUpdate6 = 0;
var lastSEQUpdate7 = 0;
var hide_MLT_PCK_TYP = "hide_MLT_PCK_TYP";
var hide_PCK_DSP_MSG = "hide_PCK_DSP_MSG";
var hide_RF_SKU_UD1 = "hide_RF_SKU_UD1";
var hide_PCK_PCS_SCN = "hide_PCK_PCS_SCN";
var hide_PCK_INV_COU = "hide_PCK_INV_COU";
var hide_PCK_LBK_MSG = "hide_PCK_LBK_MSG";
var hide_Tsk_Hld_Tim = "hide_Tsk_Hld_Tim";
var hide_Mlt_Pck_Dsp = "hide_Mlt_Pck_Dsp";
var hide_PageControl_1 = "hide_PageControl_1";
var hide_PageControl_2 = "hide_PageControl_2";
var hide_PageControl_3 = "hide_PageControl_3";
var hide_PageControl_4 = "hide_PageControl_4";
var hide_PageControl_5 = "hide_PageControl_5";
var hide_PageControl_6 = "hide_PageControl_6";
var hide_PageControl_7 = "hide_PageControl_7";
var hide_PageControl_8 = "hide_PageControl_8";
var hide_PageControl_9 = "hide_PageControl_9";
var hide_PageControl_10 = "hide_PageControl_10";
var p_warehouseId = "";
var WCO_PCK_PCS_SCN = "";
var hide_TaskType_FromCombingCart_1 = "hide_TaskType_FromCombingCart_1";
var hide_WorkingArea_1 = "hide_WorkingArea_1";
var hide_TERMINALNO_2 = "hide_TERMINALNO_2";
var hide_WaveNo_2 = "hide_WaveNo_2";
var hide_CARTNO_2 = "hide_CARTNO_2";
var hide_TURNOVERBOXNO_2 = "hide_TURNOVERBOXNO_2";
var hide_DELETEBOX_2 = "hide_DELETEBOX_2";
var hide_CARTNO_3 = "hide_CARTNO_3";
var hide_FMLOCATION_3 = "hide_FMLOCATION_3";
var hide_FMTRACEID_3 = "hide_FMTRACEID_3";
var hide_Udf1_3 = "hide_Udf1_3";
var hide_Udf2_3 = "hide_Udf2_3";
var hide_Udf3_3 = "hide_Udf3_3";
var hide_XLocationId_3 = "hide_XLocationId_3";
var hide_customerId_3 = "hide_customerId_3";
var HIDE_INVENQTY_3 = "HIDE_INVENQTY_3";
var hide_BOX_QTY_4 = "hide_BOX_QTY_4";
var hide_SKU_4 = "hide_SKU_4";
var HIDE_CHECKINVEN_4 = "HIDE_CHECKINVEN_4";
var hide_ReasonCodes_4 = "hide_ReasonCodes_4";
var hide_LotAtt04_4 = "hide_LotAtt04_4";
var hide_XLocationId_6 = "hide_XLocationId_6";
var hide_SplitCartonList_7 = "hide_SplitCartonList_7";
var buf_seqFlag = -1;
var hide_NewCartonNo_8 = "hide_NewCartonNo_8";
var hide_OldCartonNo_8 = "hide_OldCartonNo_8";
var hide_ptlTaskId_8 = "hide_ptlTaskId_8";
var hide_editime_9 = "hide_editime_9";
var hide_ScanList_10 = "hide_ScanList_10";
var QSKeys = new Array(hide_TERMINALNO_2, hide_WaveNo_2, hide_CARTNO_2, hide_TURNOVERBOXNO_2, hide_DELETEBOX_2, hide_CARTNO_3, hide_FMLOCATION_3, hide_FMTRACEID_3, hide_XLocationId_3, hide_customerId_3, HIDE_INVENQTY_3, hide_BOX_QTY_4, hide_SKU_4, hide_LotAtt04_4, HIDE_CHECKINVEN_4, hide_XLocationId_6, hide_SplitCartonList_7, hide_NewCartonNo_8, hide_OldCartonNo_8, hide_editime_9, hide_ScanList_10, "break", hide_WorkingArea_1, hide_TaskType_FromCombingCart_1, hide_RF_SKU_UD1, hide_Udf1_3, hide_Udf2_3, hide_Udf3_3, hide_MLT_PCK_TYP, hide_Tsk_Hld_Tim, hide_Mlt_Pck_Dsp);
var QSKeysObj = new Array(getObjectById(hide_TERMINALNO_2), getObjectById(hide_WaveNo_2), getObjectById(hide_CARTNO_2), getObjectById(hide_TURNOVERBOXNO_2), getObjectById(hide_DELETEBOX_2), getObjectById(hide_CARTNO_3), getObjectById(hide_FMLOCATION_3), getObjectById(hide_FMTRACEID_3), getObjectById(hide_XLocationId_3), getObjectById(hide_customerId_3), getObjectById(HIDE_INVENQTY_3), getObjectById(hide_BOX_QTY_4), getObjectById(hide_SKU_4), getObjectById(hide_LotAtt04_4), getObjectById(HIDE_CHECKINVEN_4), getObjectById(hide_XLocationId_6), getObjectById(hide_SplitCartonList_7), getObjectById(hide_NewCartonNo_8), getObjectById(hide_OldCartonNo_8), getObjectById(hide_editime_9), "break", getObjectById(hide_WorkingArea_1), getObjectById(hide_TaskType_FromCombingCart_1), getObjectById(hide_RF_SKU_UD1), getObjectById(hide_Udf1_3), getObjectById(hide_Udf2_3), getObjectById(hide_Udf3_3), getObjectById(hide_MLT_PCK_TYP), getObjectById(hide_Tsk_Hld_Tim));
var _div1Input = "div1Input";
var _div2Input = "div2Input";
var _div3Input = "div3Input";
var _div4Input = "div4Input";
var _div5Input = "div5Input";
var _div6Input = "div6Input";
var _div7Input = "div7Input";
var _div8Input = "div8Input";
var _div9Input = "div9Input";
var _div10Input = "div10Input";
var _div1Waiting = "div1Waiting";
var inViewsKeys = new Array(_div1Input, _div2Input, _div3Input, _div4Input, _div5Input, _div6Input, _div7Input, _div8Input, _div9Input, _div10Input, _div1Waiting);
var _prevView = _div1Input;
var lbl_Message_1 = "lbl_Message_1";
var lbl_Message_2 = "lbl_Message_2";
var lbl_Message_3 = "lbl_Message_3";
var lbl_Message_4 = "lbl_Message_4";
var lbl_Message_5 = "lbl_Message_5";
var lbl_Message_6 = "lbl_Message_6";
var lbl_Message_7 = "lbl_Message_7";
var lbl_Message_8 = "lbl_Message_8";
var lbl_Message_9 = "lbl_Message_9";
var lbl_Message_10 = "lbl_Message_10";
var lbl_MessageList_0 = new Array(lbl_Message_1, lbl_Message_2, lbl_Message_3, lbl_Message_4, lbl_Message_5, lbl_Message_6, lbl_Message_7, lbl_Message_8, lbl_Message_9, lbl_Message_10);
var userd_Color_1 = "#00ff00";
var userd_Color_2 = "#004400";
var userd_Color_3 = "#008800";
var userd_Color_4 = "#004400";
var userd_BoxNo = new Array();
var userd_LocNo = new Array();
var userd_Location = new Array();
var userd_Sku = new Array();
var userd_SkuName = new Array();
var userd_CustomerID = new Array();
var userd_Qty = new Array();
var userd_Uom = new Array();
var userd_TurnOverBoxNo = new Array();
var userd_PickToLocation = new Array();
var userd_FmTraceId = new Array();
var userd_WaveNo = new Array();
var userd_showLocation = new Array();
var userd_showSku = new Array();
var userd_showSkuName = new Array();
var userd_showQty = new Array();
var userd_showUom = new Array();
var userd_showTraceId = new Array();
var userd_showUdf1 = new Array();
var userd_showUdf2 = new Array();
var userd_showUdf3 = new Array();
var userd_showUserdefine1 = new Array();
var userd_showUserdefine2 = new Array();
var userd_Ptltaskid = new Array();
var userd_LoatAtt04 = new Array();
var userd_QTY_index_Array = new Array();
var userd_PerSumQty_id = "";
var userd_selectIndex_1 = -1;
var userd_SelectColor = "#00FFFF";
var userd_MouseColor = "#E0E0E0";
var userd_bgColor = "#FFFFFF";
var userd_LastFmLocationId = "";
var userd_MaxScanQty = 0;
var userd_FromCombiningCart_Id = "";
var userd_FromCombiningCart_Area = "";
var userd_FromCombiningCart_TemUseBack = "";
var userd_FromCombiningCart_List = "";
var userd_FromCombiningCart_IsInit = true;
var userd_XLocationShwList_6 = new Array();
var userd_TableId_1 = "userd_TableId_1";
var userd_ThNameList_1 = new Array();
var userd_TdContentList_1 = new Array();
var userd_MinLineNumber_1 = 11;
var userd_MaxLineNumber_1 = 11;
var userd_ShowLineNumber_1 = true;
var userd_ShowDeleteAction_1 = false;
var userd_ShowInfoByDESC_1 = false;
var userd_TableId_2 = "userd_TableId_2";
var userd_ThNameList_2 = new Array();
var userd_TdContentList_2 = new Array();
var userd_MinLineNumber_2 = 11;
var userd_MaxLineNumber_2 = 999;
var userd_ShowLineNumber_2 = true;
var userd_ShowDeleteAction_2 = false;
var userd_ShowInfoByDESC_2 = false;
var userd_SplitCartonList_7 = null;
var userd_ScanCartonList_7 = new Array();
var userd_TableId_3 = "userd_TableId_3";
var userd_ThNameList_3 = new Array();
var userd_TdContentList_3 = new Array();
var userd_MinLineNumber_3 = 11;
var userd_MaxLineNumber_3 = 11;
var userd_ShowLineNumber_3 = true;
var userd_ShowDeleteAction_3 = true;
var userd_ShowInfoByDESC_3 = true;
var userd_TableId_4 = "userd_TableId_4";
var userd_ThNameList_4 = new Array();
var userd_TdContentList_4 = new Array();
var userd_MinLineNumber_4 = 11;
var userd_MaxLineNumber_4 = 999;
var userd_ShowLineNumber_4 = true;
var userd_ShowDeleteAction_4 = true;
var userd_ShowInfoByDESC_4 = true;
var checkTotalInput = 0;
var buf_ScanList_9 = new Array();
var userd_AllInfo_9 = null;
var buffer_InfoIndex = 0;
var buf_LastScanSku_9 = "";
var MapForDoFMLocation = new JHashMap();
var hide_customerId_9 = "hide_customerId_8";
var SuccesAfterLookBack_9 = "N";
var savePickingTime = new Date();
var PickingTime = 0;
var userd_AllInfo_3 = null;
var buf_ScanList_10 = new Array();
var sfc_Code_1 = getValue3(hide_PageControl_1);
var but_WaveLinkTurnoverBox_1 = "but_WaveLinkTurnoverBox_1";
var but_ZoneLinkTurnoverBox_1 = "but_ZoneLinkTurnoverBox_1";
var but_BatchPrePicking_1 = "but_BatchPrePicking_1";
var but_Confirm_1 = "but_Confirm_1";
var but_Cancel_1 = "but_Cancel_1";
var sfc_Code_2 = getValue3(hide_PageControl_2);
var txt_TerminalNo_2 = "txt_TerminalNo_2";
var txt_WaveNo_2 = "txt_WaveNo_2";
var but_QueryCartNo_2 = "but_QueryCartNo_2";
var txt_CartNo_2 = "txt_CartNo_2";
var txt_TurnoverBoxNo_2 = "txt_TurnoverBoxNo_2";
var div_TurnoverBoxNoList_2 = "div_TurnoverBoxNoList_2";
var but_Complete_2 = "but_Complete_2";
var but_Cancel_2 = "but_Cancel_2";
var but_Delete_2 = "but_Delete_2";
var sfc_Code_3 = getValue3(hide_PageControl_3);
var txt_CartNo_3 = "txt_CartNo_3";
var chk_Sort_3 = "chk_Sort_3";
var but_PickingLookBack_3 = "but_PickingLookBack_3";
var txt_PickingLookBack_3 = "txt_PickingLookBack_3";
var wxt_SKUDescr_3 = "wxt_SKUDescr_3";
var but_RelatingFmLocatin_3 = "but_RelatingFmLocatin_3";
var wxt_FMLocation_3 = "wxt_FMLocation_3";
var txt_FMLocation_3 = "txt_FMLocation_3";
var wxt_FMTraceID_3 = "wxt_FMTraceID_3";
var txt_FMTraceID_3 = "txt_FMTraceID_3";
var wxt_SKU_3 = "wxt_SKU_3";
var txt_SKU_3 = "txt_SKU_3";
var wxt_UDF1_3 = "wxt_UDF1_3";
var wxt_UDF2_3 = "wxt_UDF2_3";
var wxt_UDF3_3 = "wxt_UDF3_3";
var wxt_Userdefine1_3 = "wxt_Userdefine1_3";
var wxt_Userdefine2_3 = "wxt_Userdefine2_3";
var div_LocationInfoList_3 = "div_LocationInfoList_3";
var but_Confirm_3 = "but_Confirm_3";
var but_Cancel_3 = "but_Cancel_3";
var but_StockOut_3 = "but_StockOut_3";
var but_SplitCarton_3 = "but_SplitCarton_3";
var sfc_Code_4 = getValue3(hide_PageControl_4);
var wxt_SKU_4 = "wxt_SKU_4";
var wxt_SKUDescr_4 = "wxt_SKUDescr_4";
var wxt_Qty_4 = "wxt_Qty_4";
var cmb_PerCutQty_4 = "cmb_PerCutQty_4";
var chk_ClearQty_4 = "chk_ClearQty_4";
var cmb_ReasonCode_4 = "cmb_ReasonCode_4";
var cmb_ReasonCodes_4 = "cmb_ReasonCodes_4";
var txt_Banlance_4 = "txt_Banlance_4";
var div_BoxInfoList_4 = "div_BoxInfoList_4";
var but_Confirm_4 = "but_Confirm_4";
var but_Cancel_4 = "but_Cancel_4";
var but_ChangeCarton_4 = "but_ChangeCarton_4";
var LBL_LOC1_TASKNO = "LBL_LOC1_TASKNO";
var LBL_LOC2_TASKNO = "LBL_LOC2_TASKNO";
var LBL_LOC3_TASKNO = "LBL_LOC3_TASKNO";
var LBL_LOC4_TASKNO = "LBL_LOC4_TASKNO";
var LBL_LOC5_TASKNO = "LBL_LOC5_TASKNO";
var LBL_LOC6_TASKNO = "LBL_LOC6_TASKNO";
var LBL_LOC7_TASKNO = "LBL_LOC7_TASKNO";
var LBL_LOC8_TASKNO = "LBL_LOC8_TASKNO";
var LBL_LOC9_TASKNO = "LBL_LOC9_TASKNO";
var LBL_LOC_1 = "LBL_LOC_1";
var LBL_LOC_2 = "LBL_LOC_2";
var LBL_LOC_3 = "LBL_LOC_3";
var LBL_LOC_4 = "LBL_LOC_4";
var LBL_LOC_5 = "LBL_LOC_5";
var LBL_LOC_6 = "LBL_LOC_6";
var LBL_LOC_7 = "LBL_LOC_7";
var LBL_LOC_8 = "LBL_LOC_8";
var LBL_LOC_9 = "LBL_LOC_9";
var LBL_LOC1_QTY = "LBL_LOC1_QTY";
var LBL_LOC2_QTY = "LBL_LOC2_QTY";
var LBL_LOC3_QTY = "LBL_LOC3_QTY";
var LBL_LOC4_QTY = "LBL_LOC4_QTY";
var LBL_LOC5_QTY = "LBL_LOC5_QTY";
var LBL_LOC6_QTY = "LBL_LOC6_QTY";
var LBL_LOC7_QTY = "LBL_LOC7_QTY";
var LBL_LOC8_QTY = "LBL_LOC8_QTY";
var LBL_LOC9_QTY = "LBL_LOC9_QTY";
var sfc_Code_5 = getValue3(hide_PageControl_5);
var txt_SKU_5 = "txt_SKU_5";
var wxt_SKUDescr_5 = "wxt_SKUDescr_5";
var wxt_Qty_5 = "wxt_Qty_5";
var wxt_AllQty_5 = "wxt_AllQty_5";
var div_BoxInfoList_5 = "div_BoxInfoList_5";
var but_Confirm_5 = "but_Confirm_5";
var but_Cancel_5 = "but_Cancel_5";
var but_ChangeCarton_5 = "but_ChangeCarton_5";
var sfc_Code_6 = getValue3(hide_PageControl_6);
var txt_XLocation_6 = "txt_XLocation_6";
var div_XLocationList_6 = "div_XLocationList_6";
var but_Unlinked_6 = "but_Unlinked_6";
var but_Quit_6 = "but_Quit_6";
var sfc_Code_7 = getValue3(hide_PageControl_7);
var txt_SerialNo_7 = "txt_SerialNo_7";
var div_SplitCartonList_7 = "div_SplitCartonList_7";
var but_SplitCarton_7 = "but_SplitCarton_7";
var but_Cancel_7 = "but_Cancel_7";
var sfc_Code_8 = getValue3(hide_PageControl_8);
var txt_NewCartonNo_8 = "txt_NewCartonNo_8";
var txt_OldCartonNo_8 = "txt_OldCartonNo_8";
var but_Confirm_8 = "but_Confirm_8";
var but_Cancel_8 = "but_Cancel_8";
var sfc_Code_9 = getValue3(hide_PageControl_9);
var txt_Sku_9 = "txt_Sku_9";
var wxt_Location_9 = "wxt_Location_9";
var wxt_Qty_9 = "wxt_Qty_9";
var wxt_SkuDescr_9 = "wxt_SkuDescr_9";
var div_PickingLookBackList_9 = "div_PickingLookBackList_9";
var but_GetLastOne_9 = "but_GetLastOne_9";
var lbl_Page_9 = "lbl_Page_9";
var but_GetNextOne_9 = "but_GetNextOne_9";
var but_Cancel_9 = "but_Cancel_9";
var sfc_Code_10 = getValue3(hide_PageControl_10);
var but_QueryCartNo_10 = "but_QueryCartNo_10";
var txt_CartNo_10 = "txt_CartNo_10";
var txt_TurnoverBoxNo_10 = "txt_TurnoverBoxNo_10";
var div_TurnoverBoxNoList_10 = "div_TurnoverBoxNoList_10";
var but_Complete_10 = "but_Complete_10";
var but_Cancel_10 = "but_Cancel_10";
var but_Delete_10 = "but_Delete_10";

function initHtmlPage() {
    _prevView = _div1Input;
    showViewSingle(_div1Input, inViewsKeys);
    userd_BoxNo = new Array();
    userd_LocNo = new Array();
    userd_Location = new Array();
    userd_Sku = new Array();
    userd_SkuName = new Array();
    userd_CustomerID = new Array();
    userd_Qty = new Array();
    userd_Uom = new Array();
    userd_TurnOverBoxNo = new Array();
    userd_PickToLocation = new Array();
    userd_FmTraceId = new Array();
    userd_WaveNo = new Array();
    userd_showLocation = new Array();
    userd_showSku = new Array();
    userd_showSkuName = new Array();
    userd_showQty = new Array();
    userd_showUom = new Array();
    userd_showTraceId = new Array();
    userd_showUdf1 = new Array();
    userd_showUdf2 = new Array();
    userd_showUdf3 = new Array();
    userd_showUserdefine1 = new Array();
    userd_showUserdefine2 = new Array();
    userd_QTY_index_Array = new Array();
    userd_PerSumQty_id = "";
    checkTotalInput = 0;
    userd_Ptltaskid = new Array();
    userd_LoatAtt04 = new Array();
    initPageOne();
    initPageTwo();
    initPageThree();
    initPageFour();
    initPageFive();
    initPageSix();
    initPageSeven();
    initPageEight();
    initPageNine();
    initPageTen();
    intiUserDefined();
    for (var i = 0; i < QSKeysObj.length; i++) {
        if (QSKeysObj[i] == "break") {
            break;
        }
        setObjValue(QSKeysObj[i], "");
    }
    autoFocus("init");
    if (userd_FromCombiningCart_Id != null && userd_FromCombiningCart_Id.length > 0 && userd_FromCombiningCart_IsInit) {
        userd_FromCombiningCart_IsInit = false;
        BATCHPREPICKING_ACTION();
        setValue(txt_CartNo_3, userd_FromCombiningCart_Id);
        doCartNo3Action();
    } else {
        if (getValue("hide_FromWavePickingDispach_CartNO_1") != null && getValue("hide_FromWavePickingDispach_CartNO_1").length > 0 && userd_FromCombiningCart_IsInit) {
            userd_FromCombiningCart_IsInit = false;
            BATCHPREPICKING_ACTION();
            setValue(txt_CartNo_3, getValue("hide_FromWavePickingDispach_CartNO_1"));
            doCartNo3Action();
        }
    }
}

function updateMessageBar(message) {
    if (message.indexOf("hide_Message_") == 0) {
        message = getValue(message);
    }
    for (var i = 0; i < lbl_MessageList_0.length; i++) {
        setInnerHTML(lbl_MessageList_0[i], message);
    }
}

function returnPrevPage() {
    showViewSingle(_prevView, inViewsKeys);
}

function initPageOne() {
}

function initPageTwo() {
    sfc_SetValue(txt_TerminalNo_2, "", sfc_Code_2);
    sfc_SetValue(txt_CartNo_2, "", sfc_Code_2);
    sfc_SetValue(txt_WaveNo_2, "", sfc_Code_2);
    sfc_SetValue(txt_TurnoverBoxNo_2, "", sfc_Code_2);
    sfc_SetValue(div_TurnoverBoxNoList_2, "", sfc_Code_2);
}

function initPageThree() {
    sfc_SetValue(txt_CartNo_3, "", sfc_Code_3);
    sfc_SetValue(chk_Sort_3, "", sfc_Code_3);
    sfc_SetValue(wxt_SKUDescr_3, "", sfc_Code_3);
    sfc_SetValue(wxt_FMLocation_3, "", sfc_Code_3);
    sfc_SetValue(txt_FMLocation_3, "", sfc_Code_3);
    sfc_SetValue(wxt_FMTraceID_3, "", sfc_Code_3);
    sfc_SetValue(txt_FMTraceID_3, "", sfc_Code_3);
    sfc_SetValue(wxt_SKU_3, "", sfc_Code_3);
    sfc_SetValue(txt_SKU_3, "", sfc_Code_3);
    sfc_SetValue(wxt_UDF1_3, "", sfc_Code_3);
    sfc_SetValue(wxt_UDF2_3, "", sfc_Code_3);
    sfc_SetValue(wxt_UDF3_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Userdefine1_3, "", sfc_Code_3);
    sfc_SetValue(wxt_Userdefine2_3, "", sfc_Code_3);
    sfc_SetValue(div_LocationInfoList_3, "", sfc_Code_3);
    setDisabled(txt_CartNo_3, false);
    document.getElementById(txt_PickingLookBack_3).style.display = "none";
}

function initPageFour() {
    sfc_SetValue(wxt_SKU_4, "", sfc_Code_4);
    sfc_SetValue(wxt_SKUDescr_4, "", sfc_Code_4);
    sfc_SetValue(wxt_Qty_4, "", sfc_Code_4);
    sfc_SetValue(txt_Banlance_4, "", sfc_Code_4);
    sfc_SetValue(div_BoxInfoList_4, "", sfc_Code_4);
}

function initPageFive() {
    sfc_SetValue(txt_SKU_5, "", sfc_Code_5);
    sfc_SetValue(wxt_SKUDescr_5, "", sfc_Code_5);
    sfc_SetValue(wxt_Qty_5, "0", sfc_Code_5);
    sfc_SetValue(wxt_AllQty_5, "0", sfc_Code_5);
    sfc_SetValue(div_BoxInfoList_5, "", sfc_Code_5);
}

function initPageSix() {
    sfc_SetValue(txt_XLocation_6, "", sfc_Code_6);
    sfc_SetValue(div_XLocationList_6, "", sfc_Code_6);
}

function initPageSeven() {
    sfc_SetValue(txt_SerialNo_7, "", sfc_Code_7);
    sfc_SetValue(div_SplitCartonList_7, "", sfc_Code_7);
}

function initPageEight() {
    sfc_SetValue(txt_NewCartonNo_8, "", sfc_Code_8);
    sfc_SetValue(txt_OldCartonNo_8, "", sfc_Code_8);
}

function initPageNine() {
    sfc_SetValue(txt_NewCartonNo_8, "", sfc_Code_8);
    sfc_SetValue(txt_OldCartonNo_8, "", sfc_Code_8);
    buf_ScanList_9 = new Array();
    userd_AllInfo_9 = null;
    buffer_InfoIndex = 0;
    MapForDoFMLocation = new JHashMap();
    getValue(hide_customerId_9, "");
    SuccesAfterLookBack_9 = "N";
}

function initPageTen() {
    sfc_SetValue(txt_CartNo_10, "", sfc_Code_10);
    sfc_SetValue(txt_TurnoverBoxNo_10, "", sfc_Code_10);
    sfc_SetValue(div_TurnoverBoxNoList_10, "", sfc_Code_10);
    buf_ScanList_10 = new Array();
    showScanTable_10();
}

function intiUserDefined() {
    userd_AllInfo_3 = null;
}

function isEnterAction(event) {
    return event.keyCode == 13;
}

function first_ActionControl(id, event) {
    if (event == null || event.keyCode == 13) {
        if (false) {
            initHtmlPage();
            return;
        }
        if (id == but_WaveLinkTurnoverBox_1) {
            doButWaveLinkTurnoverBox10Action(id);
            return;
        }
        if (id == but_ZoneLinkTurnoverBox_1) {
            LINKTRUNOVERBOX_ACTION(id);
            return;
        }
        if (id == but_BatchPrePicking_1) {
            BATCHPREPICKING_ACTION(id);
            return;
        }
        if (id == but_Confirm_1) {
            but_Confirm_1_Action(id);
            return;
        }
        if (id == but_Cancel_1) {
            but_Cancel_1_Action(id);
            return;
        }
        if (id == txt_TerminalNo_2) {
            txt_TerminalNo_2_Action(id);
            return;
        }
        if (id == txt_WaveNo_2) {
            doTxtWaveNo2Action(id);
            return;
        }
        if (id == but_QueryCartNo_2) {
            but_QueryCartNo_2_Action(id);
            return;
        }
        if (id == txt_CartNo_2) {
            txt_CartNo_2_Action(id);
            return;
        }
        if (id == txt_TurnoverBoxNo_2) {
            txt_TurnoverBoxNo_2_Action(id);
            return;
        }
        if (id == but_Complete_2) {
            but_Complete_2_Action(id);
            return;
        }
        if (id == but_Cancel_2) {
            but_Cancel_2_Action(id);
            return;
        }
        if (id == but_Delete_2) {
            doButDelete2Action(id);
            return;
        }
        if (id == txt_CartNo_3) {
            txt_CartNo_3_Action(id);
            return;
        }
        if (id == chk_Sort_3) {
            doChkSort3Action(id);
            return;
        }
        if (id == but_RelatingFmLocatin_3) {
            but_RelatingFmLocatin_3_Action(id);
            return;
        }
        if (id == but_PickingLookBack_3) {
            doButPickingLookBack3Action(id);
            return;
        }
        if (id == txt_FMLocation_3) {
            txt_FMLocation_3_Action(id);
            return;
        }
        if (id == txt_FMTraceID_3) {
            txt_FMTraceID_3_Action(id);
            return;
        }
        if (id == txt_SKU_3) {
            txt_SKU_3_Action(id);
            return;
        }
        if (id == but_Confirm_3) {
            but_Confirm_3_Action(id);
            return;
        }
        if (id == but_Cancel_3) {
            but_Cancel_3_Action(id);
            return;
        }
        if (id == but_StockOut_3) {
            but_StockOut_3_Action(id);
            return;
        }
        if (id == but_SplitCarton_3) {
            but_SplitCarton_3_Action(id);
            return;
        }
        if (id == cmb_PerCutQty_4) {
            cmb_PerCutQty_4_Action(id);
            return;
        }
        if (id == chk_ClearQty_4) {
            chk_ClearQty_4_Action(id);
            return;
        }
        if (id == cmb_ReasonCode_4) {
            cmb_ReasonCode_4_Action(id);
            return;
        }
        if (id == txt_Banlance_4) {
            return;
        }
        if (id == but_Confirm_4) {
            but_Confirm_4_Action(id);
            return;
        }
        if (id == but_Cancel_4) {
            but_Cancel_4_Action(id);
            return;
        }
        if (id == but_ChangeCarton_4) {
            butChangeCarton4Action(id);
            return;
        }
        if (id == txt_SKU_5) {
            txt_SKU_5_Action(id);
            return;
        }
        if (id == but_Confirm_5) {
            but_Confirm_5_Action(id);
            return;
        }
        if (id == but_Cancel_5) {
            but_Cancel_5_Action(id);
            return;
        }
        if (id == but_ChangeCarton_5) {
            butChangeCarton4Action(id);
            return;
        }
        if (id == txt_XLocation_6) {
            txt_XLocation_6_Action(id);
            return;
        }
        if (id == but_Unlinked_6) {
            but_Unlinked_6_Action(id);
            return;
        }
        if (id == but_Quit_6) {
            but_Quit_6_Action(id);
            return;
        }
        if (id == txt_SerialNo_7) {
            txt_SerialNo_7_Action(id);
            return;
        }
        if (id == but_SplitCarton_7) {
            but_SplitCarton_7_Action(id);
            return;
        }
        if (id == but_Cancel_7) {
            but_Cancel_7_Action(id);
            return;
        }
        if (id == txt_OldCartonNo_8) {
            txtOldCartonNo8Action(id);
            return;
        }
        if (id == txt_NewCartonNo_8) {
            txtNewCartonNo8Action(id);
            return;
        }
        if (id == but_Confirm_8) {
            butConfirm8Action(id);
            return;
        }
        if (id == but_Cancel_8) {
            butCancel8Action(id);
            return;
        }
        if (id == txt_Sku_9) {
            doTxtSku9Action(id);
            return;
        }
        if (id == but_GetLastOne_9) {
            doButGetLastOne9Action(id);
            return;
        }
        if (id == but_GetNextOne_9) {
            doButGetNextOne9Action(id);
            return;
        }
        if (id == but_Cancel_9) {
            doButCancel9Action(id);
            return;
        }
        if (id == but_QueryCartNo_10) {
            doButQueryCartNo10Action(id);
            return;
        }
        if (id == txt_CartNo_10) {
            doTxtCartNo10Action(id);
            return;
        }
        if (id == txt_TurnoverBoxNo_10) {
            doTxtTurnoverBoxNo10Action(id);
            return;
        }
        if (id == but_Complete_10) {
            butComplete10Action(id);
            return;
        }
        if (id == but_Cancel_10) {
            doButCancel10Action(id);
            return;
        }
        if (id == but_Delete_10) {
            doButDelete10Action(id);
            return;
        }
        alert("function first_ActionControl() is Error: " + id + " not found.");
    }
}

function autoFocus(id) {
    if (id == "init") {
        autoFocus(sfc_GetNextId(id, sfc_Code_1));
        return;
    }
    if (id == but_WaveLinkTurnoverBox_1) {
        setFocus2(but_WaveLinkTurnoverBox_1);
        updateMessageBar("");
        return;
    }
    if (id == but_ZoneLinkTurnoverBox_1) {
        setFocus2(but_ZoneLinkTurnoverBox_1);
        updateMessageBar("");
        return;
    }
    if (id == but_BatchPrePicking_1) {
        setFocus2(but_BatchPrePicking_1);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_1) {
        setFocus2(but_WaveLinkTurnoverBox_1);
        updateMessageBar("");
        return;
    }
    if (id == txt_TerminalNo_2) {
        setFocus(txt_TerminalNo_2);
        updateMessageBar(hide_Message_01);
        return;
    }
    if (id == "ERROR" + txt_TerminalNo_2) {
        setFocus(txt_TerminalNo_2);
        updateMessageBar(hide_Message_03);
        return;
    }
    if (id == txt_WaveNo_2) {
        setFocus(txt_WaveNo_2);
        updateMessageBar(hide_Message_41);
        return;
    }
    if (id == txt_CartNo_2) {
        setFocus(txt_CartNo_2);
        updateMessageBar(hide_Message_02);
        return;
    }
    if (id == "ERROR" + txt_CartNo_2) {
        setFocus(txt_CartNo_2);
        updateMessageBar(hide_Message_12);
        return;
    }
    if (id == txt_TurnoverBoxNo_2) {
        setFocus(txt_TurnoverBoxNo_2);
        updateMessageBar(hide_Message_04);
        return;
    }
    if (id == "OK" + txt_TurnoverBoxNo_2) {
        setFocus(txt_TurnoverBoxNo_2);
        updateMessageBar(getValue(hide_Message_07).replace("&1", " #" + userd_BoxNo.length));
        return;
    }
    if (id == "ERROR2" + txt_TurnoverBoxNo_2) {
        setFocus(txt_TurnoverBoxNo_2);
        updateMessageBar(getValue(hide_Message_08).replace("&1", " SPRF_BatchPicking "));
        return;
    }
    if (id == but_Complete_2) {
        setFocus2(but_Complete_2);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_2) {
        doButConfirm2Action();
        return;
    }
    if (id == txt_CartNo_3) {
        setFocus(txt_CartNo_3);
        updateMessageBar(hide_Message_02);
        return;
    }
    if (id == "ERROR" + txt_CartNo_3) {
        setFocus(txt_CartNo_3);
        updateMessageBar(hide_Message_12);
        return;
    }
    if (id == txt_FMLocation_3) {
        setFocus(txt_FMLocation_3);
        updateMessageBar(hide_Message_09);
        return;
    }
    if (id == "ERROR1" + txt_FMLocation_3) {
        setFocus(txt_FMLocation_3);
        updateMessageBar(hide_Message_13);
        return;
    }
    if (id == "ERROR2" + txt_FMLocation_3) {
        setFocus(txt_FMLocation_3);
        updateMessageBar(hide_Message_11);
        return;
    }
    if (id == txt_FMTraceID_3) {
        setFocus(txt_FMTraceID_3);
        updateMessageBar(hide_Message_18);
        return;
    }
    if (id == "ERROR1" + txt_FMTraceID_3) {
        setFocus(txt_FMTraceID_3);
        updateMessageBar(hide_Message_19);
        return;
    }
    if (id == "ERROR2" + txt_FMTraceID_3) {
        setFocus(txt_FMTraceID_3);
        updateMessageBar(hide_Message_22);
        return;
    }
    if (id == txt_SKU_3) {
        setFocus(txt_SKU_3);
        updateMessageBar(hide_Message_21);
        return;
    }
    if (id == "ERROR" + txt_SKU_3) {
        setFocus(txt_SKU_3);
        updateMessageBar(hide_Message_23);
        return;
    }
    if (id == but_RelatingFmLocatin_3) {
        setFocus2(but_RelatingFmLocatin_3);
        updateMessageBar(getValue(hide_Message_26).replace("&1", getValue2(wxt_FMLocation_3)));
        return;
    }
    if (id == but_SplitCarton_3) {
        setFocus2(but_SplitCarton_3);
        updateMessageBar("");
        return;
    }
    if (id == "ERROR" + but_SplitCarton_3) {
        setFocus2(but_SplitCarton_3);
        updateMessageBar(hide_Message_27);
        return;
    }
    if (id == "OK" + but_SplitCarton_3) {
        setFocus2(but_SplitCarton_3);
        updateMessageBar(hide_Message_31);
        return;
    }
    if (id == but_Confirm_3) {
        setFocus2(but_Confirm_3);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_3) {
        doButConfirm3Action();
        return;
    }
    if (id == cmb_ReasonCode_4) {
        setFocus2(cmb_ReasonCode_4);
        updateMessageBar("");
        return;
    }
    if (id == but_Confirm_4) {
        setFocus2(but_Confirm_4);
        updateMessageBar("");
        return;
    }
    if (id == but_ChangeCarton_4) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_4) {
        doButConfirm4Action();
        return;
    }
    if (id == txt_SKU_5) {
        setFocus(txt_SKU_5);
        updateMessageBar(hide_Message_21);
        return;
    }
    if (id == "ERROR" + txt_SKU_5) {
        setFocus(txt_SKU_5);
        updateMessageBar(hide_Message_23);
        return;
    }
    if (id == but_Confirm_5) {
        setFocus2(but_Confirm_5);
        updateMessageBar("");
        return;
    }
    if (id == but_ChangeCarton_5) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_5) {
        doButConfirm5Action();
        return;
    }
    if (id == txt_XLocation_6) {
        setFocus(txt_XLocation_6);
        updateMessageBar(hide_Message_09);
        return;
    }
    if (id == "ERROR" + txt_XLocation_6) {
        setFocus(txt_XLocation_6);
        updateMessageBar(hide_Message_11);
        return;
    }
    if (id == but_Unlinked_6) {
        setFocus2(but_Unlinked_6);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_6) {
        doButUnlinked6Action();
        return;
    }
    if (id == txt_SerialNo_7) {
        setFocus(txt_SerialNo_7);
        updateMessageBar(hide_Message_28);
        return;
    }
    if (id == "ERROR1" + txt_SerialNo_7) {
        setFocus(txt_SerialNo_7);
        updateMessageBar(hide_Message_29);
        return;
    }
    if (id == "ERROR2" + txt_SerialNo_7) {
        setFocus(txt_SerialNo_7);
        updateMessageBar(hide_Message_30);
        return;
    }
    if (id == but_SplitCarton_7) {
        setFocus2(but_SplitCarton_7);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_7) {
        doButSplitCarton7Action();
        return;
    }
    if (id == txt_OldCartonNo_8) {
        setFocus(id);
        updateMessageBar(hide_Message_36);
        return;
    }
    if (id == "EQUAL" + txt_OldCartonNo_8) {
        setFocus(txt_OldCartonNo_8);
        updateMessageBar(hide_Message_38);
        return;
    }
    if (id == txt_NewCartonNo_8) {
        setFocus(id);
        updateMessageBar(hide_Message_35);
        return;
    }
    if (id == but_Confirm_8) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_8) {
        butCancel8Action();
        return;
    }
    if (id == txt_Sku_9) {
        setFocus(id);
        updateMessageBar(hide_Message_21);
        return;
    }
    if (id == but_GetLastOne_9) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == but_GetLastOne_9) {
        setFocus2(id);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_9) {
        butCancel9Action();
        return;
    }
    if (id == txt_CartNo_10) {
        setFocus(txt_CartNo_10);
        updateMessageBar(hide_Message_41);
        return;
    }
    if (id == "ERROR" + txt_CartNo_10) {
        setFocus(txt_CartNo_10);
        updateMessageBar(hide_Message_43);
        return;
    }
    if (id == txt_TurnoverBoxNo_10) {
        setFocus(txt_TurnoverBoxNo_10);
        updateMessageBar(hide_Message_04);
        return;
    }
    if (id == "OK" + txt_TurnoverBoxNo_10) {
        setFocus(txt_TurnoverBoxNo_10);
        updateMessageBar(getValue(hide_Message_07).replace("&1", " #" + userd_BoxNo.length));
        return;
    }
    if (id == "ERROR2" + txt_TurnoverBoxNo_10) {
        setFocus(txt_TurnoverBoxNo_10);
        updateMessageBar(getValue(hide_Message_08).replace("&1", " SPRF_BatchPicking "));
        return;
    }
    if (id == but_Complete_10) {
        setFocus2(but_Complete_10);
        updateMessageBar("");
        return;
    }
    if (id == sfc_Code_10) {
        doButConfirm10Action();
        updateMessageBar("");
        return;
    }
    alert("function autoFocus() is Error: " + id + " not found.");
}

function LINKTRUNOVERBOX_ACTION() {
    initHtmlPage();
    showViewSingle(_div2Input, inViewsKeys);
    autoFocus(sfc_GetNextId("", sfc_Code_2));
    putInfoIntoTable();
}

function putInfoIntoTable() {
    userd_selectIndex_1 = -1;
    var tableCode = new Array();
    for (var i = 0; i < userd_BoxNo.length; i++) {
        tableCode.push(new Array("LOC: " + userd_LocNo[i], userd_BoxNo[i]));
    }
    Table_CreateTable(div_TurnoverBoxNoList_2, new Array(getValue(hide_Lbl_02), getValue(hide_Lbl_05)), tableCode, 4, "singleAction_1", "doubleAction_1", "", false, false);
}

function singleAction_1(id) {
}

function doubleAction_1(id) {
    select_Line_ACTION(id);
}

function select_Line_ACTION(index) {
    if (confirm(getValue(hide_Message_05).replace("&1", " " + userd_BoxNo[index] + " "))) {
        setValue(hide_DELETEBOX_2, userd_BoxNo[index]);
        _prevView = _div2Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "deleteBox", QSKeys, deleteBox);
    }
}

function deleteBox(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate6) {
        lastSEQUpdate6 = curSEQ;
        showViewSingle(_div2Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            var cartNoValue = getValue2(txt_CartNo_2);
            initHtmlPage();
            LINKTRUNOVERBOX_ACTION();
            setValue(txt_CartNo_2, cartNoValue);
            doCartNoAction();
        } else {
            updateMessageBar(getValue(hide_Message_14).replace("&1", " IDX_PICKTOLIGHT "));
        }
    }
}

function BATCHPREPICKING_ACTION() {
    initHtmlPage();
    showViewSingle(_div3Input, inViewsKeys);
    showLocationInfo();
    autoFocus(sfc_GetNextId("", sfc_Code_3));
}

function showLocationInfo() {
    var locationMessage = new Array();
    for (var i = 0; i < userd_showLocation.length; i++) {
        locationMessage.push(new Array(userd_showLocation[i], userd_showSku[i], userd_showQty[i]));
    }
    Table_CreateTable(div_LocationInfoList_3, new Array(getValue(hide_Lbl_02), getValue(hide_Lbl_03), getValue(hide_Lbl_04)), locationMessage, 2, "", "", "", false, false);
}

function doButWaveLinkTurnoverBox10Action(id) {
    initHtmlPage();
    showViewSingle(_div10Input, inViewsKeys);
    autoFocus(txt_CartNo_10);
    showScanTable_10();
}

function but_Confirm_1_Action(id) {
    LINKTRUNOVERBOX_ACTION();
}

function but_Cancel_1_Action(id) {
    first_But_Cancel_Action();
}

function txt_TerminalNo_2_Action(id) {
    doTerminalNoAction();
}

function doTerminalNoAction() {
    var terminalNoValue = getValue2(txt_TerminalNo_2);
    if (terminalNoValue.length == 0) {
        autoFocus(txt_TerminalNo_2);
        return;
    }
    setValue(hide_TERMINALNO_2, terminalNoValue);
    _prevView = _div2Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "checkTerminalNo", QSKeys, checkTerminalNo);
}

function checkTerminalNo(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate1) {
        lastSEQUpdate1 = curSEQ;
        showViewSingle(_div2Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            autoFocus(sfc_GetNextId(txt_TerminalNo_2, sfc_Code_2));
        } else {
            autoFocus("ERROR" + txt_TerminalNo_2);
        }
    }
}

function doTxtWaveNo2Action(id) {
    autoFocus(sfc_GetNextId(txt_WaveNo_2, sfc_Code_2));
}

function txt_CartNo_2_Action(id) {
    doCartNoAction();
}

function doCartNoAction() {
    var cartNoValue = getValue2(txt_CartNo_2);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_2);
        return;
    }
    setValue(hide_CARTNO_2, cartNoValue);
    doSpAnalyzerCartNo();
}

function doSpAnalyzerCartNo() {
    first_SetNextMusicOff();
    _prevView = _div2Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "doSpAnalyzerCartNoAction", QSKeys, doSpAnalyzerCartNoAction);
}

function doSpAnalyzerCartNoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            playMusic("OK");
            setValue(txt_CartNo_2, returnMessage);
            setValue(hide_CARTNO_2, returnMessage);
            first_SetNextMusicOff();
            _prevView = _div2Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "findCartInfo", QSKeys, findCartInfo);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                playMusic("OK");
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("ERROR" + txt_CartNo_2);
            } else {
                playMusic("ERROR");
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function findCartInfo(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate4) {
        userd_BoxNo = new Array();
        userd_LocNo = new Array();
        lastSEQUpdate4 = curSEQ;
        showViewSingle(_div2Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            playMusic("OK");
            var obj2 = replyData.strData2;
            if (false && obj2[0].PICKTOLOCATION == "#0OTHERCARTNO" && first_EchoMessage(getValue(hide_Message_20).replace("&1", obj2[0].OFFLINETRACEID), first_Confirm, "")) {
                putInfoIntoTable();
                autoFocus(txt_CartNo_2);
            } else {
                for (var i = 0; i < obj2.length; i++) {
                    if (obj2[i].PICKTOLOCATION == "#0OTHERCARTNO") {
                        continue;
                    }
                    userd_BoxNo.push(obj2[i].OFFLINETRACEID);
                    userd_LocNo.push(obj2[i].PICKTOLOCATION);
                }
                putInfoIntoTable();
                autoFocus(sfc_GetNextId(txt_CartNo_2, sfc_Code_2));
            }
        } else {
            playMusic("OK");
            putInfoIntoTable();
            autoFocus(sfc_GetNextId(txt_CartNo_2, sfc_Code_2));
        }
    }
}

function txt_TurnoverBoxNo_2_Action(id) {
    doTurnOverBoxNoAction();
}

function doTurnOverBoxNoAction() {
    var turnOverBoxNoValue = getValue2(txt_TurnoverBoxNo_2);
    if (turnOverBoxNoValue.length == 0) {
        autoFocus(txt_TurnoverBoxNo_2);
        return;
    }
    setValue(hide_TURNOVERBOXNO_2, turnOverBoxNoValue);
    setValue(hide_TERMINALNO_2, getValue2(txt_TerminalNo_2));
    setValue(hide_CARTNO_2, getValue2(txt_CartNo_2));
    setValue(hide_WaveNo_2, getValue2(txt_WaveNo_2));
    for (var i = 0; i < userd_BoxNo.length; i++) {
        if (turnOverBoxNoValue == userd_BoxNo[i]) {
            setFocus(txt_TurnoverBoxNo_2);
            updateMessageBar(hide_Message_40);
            startMusic();
            return;
        }
    }
    if (buf_seqFlag != lastSEQUpdate2) {
        buf_seqFlag = lastSEQUpdate2;
    } else {
        return;
    }
    _prevView = _div2Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "linkTurnOverBox", QSKeys, linkTurnOverBox);
}

function linkTurnOverBox(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate2) {
        lastSEQUpdate2 = curSEQ;
        showViewSingle(_div2Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            var returnMessage = replyData.mesg;
            if (returnMessage.indexOf("ERROR_STRING_1") == -1) {
                userd_BoxNo[userd_BoxNo.length] = getValue2(txt_TurnoverBoxNo_2);
                userd_LocNo[userd_LocNo.length] = returnMessage;
                putInfoIntoTable();
                setValue(txt_TurnoverBoxNo_2, "");
                setValue(hide_TURNOVERBOXNO_2, "");
                autoFocus("OK" + txt_TurnoverBoxNo_2);
            } else {
                if (returnMessage.indexOf("ERROR_STRING_1") == 0) {
                    setFocus(txt_TurnoverBoxNo_2);
                    updateMessageBar(returnMessage.replace("ERROR_STRING_1:-->", "").replace("<--", ""));
                } else {
                    setFocus(txt_TurnoverBoxNo_2);
                    updateMessageBar(returnMessage.replace("ERROR_STRING_2:-->", "").replace("<--", ""));
                }
            }
        } else {
            initHtmlPage();
            updateMessageBar(getValue2(hide_Message_08).replace("&1", " SPRF_BatchPicking "));
        }
    }
}

function but_Complete_2_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_2);
    if (nextId == sfc_Code_2 || userd_BoxNo.length > 0) {
        doButConfirm2Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm2Action() {
    var cartNoValue = getValue2(txt_CartNo_2);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_2);
        return;
    }
    if (userd_BoxNo.length == 0) {
        autoFocus(txt_TurnoverBoxNo_2);
        return;
    }
    showViewSingle(_div3Input, inViewsKeys);
    setValue(txt_CartNo_3, cartNoValue);
    updateMessageBar("");
    doCartNo3GetInfoAction();
}

function doCartNo3GetInfoAction() {
    var cartNoValue = getValue2(txt_CartNo_3);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_3);
        return;
    }
    setValue(hide_CARTNO_3, cartNoValue);
    userd_Location = new Array();
    userd_Sku = new Array();
    userd_SkuName = new Array();
    userd_CustomerID = new Array();
    userd_Qty = new Array();
    userd_Uom = new Array();
    userd_TurnOverBoxNo = new Array();
    userd_PickToLocation = new Array();
    userd_FmTraceId = new Array();
    userd_WaveNo = new Array();
    userd_showLocation = new Array();
    userd_showSku = new Array();
    userd_showSkuName = new Array();
    userd_showQty = new Array();
    userd_showUom = new Array();
    userd_showTraceId = new Array();
    userd_showUdf1 = new Array();
    userd_showUdf2 = new Array();
    userd_showUdf3 = new Array();
    userd_CustomerId = new Array();
    userd_showUserdefine1 = new Array();
    userd_showUserdefine2 = new Array();
    userd_Ptltaskid = new Array();
    userd_LoatAtt04 = new Array();
    _prevView = _div3Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getLocationInfo", QSKeys, getLocationInfo);
}

function but_Cancel_2_Action(id) {
    initHtmlPage();
}

function but_QueryCartNo_2_Action(id) {
    var terminalNoValue = getValue2(txt_TerminalNo_2);
    if (terminalNoValue.length == 0) {
        autoFocus(txt_TerminalNo_2);
        return;
    }
    setValue(hide_TERMINALNO_2, terminalNoValue);
    _prevView = _div2Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getCartNoAction", QSKeys, getCartNoAction);
}

function getCartNoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(txt_CartNo_2, returnMessage);
            doCartNoAction();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doButDelete2Action(id) {
    var cartNoValue = getValue2(txt_CartNo_2);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_2);
        return;
    }
    if (userd_BoxNo.length <= 0) {
        autoFocus(txt_CartNo_02);
        return;
    }
    setValue(hide_CARTNO_2, cartNoValue);
    var scanList = new Array();
    for (var i = 0; i < userd_BoxNo.length; i++) {
        if (i > 0) {
            scanList.push(";");
        }
        scanList.push(userd_LocNo[i] + ":" + userd_BoxNo[i]);
    }
    setValue(hide_ScanList_10, scanList.join(""));
    _prevView = _div2Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "doDeleteBundingAction", QSKeys, doDeleteBundingAction);
}

function txt_CartNo_3_Action(id) {
    doCartNo3Action();
}

function doCartNo3Action() {
    var cartNoValue = getValue2(txt_CartNo_3);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_3);
        return;
    }
    setValue(hide_CARTNO_3, cartNoValue);
    userd_Location = new Array();
    userd_Sku = new Array();
    userd_SkuName = new Array();
    userd_CustomerID = new Array();
    userd_Qty = new Array();
    userd_Uom = new Array();
    userd_TurnOverBoxNo = new Array();
    userd_PickToLocation = new Array();
    userd_FmTraceId = new Array();
    userd_WaveNo = new Array();
    userd_showLocation = new Array();
    userd_showSku = new Array();
    userd_showSkuName = new Array();
    userd_showQty = new Array();
    userd_showUom = new Array();
    userd_showTraceId = new Array();
    userd_showUdf1 = new Array();
    userd_showUdf2 = new Array();
    userd_showUdf3 = new Array();
    userd_CustomerId = new Array();
    userd_showUserdefine1 = new Array();
    userd_showUserdefine2 = new Array();
    userd_Ptltaskid = new Array();
    userd_LoatAtt04 = new Array();
    _prevView = _div3Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getLocationInfo", QSKeys, getLocationInfo);
}

function getLocationInfo(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate3) {
        lastSEQUpdate3 = curSEQ;
        showViewSingle(_div3Input, inViewsKeys);
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            setValue(txt_CartNo_3, returnMessage);
            setValue(hide_CARTNO_3, returnMessage);
            var obj2 = replyData.strData2;
            userd_AllInfo_3 = replyData.strData2;
            if (obj2.length == 0) {
                var cartNoValue = getValue2(txt_CartNo_3);
                initHtmlPage();
                BATCHPREPICKING_ACTION();
                setValue(txt_CartNo_3, cartNoValue);
                autoFocus("ERROR" + txt_CartNo_3);
                return;
            }
            for (var i = 0; i < obj2.length; i++) {
                if (obj2[i].PICKTOLOCATION != "#0000" || obj2.length > 1) {
                    break;
                }
                if ((i + 1) == obj2.length) {
                    var cartNoValue = getValue2(txt_CartNo_3);
                    initHtmlPage();
                    BATCHPREPICKING_ACTION();
                    setValue(txt_CartNo_3, cartNoValue);
                    autoFocus("ERROR" + txt_CartNo_3);
                    return;
                }
            }
            if (obj2[0].PICKTOLOCATION == "#0000" && first_EchoMessage(getValue(hide_Message_20).replace("&1", obj2[0].CARTNO), first_Confirm, "")) {
                showViewSingle(_div3Input, inViewsKeys);
                var cartNoValue = getValue2(txt_CartNo_3);
                initHtmlPage();
                BATCHPREPICKING_ACTION();
                setValue(txt_CartNo_3, cartNoValue);
                setFocus(txt_CartNo_3);
                return;
            }
            addBuffer(obj2);
        } else {
            var obj2 = replyData.strData2;
            if (obj2.indexOf("ERROR_STRING_") == 0) {
                initHtmlPage();
                updateMessageBar(getValue(hide_Message_10).replace("&1", " IDX_PICKTOLIGHT and BAS_LOCATION "));
            } else {
                var cartNoValue = getValue2(txt_CartNo_3);
                initHtmlPage();
                BATCHPREPICKING_ACTION();
                setValue(txt_CartNo_3, cartNoValue);
                autoFocus("ERROR" + txt_CartNo_3);
                if (returnMessage.length > 0) {
                    updateMessageBar(returnMessage);
                }
            }
        }
    }
}

var txtFmLocation3Obj = getObjectById(txt_FMLocation_3);
var wxtFmLocation3Obj = getObjectById(wxt_FMLocation_3);
var txtFmTraceId3Obj = getObjectById(txt_FMTraceID_3);
var wxtFmTraceId3Obj = getObjectById(wxt_FMTraceID_3);
var wxtSku3Obj = getObjectById(wxt_SKU_3);
var wxtSkuDescr3Obj = getObjectById(wxt_SKUDescr_3);
var wxtSku3Obj = getObjectById(wxt_SKU_3);
var txtSku3Obj = getObjectById(txt_SKU_3);
var wxtUdf13Obj = getObjectById(wxt_UDF1_3);
var wxtUdf23Obj = getObjectById(wxt_UDF2_3);
var wxtUdf33Obj = getObjectById(wxt_UDF3_3);
var wxtUserdefine13Obj = getObjectById(wxt_Userdefine1_3);
var wxtUserdefine23Obj = getObjectById(wxt_Userdefine2_3);
var wxtUserdefine33Obj = getObjectById(wxt_SKU_4);
var wxtSkuDescr4Obj = getObjectById(wxt_SKUDescr_4);
var wxtQty4Obj = getObjectById(wxt_Qty_4);
var wxtAllQty5Obj = getObjectById(wxt_AllQty_5);
var hideSku4Obj = getObjectById(hide_SKU_4);
var hideFmLocation3Obj = getObjectById(hide_FMLOCATION_3);
var hideFmTraceId3Obj = getObjectById(hide_FMTRACEID_3);
var hideCustomerId3Obj = getObjectById(hide_customerId_3);

function getObjectById(id) {
    return document.getElementById(id);
}

function setObjValue(obj, value) {
    if (obj == null) {
        return;
    }
    obj.value = value;
}

function addBuffer(obj2) {
    var flagIndex = "Y";
    if (getValue(chk_Sort_3) == "N") {
        for (var i = 0; i < obj2.length; i++) {
            var obj = obj2[i];
            if (obj.PICKTOLOCATION == "#0000") {
                flagIndex = "Y";
                continue;
            }
            var locationID = obj.FMLOCATION;
            var sku = obj.SKU;
            var skuName = obj.SKUNAME;
            var customerID = "";
            customerID = obj.CUSTOMERID;
            var qty = obj.FMQTY;
            var uom = obj.UOM;
            var turnOverBoxNo = obj.TURNOVERBOXNO;
            var pickToLocation = obj.PICKTOLOCATION;
            var fmTraceId = obj.FMTRACEID;
            var waveNo = obj.WAVENO;
            var udf1 = obj.UDF1;
            var udf2 = obj.UDF2;
            var udf3 = obj.UDF3;
            var userdefine1 = obj.USERDEFINE1;
            var userdefine2 = obj.USERDEFINE2;
            var PTLTASKID = obj.PTLTASKID;
            var LOTATT04 = obj.LOTATT04;
            userd_Location.push(locationID);
            userd_Sku.push(sku);
            userd_SkuName.push(skuName);
            userd_CustomerID.push(customerID);
            userd_Qty.push(qty);
            userd_Uom.push(uom);
            userd_TurnOverBoxNo.push(turnOverBoxNo);
            userd_PickToLocation.push(pickToLocation);
            userd_FmTraceId.push(fmTraceId);
            userd_WaveNo.push(waveNo);
            userd_Ptltaskid.push(PTLTASKID);
            userd_LoatAtt04.push(LOTATT04.toUpperCase());
            var index = -1;
            for (var j = 0; j < userd_showLocation.length; j++) {
                if (userd_showLocation[j] == locationID && userd_showTraceId[j] == fmTraceId && userd_showSku[j] == sku && userd_CustomerID[j] == customerID && userd_showUom[j] == uom) {
                    index = j;
                    break;
                }
            }
            if (index == -1) {
                userd_showLocation.push(locationID);
                userd_showSku.push(sku);
                userd_showSkuName.push(skuName);
                userd_showQty.push(parseFloat(qty));
                userd_showUom.push(uom);
                userd_showTraceId.push(fmTraceId);
                userd_showUdf1.push(udf1);
                userd_showUdf2.push(udf2);
                userd_showUdf3.push(udf3);
                userd_CustomerId.push(customerID);
                userd_showUserdefine1.push(userdefine1);
                userd_showUserdefine2.push(userdefine2);
                if (flagIndex == "Y") {
                    sfc_SetValue(txt_FMLocation_3, locationID, sfc_Code_3);
                    setObjValue(wxtFmLocation3Obj, locationID);
                    sfc_SetValue(txt_FMTraceID_3, fmTraceId, sfc_Code_3);
                    setObjValue(wxtFmTraceId3Obj, fmTraceId);
                    setObjValue(wxtSkuDescr3Obj, skuName);
                    setObjValue(wxtSku3Obj, sku);
                    sfc_SetValue(txt_SKU_3, sku, sfc_Code_3);
                    setObjValue(wxtUdf13Obj, udf1);
                    setObjValue(wxtUdf23Obj, udf2);
                    setObjValue(wxtUdf33Obj, udf3);
                    setObjValue(wxtUserdefine13Obj, userdefine1);
                    setObjValue(wxtUserdefine23Obj, userdefine2);
                    setObjValue(wxtUserdefine33Obj, sku);
                    setObjValue(wxtSkuDescr4Obj, skuName);
                    setObjValue(wxtQty4Obj, qty);
                    setObjValue(wxtAllQty5Obj, qty);
                    flagIndex = "N";
                }
            } else {
                userd_showQty[index] = parseFloat(userd_showQty[index]) + parseFloat(qty);
            }
        }
    } else {
        for (var i = obj2.length - 1; i >= 0; i--) {
            var obj = obj2[i];
            if (obj.PICKTOLOCATION == "#0000") {
                flagIndex = "Y";
                continue;
            }
            var locationID = obj.FMLOCATION;
            var sku = obj.SKU;
            var skuName = obj.SKUNAME;
            var customerID = "";
            customerID = obj.CUSTOMERID;
            var qty = obj.FMQTY;
            var uom = obj.UOM;
            var turnOverBoxNo = obj.TURNOVERBOXNO;
            var pickToLocation = obj.PICKTOLOCATION;
            var fmTraceId = obj.FMTRACEID;
            var waveNo = obj.WAVENO;
            var udf1 = obj.UDF1;
            var udf2 = obj.UDF2;
            var udf3 = obj.UDF3;
            var userdefine1 = obj.USERDEFINE1;
            var userdefine2 = obj.USERDEFINE2;
            var PTLTASKID = obj.PTLTASKID;
            var LOTATT04 = obj.LOTATT04;
            userd_Location.push(locationID);
            userd_Sku.push(sku);
            userd_SkuName.push(skuName);
            userd_CustomerID.push(customerID);
            userd_Qty.push(qty);
            userd_Uom.push(uom);
            userd_TurnOverBoxNo.push(turnOverBoxNo);
            userd_PickToLocation.push(pickToLocation);
            userd_FmTraceId.push(fmTraceId);
            userd_WaveNo.push(waveNo);
            userd_Ptltaskid.push(PTLTASKID);
            userd_LoatAtt04.push(LOTATT04.toUpperCase());
            var index = -1;
            for (var j = 0; j < userd_showLocation.length; j++) {
                if (userd_showLocation[j] == locationID && userd_showTraceId[j] == fmTraceId && userd_showSku[j] == sku && userd_CustomerID[j] == customerID && userd_showUom[j] == uom) {
                    index = j;
                    break;
                }
            }
            if (index == -1) {
                userd_showLocation.push(locationID);
                userd_showSku.push(sku);
                userd_showSkuName.push(skuName);
                userd_showQty.push(parseFloat(qty));
                userd_showUom.push(uom);
                userd_showTraceId.push(fmTraceId);
                userd_showUdf1.push(udf1);
                userd_showUdf2.push(udf2);
                userd_showUdf3.push(udf3);
                userd_CustomerId.push(customerID);
                userd_showUserdefine1.push(userdefine1);
                userd_showUserdefine2.push(userdefine2);
                if (flagIndex == "Y") {
                    sfc_SetValue(txt_FMLocation_3, locationID, sfc_Code_3);
                    setObjValue(wxtFmLocation3Obj, locationID);
                    sfc_SetValue(txt_FMTraceID_3, fmTraceId, sfc_Code_3);
                    setObjValue(wxtFmTraceId3Obj, fmTraceId);
                    setObjValue(wxtSkuDescr3Obj, skuName);
                    setObjValue(wxtSku3Obj, sku);
                    sfc_SetValue(txt_SKU_3, sku, sfc_Code_3);
                    setObjValue(wxtUdf13Obj, udf1);
                    setObjValue(wxtUdf23Obj, udf2);
                    setObjValue(wxtUdf33Obj, udf3);
                    setObjValue(wxtUserdefine13Obj, userdefine1);
                    setObjValue(wxtUserdefine23Obj, userdefine2);
                    setObjValue(wxtUserdefine33Obj, sku);
                    setObjValue(wxtSkuDescr4Obj, skuName);
                    setObjValue(wxtQty4Obj, qty);
                    setObjValue(wxtAllQty5Obj, qty);
                    flagIndex = "N";
                }
            } else {
                userd_showQty[index] = parseFloat(userd_showQty[index]) + parseFloat(qty);
            }
        }
    }
    setObjValue(hideSku4Obj, userd_showSku[0]);
    setObjValue(hideFmLocation3Obj, userd_showLocation[0].toUpperCase());
    setObjValue(hideFmTraceId3Obj, userd_showTraceId[0].toUpperCase());
    setObjValue(hideCustomerId3Obj, userd_CustomerID[0]);
    WCO_PCK_PCS_SCN = first_GetParameterValue(getValue(hide_PCK_PCS_SCN), userd_CustomerID[0], "*", p_warehouseId);
    setTimeout(showLocationInfo, 1);
    autoFocus(sfc_GetNextId(txt_CartNo_3, sfc_Code_3));
}

function txt_FMLocation_3_Action(id) {
    doFmLocationAction();
}

function doFmLocationAction() {
    var fmLocationValue = first_GetLocationValue(txt_FMLocation_3);
    if (fmLocationValue.length == 0) {
        startMusic();
        autoFocus(txt_FMLocation_3);
        return;
    }
    var fmLocationLblValue = getValue2(wxt_FMLocation_3);
    if (fmLocationLblValue != fmLocationValue) {
        startMusic();
        autoFocus("ERROR1" + txt_FMLocation_3);
        return;
    }
    startMusic2();
    autoFocus(sfc_GetNextId(txt_FMLocation_3, sfc_Code_3));
}

function txt_FMTraceID_3_Action(id) {
    doFmTraceIdAction();
}

function doFmTraceIdAction() {
    var fmTraceIdValue = getValue2(txt_FMTraceID_3);
    if (fmTraceIdValue.length == 0) {
        autoFocus(txt_FMTraceID_3);
        return;
    }
    autoFocus(sfc_GetNextId(txt_FMTraceID_3, sfc_Code_3));
}

function txt_SKU_3_Action(id) {
    var skuValue = getValue2(txt_SKU_3);
    if (skuValue.length == 0) {
        startMusic();
        autoFocus(txt_SKU_3);
        return;
    }
    doTxtSku3Action();
}

function doTxtSku3Action() {
    var skuValue = getValue2(txt_SKU_3);
    if (skuValue.length == 0) {
        autoFocus(txt_SKU_3);
        return;
    }
    var paramInfo = new Array("PCK", "", "", getValue2(hide_customerId_3), "", skuValue);
    SkuBarcodeAnalyzer_SetAddWhere(" AND ALLOWSHIPMENT='Y' ");
    SkuBarcodeAnalyzer_SetParameterAttribute(getValue2(hide_customerId_3), "*", "*");
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, goOnDoTxtSku3Action);
}

function goOnDoTxtSku3Action() {
    var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
    var returnCode = skuInfo[0];
    showViewSingle(_div3Input, inViewsKeys);
    if (returnCode == codeValue_OK) {
        var skuOutput = skuInfo[1];
        setValue(txt_SKU_3, skuOutput);
        var skuValue = getValue2(txt_SKU_3);
        if (skuValue.length == 0) {
            autoFocus(txt_SKU_3);
            return;
        }
        var skuValue = getValue2(txt_SKU_3);
        if (skuValue != getValue2(wxt_SKU_3)) {
            autoFocus(txt_SKU_3);
            updateMessageBar(hide_Message_45);
            return;
        }
        doButConfirm3Action();
    } else {
        if (returnCode == codeValue_NORECORD) {
            setFocus(txt_SKU_3);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        } else {
            setFocus(txt_SKU_3);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        }
    }
}

var userd_FromPlace = "";

function addSKUAnalyzeProcEndsOKBiz() {
    if (userd_FromPlace == "DIV_3_SKU") {
    } else {
        if (userd_FromPlace == "DIV_5_SKU") {
        }
    }
    userd_FromPlace = "";
}

function but_Confirm_3_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_3);
    if (nextId == sfc_Code_3) {
        doButConfirm3Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm3Action() {
    var cartNoValue = getValue2(txt_CartNo_3);
    if (cartNoValue.length == 0) {
        startMusic();
        autoFocus(txt_CartNo_3);
        return;
    }
    var fmLocationValue = first_GetLocationValue(txt_FMLocation_3);
    if (fmLocationValue.length == 0) {
        if (sfc_CanFocus(txt_FMLocation_3, sfc_Code_3)) {
            startMusic();
            autoFocus(txt_FMLocation_3);
        }
        return;
    }
    var fmTraceIdValue = getValue2(txt_FMTraceID_3);
    var skuValue = getValue2(txt_SKU_3);
    if (skuValue.length == 0) {
        if (sfc_CanFocus(txt_SKU_3, sfc_Code_3)) {
            startMusic();
            autoFocus(txt_SKU_3);
        }
        return;
    }
    var reason = "LOCATION";
    for (var i = 0; i < userd_showLocation.length; i++) {
        if (userd_showLocation[i] == fmLocationValue && userd_showQty[i] != 0 && userd_showLocation[i] == userd_showLocation[0]) {
            if (fmTraceIdValue.length > 0) {
                reason = reason.replace("LOCATION", "FMTRACEID");
            }
            if ((userd_FmTraceId[i] == fmTraceIdValue && userd_FmTraceId[i] == userd_FmTraceId[0]) || fmTraceIdValue.length == 0) {
                if (skuValue.length > 0) {
                    reason = reason.replace("LOCATION", "SKU").replace("FMTRACEID", "SKU");
                }
                if (userd_showSku[i] == skuValue || skuValue.length == 0) {
                    reason = reason.replace("LOCATION", "OK").replace("FMTRACEID", "OK").replace("SKU", "OK");
                    setValue(hide_FMLOCATION_3, userd_showLocation[i]);
                    setValue(hide_FMTRACEID_3, userd_FmTraceId[i]);
                    setValue(hide_SKU_4, userd_showSku[i]);
                    setValue(hide_LotAtt04_4, userd_LoatAtt04[i]);
                    sfc_SetValue(wxt_SKU_4, userd_showSku[i], sfc_Code_4);
                    sfc_SetValue(wxt_SKUDescr_4, userd_showSkuName[i], sfc_Code_4);
                    sfc_SetValue(wxt_Qty_4, userd_showQty[i], sfc_Code_4);
                    sfc_SetValue(wxt_AllQty_5, userd_showQty[i], sfc_Code_5);
                    startMusic2();
                    break;
                }
            }
        }
    }
    if (reason == "SKU") {
        startMusic();
        first_EchoMessage(getValue(hide_Message_23), first_Alert, "");
        autoFocus("ERROR" + txt_SKU_3);
        return;
    } else {
        if (reason == "FMTRACEID") {
            startMusic();
            autoFocus("ERROR2" + txt_FMTraceID_3);
            return;
        } else {
            if (reason == "LOCATION") {
                startMusic();
                autoFocus("ERROR2" + txt_FMLocation_3);
                return;
            }
        }
    }
    startMusic2();
    userd_QTY_index_Array = new Array();
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        userd_QTY_index_Array[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] = 0;
    }
    var PCK_INV_COU = getValue(hide_PCK_INV_COU);
    if ((PCK_INV_COU == "1" || PCK_INV_COU == "2")) {
        doSeachAction();
        return;
    }
    setValue(wxt_Qty_5, "0");
    setValue(wxt_SKUDescr_5, "");
    showViewSingle(_div4Input, inViewsKeys);
    var qtyJson = {
        options: [{UDF01: "1", UDF02: "1"}, {UDF01: "10", UDF02: "10"}, {
            UDF01: "100",
            UDF02: "100"
        }, {UDF01: "1000", UDF02: "1000"}, {UDF01: "MAN", UDF02: "MAN"}]
    };
    changeOptions(cmb_PerCutQty_4, qtyJson.options, "1", false);
    removeAllOptions(cmb_ReasonCode_4);
    var reasonCodeList = getValue(hide_ReasonCodes_4).split(";");
    for (var i = 0; i < reasonCodeList.length; i++) {
        var reasonCode = reasonCodeList[i].split(":");
        addOptionToSelect(cmb_ReasonCode_4, reasonCode[0], reasonCode[1], null);
    }
    setValue(cmb_ReasonCode_4, "NM");
    setValue(hide_FMLOCATION_3, fmLocationValue);
    autoFocus(but_Confirm_4);
    showBoxTable();
}

function doSeachAction() {
    _prevView = _div3Input;
    doServerAction(className, "searchInvenQtyAction", QSKeys, searchInvenQty);
}

function searchInvenQty(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj1 = replyData.strData1;
            totalQty = obj1.INVENQTY;
            if (totalQty == null) {
                totalQty = 0;
            }
            setValue(HIDE_INVENQTY_3, totalQty);
            var fmLocationValue = first_GetLocationValue(txt_FMLocation_3);
            setValue(wxt_Qty_5, "0");
            setValue(wxt_SKUDescr_5, "");
            showViewSingle(_div4Input, inViewsKeys);
            var qtyJson = {
                options: [{UDF01: "1", UDF02: "1"}, {UDF01: "10", UDF02: "10"}, {
                    UDF01: "100",
                    UDF02: "100"
                }, {UDF01: "1000", UDF02: "1000"}, {UDF01: "MAN", UDF02: "MAN"}]
            };
            changeOptions(cmb_PerCutQty_4, qtyJson.options, "1", false);
            removeAllOptions(cmb_ReasonCode_4);
            var reasonCodeList = getValue(hide_ReasonCodes_4).split(";");
            for (var i = 0; i < reasonCodeList.length; i++) {
                var reasonCode = reasonCodeList[i].split(":");
                addOptionToSelect(cmb_ReasonCode_4, reasonCode[0], reasonCode[1], null);
            }
            setValue(cmb_ReasonCode_4, "NM");
            autoFocus(but_Confirm_4);
            setValue(hide_FMLOCATION_3, fmLocationValue);
            showBoxTable();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                updateMessageBar(hide_Message_17);
                return;
            } else {
                showViewSingle(_prevView, inViewsKeys);
                updateMessageBar(returnMessage);
                return;
            }
        }
    }
}

function showBoxTable() {
    var tableMessage = "";
    var smallTable = "";
    var bigTableWidth = "80%";
    var bigTableHeight = 65;
    var smallTableWidth = "100%";
    var smallTableHeight = bigTableHeight - 5;
    var smallTableTopHeight = 5;
    var smallTableUpHeight = 25;
    var smallTableDNHeight = 30;
    smallTable = "";
    smallTable += "<table width='" + smallTableWidth + "' height='" + smallTableHeight + "' border='0' cellpadding='0' cellspacing='0'>";
    smallTable += "<tr height='" + smallTableTopHeight + "' align='right' valign='middle'><td id='&idno' onclick='clickAction(id)' ondblclick='doubleClickAction(id)'>&taskno</td></tr>";
    smallTable += "<tr height='" + smallTableUpHeight + "' align='center' valign='middle'><td id='&id1' onclick='clickAction(id)' ondblclick='doubleClickAction(id)'>&qty</td></tr>";
    smallTable += "<tr height='" + smallTableDNHeight + "' align='center' valign='middle'><td id='&id2' onclick='clickAction(id)' ondblclick='doubleClickAction(id)'>&loc</td></tr>";
    smallTable += "</table>";
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tableMessage = "";
        tableMessage += "<table width='" + bigTableWidth + "' height='" + bigTableHeight + "' border='1' align='center'>";
        tableMessage += "<tr height='100%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
        tableMessage += "</table>";
        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
    } else {
        if (MLT_PCK_TYP == "B") {
            tableMessage = "";
            tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&1</td></tr>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&2</td></tr>";
            tableMessage += "</table>";
            tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
        } else {
            if (MLT_PCK_TYP == "C") {
                tableMessage = "";
                tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&3</td><td width='50%' align='center' valign='middle'>&4</td></tr>";
                tableMessage += "</table>";
                tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>"));
            } else {
                if (MLT_PCK_TYP == "D") {
                    tableMessage = "";
                    tableMessage += "<table width='100%' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                    tableMessage += "<tr height='50%'><td width='33%' align='center' valign='middle'>&1</td><td width='33%' align='center' valign='middle'>&2</td><td width='34%' align='center' valign='middle'>&3</td></tr>";
                    tableMessage += "<tr height='50%'><td width='33%' align='center' valign='middle'>&4</td><td width='33%' align='center' valign='middle'>&5</td><td width='34%' align='center' valign='middle'>&6</td></tr>";
                    tableMessage += "</table>";
                    tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>"));
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tableMessage = "";
                        tableMessage += "<table width='100%' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                        tableMessage += "<tr height='33%'><td width='33%' align='center' valign='middle'>&1</td><td width='33%' align='center' valign='middle'>&2</td><td width='34%' align='center' valign='middle'>&3</td></tr>";
                        tableMessage += "<tr height='33%'><td width='33%' align='center' valign='middle'>&4</td><td width='33%' align='center' valign='middle'>&5</td><td width='34%' align='center' valign='middle'>&6</td></tr>";
                        tableMessage += "<tr height='34%'><td width='33%' align='center' valign='middle'>&7</td><td width='33%' align='center' valign='middle'>&8</td><td width='34%' align='center' valign='middle'>&9</td></tr>";
                        tableMessage += "</table>";
                        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>")).replace("&7", smallTable.replace("&idno", "no7").replace("&id1", "qty7").replace("&id2", "loc7").replace("&taskno", "<label id='LBL_LOC7_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC7_QTY'></label>").replace("&loc", "<label id='LBL_LOC_7' style='font-size:1.0em;'></label>")).replace("&8", smallTable.replace("&idno", "no8").replace("&id1", "qty8").replace("&id2", "loc8").replace("&taskno", "<label id='LBL_LOC8_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC8_QTY'></label>").replace("&loc", "<label id='LBL_LOC_8' style='font-size:1.0em;'></label>")).replace("&9", smallTable.replace("&idno", "no9").replace("&id1", "qty9").replace("&id2", "loc9").replace("&taskno", "<label id='LBL_LOC9_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC9_QTY'></label>").replace("&loc", "<label id='LBL_LOC_9' style='font-size:1.0em;'></label>"));
                    } else {
                        if (MLT_PCK_TYP == "LIST") {
                            showBoxInfo2();
                            return;
                        } else {
                            initHtmlPage();
                            updateMessageBar("error: MLT_PCK_TYP");
                            alert("error: MLT_PCK_TYP");
                        }
                    }
                }
            }
        }
    }
    if (WCO_PCK_PCS_SCN != "Y") {
        setInnerHTML2(div_BoxInfoList_4, tableMessage);
    } else {
        setInnerHTML2(div_BoxInfoList_5, tableMessage);
    }
    showBoxInfo();
}

function showBoxInfo() {
    var fontSize = 2;
    var buttomfontSize = 3;
    var qtyfontSize = 4;
    var lbl_Loc_1Value = "&nbsp;";
    var lbl_Loc_2Value = "&nbsp;";
    var lbl_Loc_3Value = "&nbsp;";
    var lbl_Loc_4Value = "&nbsp;";
    var lbl_Loc_5Value = "&nbsp;";
    var lbl_Loc_6Value = "&nbsp;";
    var lbl_Loc_7Value = "&nbsp;";
    var lbl_Loc_8Value = "&nbsp;";
    var lbl_Loc_9Value = "&nbsp;";
    var lbl_Loc1_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc2_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc3_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc4_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc5_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc6_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc7_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc8_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var lbl_Loc9_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
    var tabelSize = 0;
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tabelSize = 3;
    } else {
        if (MLT_PCK_TYP == "B") {
            tabelSize = 3;
        } else {
            if (MLT_PCK_TYP == "C") {
                tabelSize = 5;
            } else {
                if (MLT_PCK_TYP == "D") {
                    tabelSize = 7;
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tabelSize = 10;
                    }
                }
            }
        }
    }
    for (var i = 1; i < tabelSize; i++) {
        changeColor(i, userd_Color_4);
    }
    var cartonNo_1 = "";
    var cartonNo_2 = "";
    var cartonNo_3 = "";
    var cartonNo_4 = "";
    var cartonNo_5 = "";
    var cartonNo_6 = "";
    var cartonNo_7 = "";
    var cartonNo_8 = "";
    var cartonNo_9 = "";
    var boxColor1 = "";
    var boxColor2 = "";
    var boxColor3 = "";
    var boxColor4 = "";
    var boxColor5 = "";
    var boxColor6 = "";
    var boxColor7 = "";
    var boxColor8 = "";
    var boxColor9 = "";
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        if (userd_PickToLocation[i] == "#1") {
            lbl_Loc_1Value = userd_TurnOverBoxNo[i];
            cartonNo_1 = userd_TurnOverBoxNo[i];
            if (lbl_Loc_1Value.length > 6) {
                lbl_Loc_1Value = lbl_Loc_1Value.substring(0, lbl_Loc_1Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_1Value.substring(lbl_Loc_1Value.length - 6, lbl_Loc_1Value.length) + "</font>";
            } else {
                lbl_Loc_1Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_1Value.substring(0, lbl_Loc_1Value.length) + "</font>";
            }
            lbl_Loc1_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
            boxColor1 = userd_Color_2;
        } else {
            if (userd_PickToLocation[i] == "#2") {
                lbl_Loc_2Value = userd_TurnOverBoxNo[i];
                cartonNo_2 = userd_TurnOverBoxNo[i];
                if (lbl_Loc_2Value.length > 6) {
                    lbl_Loc_2Value = lbl_Loc_2Value.substring(0, lbl_Loc_2Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_2Value.substring(lbl_Loc_2Value.length - 6, lbl_Loc_2Value.length) + "</font>";
                } else {
                    lbl_Loc_2Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_2Value.substring(0, lbl_Loc_2Value.length) + "</font>";
                }
                lbl_Loc2_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                boxColor2 = userd_Color_2;
            } else {
                if (userd_PickToLocation[i] == "#3") {
                    lbl_Loc_3Value = userd_TurnOverBoxNo[i];
                    cartonNo_3 = userd_TurnOverBoxNo[i];
                    if (lbl_Loc_3Value.length > 6) {
                        lbl_Loc_3Value = lbl_Loc_3Value.substring(0, lbl_Loc_3Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_3Value.substring(lbl_Loc_3Value.length - 6, lbl_Loc_3Value.length) + "</font>";
                    } else {
                        lbl_Loc_3Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_3Value.substring(0, lbl_Loc_3Value.length) + "</font>";
                    }
                    lbl_Loc3_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                    boxColor3 = userd_Color_2;
                } else {
                    if (userd_PickToLocation[i] == "#4") {
                        lbl_Loc_4Value = userd_TurnOverBoxNo[i];
                        cartonNo_4 = userd_TurnOverBoxNo[i];
                        if (lbl_Loc_4Value.length > 6) {
                            lbl_Loc_4Value = lbl_Loc_4Value.substring(0, lbl_Loc_4Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_4Value.substring(lbl_Loc_4Value.length - 6, lbl_Loc_4Value.length) + "</font>";
                        } else {
                            lbl_Loc_4Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_4Value.substring(0, lbl_Loc_4Value.length) + "</font>";
                        }
                        lbl_Loc4_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                        boxColor4 = userd_Color_2;
                    } else {
                        if (userd_PickToLocation[i] == "#5") {
                            lbl_Loc_5Value = userd_TurnOverBoxNo[i];
                            cartonNo_5 = userd_TurnOverBoxNo[i];
                            if (lbl_Loc_5Value.length > 6) {
                                lbl_Loc_5Value = lbl_Loc_5Value.substring(0, lbl_Loc_5Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_5Value.substring(lbl_Loc_5Value.length - 6, lbl_Loc_5Value.length) + "</font>";
                            } else {
                                lbl_Loc_5Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_5Value.substring(0, lbl_Loc_5Value.length) + "</font>";
                            }
                            lbl_Loc5_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                            boxColor5 = userd_Color_2;
                        } else {
                            if (userd_PickToLocation[i] == "#6") {
                                lbl_Loc_6Value = userd_TurnOverBoxNo[i];
                                cartonNo_6 = userd_TurnOverBoxNo[i];
                                if (lbl_Loc_6Value.length > 6) {
                                    lbl_Loc_6Value = lbl_Loc_6Value.substring(0, lbl_Loc_6Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_6Value.substring(lbl_Loc_6Value.length - 6, lbl_Loc_6Value.length) + "</font>";
                                } else {
                                    lbl_Loc_6Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_6Value.substring(0, lbl_Loc_6Value.length) + "</font>";
                                }
                                lbl_Loc6_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                                boxColor6 = userd_Color_2;
                            } else {
                                if (userd_PickToLocation[i] == "#7") {
                                    lbl_Loc_7Value = userd_TurnOverBoxNo[i];
                                    cartonNo_7 = userd_TurnOverBoxNo[i];
                                    if (lbl_Loc_7Value.length > 6) {
                                        lbl_Loc_7Value = lbl_Loc_7Value.substring(0, lbl_Loc_7Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_7Value.substring(lbl_Loc_7Value.length - 6, lbl_Loc_7Value.length) + "</font>";
                                    } else {
                                        lbl_Loc_7Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_7Value.substring(0, lbl_Loc_7Value.length) + "</font>";
                                    }
                                    lbl_Loc7_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                                    boxColor7 = userd_Color_2;
                                } else {
                                    if (userd_PickToLocation[i] == "#8") {
                                        lbl_Loc_8Value = userd_TurnOverBoxNo[i];
                                        cartonNo_8 = userd_TurnOverBoxNo[i];
                                        if (lbl_Loc_8Value.length > 6) {
                                            lbl_Loc_8Value = lbl_Loc_8Value.substring(0, lbl_Loc_8Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_8Value.substring(lbl_Loc_8Value.length - 6, lbl_Loc_8Value.length) + "</font>";
                                        } else {
                                            lbl_Loc_8Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_8Value.substring(0, lbl_Loc_8Value.length) + "</font>";
                                        }
                                        lbl_Loc8_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                                        boxColor8 = userd_Color_2;
                                    } else {
                                        if (userd_PickToLocation[i] == "#9") {
                                            lbl_Loc_9Value = userd_TurnOverBoxNo[i];
                                            cartonNo_9 = userd_TurnOverBoxNo[i];
                                            if (lbl_Loc_9Value.length > 6) {
                                                lbl_Loc_9Value = lbl_Loc_9Value.substring(0, lbl_Loc_9Value.length - 6) + "\n<font size='" + buttomfontSize + "'>" + lbl_Loc_9Value.substring(lbl_Loc_9Value.length - 6, lbl_Loc_9Value.length) + "</font>";
                                            } else {
                                                lbl_Loc_9Value = "<font size='" + buttomfontSize + "'>" + lbl_Loc_9Value.substring(0, lbl_Loc_9Value.length) + "</font>";
                                            }
                                            lbl_Loc9_Qty = "<font size='" + fontSize + "'>&nbsp;</font>";
                                            boxColor9 = userd_Color_2;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    setInnerHTML2(LBL_LOC1_TASKNO, "1");
    setInnerHTML2(LBL_LOC2_TASKNO, "2");
    setInnerHTML2(LBL_LOC3_TASKNO, "3");
    setInnerHTML2(LBL_LOC4_TASKNO, "4");
    setInnerHTML2(LBL_LOC5_TASKNO, "5");
    setInnerHTML2(LBL_LOC6_TASKNO, "6");
    setInnerHTML2(LBL_LOC7_TASKNO, "7");
    setInnerHTML2(LBL_LOC8_TASKNO, "8");
    setInnerHTML2(LBL_LOC9_TASKNO, "9");
    setInnerHTML2(LBL_LOC_1, lbl_Loc_1Value);
    setInnerHTML2(LBL_LOC_2, lbl_Loc_2Value);
    setInnerHTML2(LBL_LOC_3, lbl_Loc_3Value);
    setInnerHTML2(LBL_LOC_4, lbl_Loc_4Value);
    setInnerHTML2(LBL_LOC_5, lbl_Loc_5Value);
    setInnerHTML2(LBL_LOC_6, lbl_Loc_6Value);
    setInnerHTML2(LBL_LOC_7, lbl_Loc_7Value);
    setInnerHTML2(LBL_LOC_8, lbl_Loc_8Value);
    setInnerHTML2(LBL_LOC_9, lbl_Loc_9Value);
    setInnerHTML2(LBL_LOC1_QTY, lbl_Loc1_Qty);
    setInnerHTML2(LBL_LOC2_QTY, lbl_Loc2_Qty);
    setInnerHTML2(LBL_LOC3_QTY, lbl_Loc3_Qty);
    setInnerHTML2(LBL_LOC4_QTY, lbl_Loc4_Qty);
    setInnerHTML2(LBL_LOC5_QTY, lbl_Loc5_Qty);
    setInnerHTML2(LBL_LOC6_QTY, lbl_Loc6_Qty);
    setInnerHTML2(LBL_LOC7_QTY, lbl_Loc7_Qty);
    setInnerHTML2(LBL_LOC8_QTY, lbl_Loc8_Qty);
    setInnerHTML2(LBL_LOC9_QTY, lbl_Loc9_Qty);
    if (boxColor1 != "") {
        changeColor(1, userd_Color_2);
    }
    if (boxColor2 != "") {
        changeColor(2, userd_Color_2);
    }
    if (boxColor3 != "") {
        changeColor(3, userd_Color_2);
    }
    if (boxColor4 != "") {
        changeColor(4, userd_Color_2);
    }
    if (boxColor5 != "") {
        changeColor(5, userd_Color_2);
    }
    if (boxColor6 != "") {
        changeColor(6, userd_Color_2);
    }
    if (boxColor7 != "") {
        changeColor(7, userd_Color_2);
    }
    if (boxColor8 != "") {
        changeColor(8, userd_Color_2);
    }
    if (boxColor9 != "") {
        changeColor(9, userd_Color_2);
    }
    var qtySum_1 = 0;
    var qtySum_2 = 0;
    var qtySum_3 = 0;
    var qtySum_4 = 0;
    var qtySum_5 = 0;
    var qtySum_6 = 0;
    var qtySum_7 = 0;
    var qtySum_8 = 0;
    var qtySum_9 = 0;
    for (var i = 0; i < userd_TurnOverBoxNo.length; i++) {
        if (userd_TurnOverBoxNo[i] == cartonNo_1) {
            qtySum_1 = qtySum_1 + parseInt(userd_Qty[i]);
        } else {
            if (userd_TurnOverBoxNo[i] == cartonNo_2) {
                qtySum_2 = qtySum_2 + parseInt(userd_Qty[i]);
            } else {
                if (userd_TurnOverBoxNo[i] == cartonNo_3) {
                    qtySum_3 = qtySum_3 + parseInt(userd_Qty[i]);
                } else {
                    if (userd_TurnOverBoxNo[i] == cartonNo_4) {
                        qtySum_4 = qtySum_4 + parseInt(userd_Qty[i]);
                    } else {
                        if (userd_TurnOverBoxNo[i] == cartonNo_5) {
                            qtySum_5 = qtySum_5 + parseInt(userd_Qty[i]);
                        } else {
                            if (userd_TurnOverBoxNo[i] == cartonNo_6) {
                                qtySum_6 = qtySum_6 + parseInt(userd_Qty[i]);
                            } else {
                                if (userd_TurnOverBoxNo[i] == cartonNo_7) {
                                    qtySum_7 = qtySum_7 + parseInt(userd_Qty[i]);
                                } else {
                                    if (userd_TurnOverBoxNo[i] == cartonNo_8) {
                                        qtySum_8 = qtySum_8 + parseInt(userd_Qty[i]);
                                    } else {
                                        if (userd_TurnOverBoxNo[i] == cartonNo_9) {
                                            qtySum_9 = qtySum_9 + parseInt(userd_Qty[i]);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    var fmLocationValue = getValue2(hide_FMLOCATION_3);
    var fmTraceIdValue = getValue2(hide_FMTRACEID_3);
    var skuValue = getValue2(hide_SKU_4);
    var lotAtt04Value = getValue2(hide_LotAtt04_4);
    for (var i = 0; i < userd_Location.length; i++) {
        if (userd_Location[i] == fmLocationValue) {
            var qtys = new Array();
            for (var j = 1; j < userd_QTY_index_Array.length; j++) {
                qtys[j] = parseFloat(userd_Qty[i]) - parseFloat(userd_QTY_index_Array[j]);
            }
            var qty_1 = qtys[1];
            var qty_2 = qtys[2];
            var qty_3 = qtys[3];
            var qty_4 = qtys[4];
            var qty_5 = qtys[5];
            var qty_6 = qtys[6];
            var qty_7 = qtys[7];
            var qty_8 = qtys[8];
            var qty_9 = qtys[9];
            if (userd_Sku[i] == skuValue && userd_FmTraceId[i] == fmTraceIdValue && userd_LoatAtt04[i] == lotAtt04Value) {
                if (userd_PickToLocation[i] == "#1") {
                    setInnerHTML2(LBL_LOC1_QTY, "<font size='" + qtyfontSize + "'>" + qty_1 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_1 - qty_1) + ")</font>");
                    if (qty_1 > 0) {
                        changeColor("1", userd_Color_1);
                    } else {
                        changeColor("1", userd_Color_3);
                    }
                } else {
                    if (userd_PickToLocation[i] == "#2") {
                        setInnerHTML2(LBL_LOC2_QTY, "<font size='" + qtyfontSize + "'>" + qty_2 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_2 - qty_2) + ")</font>");
                        if (qty_2 > 0) {
                            changeColor("2", userd_Color_1);
                        } else {
                            changeColor("2", userd_Color_3);
                        }
                    } else {
                        if (userd_PickToLocation[i] == "#3") {
                            setInnerHTML2(LBL_LOC3_QTY, "<font size='" + qtyfontSize + "'>" + qty_3 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_3 - qty_3) + ")</font>");
                            if (qty_3 > 0) {
                                changeColor("3", userd_Color_1);
                            } else {
                                changeColor("3", userd_Color_3);
                            }
                        } else {
                            if (userd_PickToLocation[i] == "#4") {
                                setInnerHTML2(LBL_LOC4_QTY, "<font size='" + qtyfontSize + "'>" + qty_4 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_4 - qty_4) + ")</font>");
                                if (qty_4 > 0) {
                                    changeColor("4", userd_Color_1);
                                } else {
                                    changeColor("4", userd_Color_3);
                                }
                            } else {
                                if (userd_PickToLocation[i] == "#5") {
                                    setInnerHTML2(LBL_LOC5_QTY, "<font size='" + qtyfontSize + "'>" + qty_5 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_5 - qty_5) + ")</font>");
                                    if (qty_5 > 0) {
                                        changeColor("5", userd_Color_1);
                                    } else {
                                        changeColor("5", userd_Color_3);
                                    }
                                } else {
                                    if (userd_PickToLocation[i] == "#6") {
                                        setInnerHTML2(LBL_LOC6_QTY, "<font size='" + qtyfontSize + "'>" + qty_6 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_6 - qty_6) + ")</font>");
                                        if (qty_6 > 0) {
                                            changeColor("6", userd_Color_1);
                                        } else {
                                            changeColor("6", userd_Color_3);
                                        }
                                    } else {
                                        if (userd_PickToLocation[i] == "#7") {
                                            setInnerHTML2(LBL_LOC7_QTY, "<font size='" + qtyfontSize + "'>" + qty_7 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_7 - qty_7) + ")</font>");
                                            if (qty_7 > 0) {
                                                changeColor("7", userd_Color_1);
                                            } else {
                                                changeColor("7", userd_Color_3);
                                            }
                                        } else {
                                            if (userd_PickToLocation[i] == "#8") {
                                                setInnerHTML2(LBL_LOC8_QTY, "<font size='" + qtyfontSize + "'>" + qty_8 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_8 - qty_8) + ")</font>");
                                                if (qty_8 > 0) {
                                                    changeColor("8", userd_Color_1);
                                                } else {
                                                    changeColor("8", userd_Color_3);
                                                }
                                            } else {
                                                if (userd_PickToLocation[i] == "#9") {
                                                    setInnerHTML2(LBL_LOC9_QTY, "<font size='" + qtyfontSize + "'>" + qty_9 + "</font><font size='" + (fontSize - 1) + "'>(" + (qtySum_9 - qty_9) + ")</font>");
                                                    if (qty_9 > 0) {
                                                        changeColor("9", userd_Color_1);
                                                    } else {
                                                        changeColor("9", userd_Color_3);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    if (WCO_PCK_PCS_SCN == "Y") {
        but_ScanByEach_Action();
    }
}

function changeColor(index, color) {
    var noObj = document.getElementById("no" + index);
    var qtyObj = document.getElementById("qty" + index);
    var locObj = document.getElementById("loc" + index);
    if (noObj != null) {
        noObj.style.backgroundColor = color;
    }
    if (qtyObj != null) {
        qtyObj.style.backgroundColor = color;
    }
    if (locObj != null) {
        locObj.style.backgroundColor = color;
    }
}

function showBoxInfo2() {
    var fontSize = 4;
    var fmLocationValue = getValue2(hide_FMLOCATION_3);
    var fmTraceIdValue = getValue2(hide_FMTRACEID_3);
    var skuValue = getValue2(hide_SKU_4);
    var sumLine = 0;
    var pickToLocation_Array = new Array();
    var pcikToQty = new Array();
    var trunOverBox_Array = new Array();
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        if (fmLocationValue == userd_Location[i] && userd_Sku[i] == skuValue && userd_FmTraceId[i] == fmTraceIdValue) {
            if (pcikToQty[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] == null || pcikToQty[parseInt(userd_PickToLocation[i].replace("#", ""), 10)].length == 0) {
                pickToLocation_Array[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] = userd_PickToLocation[i];
                trunOverBox_Array[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] = userd_TurnOverBoxNo[i];
                pcikToQty[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] = userd_Qty[i];
            }
        } else {
        }
    }
    var divHeight = document.documentElement.clientHeight;
    divHeight -= 200;
    if (divHeight <= 70) {
        divHeight = 70;
    }
    var divWidth = document.documentElement.clientWidth;
    divWidth -= 18;
    var tableMessage = "<div id='showBoxInfo2Div' style='width:" + divWidth + "px;overflow-x:hidden;overflow: auto;'><!--[if lt ie 8]><div style='+zoom:1;'><![endif]--><table class='table1' width='100%' cellpadding='0' cellspacing='0'>";
    tableMessage += "<tr>";
    tableMessage += "<th width='50%'><font color='red' size='" + fontSize + "'>&nbsp;&nbsp;PTL</font></th>";
    tableMessage += "<th width='50%'><font color='red' size='" + fontSize + "'>&nbsp;&nbsp;Qty</font></th>";
    tableMessage += "</tr>";
    for (var i = 0; i <= pickToLocation_Array.length; i++) {
        if (pickToLocation_Array[i] != null && pickToLocation_Array[i].length != 0) {
            var index = pickToLocation_Array[i].replace("#", "");
            var turnOverBox = trunOverBox_Array[i];
            if (turnOverBox.length == 0) {
                turnOverBox = "#" + index;
            }
            tableMessage += "<tr>";
            tableMessage += "<td width='50%' id='loc" + index + "' onclick='clickAction(id)' ondblclick='doubleClickAction(id)'><font size='" + fontSize + "'>" + turnOverBox + "</font></td>";
            tableMessage += "<td width='50%' id='qty" + index + "' onclick='clickAction(id)' ondblclick='doubleClickAction(id)'><font size='" + fontSize + "'>&qty" + index + "</font></td>";
            tableMessage += "</tr>";
            sumLine++;
        }
    }
    for (var i = 0; i < pcikToQty.length; i++) {
        if (pcikToQty[i] != null && pcikToQty[i].length != 0) {
            var oldText = "&qty" + pickToLocation_Array[i].replace("#", "");
            var newText = parseFloat(pcikToQty[i]) - parseFloat(userd_QTY_index_Array[parseInt(pickToLocation_Array[i].replace("#", ""))]) + "";
            tableMessage = tableMessage.replace(oldText, newText);
        }
    }
    var minLineNumber = 3;
    if (isNumber(divHeight + "")) {
        var countedLineNumber_1 = parseInt(parseInt(divHeight) / 20) - 1;
        if (countedLineNumber_1 >= 3) {
            minLineNumber = countedLineNumber_1;
        }
    }
    for (var i = 0; i < minLineNumber - sumLine; i++) {
        tableMessage += "<tr bgcolor='" + userd_Color_3 + "'><td><font size='" + fontSize + "'>&nbsp;</font></td><td><font size='" + fontSize + "'>&nbsp;</font></td></tr>";
    }
    tableMessage += "</table><!--[if lt ie 8]></div><![endif]--></div>";
    if (WCO_PCK_PCS_SCN != "Y") {
        setInnerHTML2(div_BoxInfoList_4, tableMessage);
    } else {
        setInnerHTML2(div_BoxInfoList_5, tableMessage);
    }
    for (var i = 0; i < pcikToQty.length; i++) {
        if (pcikToQty[i] != null && pcikToQty[i].length != 0) {
            var qty = parseFloat(pcikToQty[i]) - parseFloat(userd_QTY_index_Array[parseInt(pickToLocation_Array[i].replace("#", ""))]) + "";
            if (parseFloat(qty) > 0) {
                changeColor(pickToLocation_Array[i].replace("#", ""), userd_Color_1);
            } else {
                changeColor(pickToLocation_Array[i].replace("#", ""), userd_Color_3);
            }
        }
    }
    if (WCO_PCK_PCS_SCN == "Y") {
        but_ScanByEach_Action();
    }
    return;
}

function but_ScanByEach_Action() {
    var qtyValue = getValue2(wxt_Qty_4);
    if (isNumber(qtyValue)) {
        userd_MaxScanQty = qtyValue;
    }
    showViewSingle(_div5Input, inViewsKeys);
    setValue(wxt_SKUDescr_5, getValue2(wxt_SKUDescr_4));
    autoFocus(txt_SKU_5);
    updateMessageBar("");
}

function but_Cancel_3_Action(id) {
    if (userd_FromCombiningCart_Id != null && userd_FromCombiningCart_Id.length > 0) {
        window.location.href = webRoot + "/rfbiz/invbound/combiningcart/CombiningCart.jsp?ID=" + userd_FromCombiningCart_Id + "&AREA=" + userd_FromCombiningCart_Area + "&temUseBack=" + userd_FromCombiningCart_TemUseBack + "&TASKTYPE=" + getValue(hide_TaskType_FromCombingCart_1) + "&PICKTOTRACEIDLIST=" + userd_FromCombiningCart_List + "&_I004=" + encodeURIComponent(getSIdValue("_I004"));
        return;
    }
    var cartNoValue = getValue2(txt_CartNo_2);
    if (cartNoValue.length != 0) {
        showViewSingle(_div2Input, inViewsKeys);
        autoFocus(sfc_GetNextId(txt_CartNo_2, sfc_Code_2));
        updateMessageBar("");
    } else {
        initHtmlPage();
        autoFocus(but_BatchPrePicking_1);
    }
}

function but_StockOut_3_Action(id) {
    var cartNoValue = getValue2(txt_CartNo_3);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_3);
        return;
    }
    doButStockOut3Action();
}

function doButStockOut3Action() {
    userd_QTY_index_Array = new Array();
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        userd_QTY_index_Array[parseInt(userd_PickToLocation[i].replace("#", ""), 10)] = 0;
    }
    var updateData = "";
    for (var i = 1; i < userd_QTY_index_Array.length; i++) {
        updateData += "&BOX" + i + ":&QTY" + i + ";";
    }
    setValue(hide_BOX_QTY_4, updateData);
    var fmLocationValue = getValue2(hide_FMLOCATION_3);
    var skuValue = getValue2(wxt_SKU_3);
    setValue(hide_SKU_4, skuValue);
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        if (userd_Location[i] == fmLocationValue && userd_FmTraceId[i] == userd_FmTraceId[0] && userd_Sku[i] == skuValue) {
            setValue(hide_BOX_QTY_4, getValue2(hide_BOX_QTY_4).replace("&BOX" + parseInt(userd_PickToLocation[i].replace("#", ""), 10), userd_TurnOverBoxNo[i] + "_BOXANDWAVENO_" + userd_WaveNo[i] + "_PTLTASKID_" + userd_Ptltaskid[i] + "_ANDTRACEID_" + userd_FmTraceId[i]));
        }
    }
    for (var i = 0; i < userd_Location.length; i++) {
        if (userd_Location[i] == fmLocationValue) {
            setValue(hide_BOX_QTY_4, getValue2(hide_BOX_QTY_4).replace("&QTY" + parseInt(userd_PickToLocation[i].replace("#", ""), 10), 0));
        }
    }
    for (var i = 1; i < userd_QTY_index_Array.length; i++) {
        setValue(hide_BOX_QTY_4, getValue(hide_BOX_QTY_4).replace("&BOX" + i + ":&QTY" + i + ";", ""));
    }
    _prevView = _div4Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "updateBoxQty", QSKeys, updateBoxQty);
}

function but_SplitCarton_3_Action(id) {
    var fmLocationValue = getValue2(wxt_FMLocation_3);
    var fmTraceIdValue = getValue2(wxt_FMTraceID_3);
    if (fmLocationValue.length == 0 || fmTraceIdValue.length == 0) {
        autoFocus("ERROR" + but_SplitCarton_3);
        return;
    } else {
        setValue(hide_FMLOCATION_3, fmLocationValue);
        setValue(hide_FMTRACEID_3, fmTraceIdValue);
    }
    _prevView = _div3Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getCartionListAction", QSKeys, getCartionListAction);
}

function getCartionListAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_SplitCartonList_7 = obj2;
            userd_ScanCartonList_7 = new Array();
            showPageSevenAction();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("ERROR" + but_SplitCarton_3);
                return;
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_RelatingFmLocatin_3_Action(id) {
    if (getValue2(wxt_FMLocation_3).length > 0) {
        setValue(hide_XLocationId_3, getValue2(wxt_FMLocation_3));
        _prevView = _div3Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "getRelatingLocationInfoAction", QSKeys, getRelatingLocationInfoAction);
    }
}

function getRelatingLocationInfoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_XLocationShwList_6 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                userd_XLocationShwList_6.push(new Array(getValue2(hide_XLocationId_3), obj2[i].CHILDLOCATION));
            }
            showViewSingle(_div6Input, inViewsKeys);
            showPage6Table();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_div3Input, inViewsKeys);
                autoFocus(but_RelatingFmLocatin_3);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doButPickingLookBack3Action(id) {
    var cartonValue = getValue2(txt_CartNo_3);
    if (cartonValue.length == 0) {
        autoFocus(txt_CartNo_3);
        return;
    }
    var customerIdValue = getValue2(hide_customerId_3);
    if (customerIdValue.length == 0) {
        autoFocus(txt_CartNo_3);
        return;
    }
    showViewSingle(_div9Input, inViewsKeys);
    setValue(txt_Sku_9, "");
    setValue(wxt_Location_9, "");
    setValue(wxt_Qty_9, "");
    setValue(wxt_SkuDescr_9, "");
    buf_ScanList_9 = new Array();
    setInnerHTML2(lbl_Page_9, "(0/0)");
    buffer_InfoIndex = 0;
    MapForDoFMLocation = new JHashMap();
    userd_AllInfo_9 = null;
    showBoxTable9();
    if (PickingTime != 0) {
        PickingTime = (new Date() - savePickingTime) / 60000;
        setValue(txt_Sku_9, "");
        setValue(hide_editime_9, PickingTime);
        _prevView = _div9Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        var QSKeys = new Array(txt_Sku_9, txt_CartNo_3, hide_editime_9, hide_MLT_PCK_TYP, hide_Tsk_Hld_Tim, hide_Mlt_Pck_Dsp);
        doServerAction(className, "getPickInfoAction", QSKeys, getPickInfoAction);
    } else {
        autoFocus(txt_Sku_9);
    }
}

function doChkSort3Action(id) {
    if (userd_AllInfo_3 != null && userd_AllInfo_3.length > 0) {
        userd_BoxNo = new Array();
        userd_LocNo = new Array();
        userd_Location = new Array();
        userd_Sku = new Array();
        userd_Sku2 = new Array();
        userd_SkuName = new Array();
        userd_CustomerID = new Array();
        userd_Qty = new Array();
        userd_Uom = new Array();
        userd_TurnOverBoxNo = new Array();
        userd_PickToLocation = new Array();
        userd_FmTraceId = new Array();
        userd_WaveNo = new Array();
        userd_showLocation = new Array();
        userd_showSku = new Array();
        userd_showSku2 = new Array();
        userd_showSkuName = new Array();
        userd_showQty = new Array();
        userd_showUom = new Array();
        userd_showTraceId = new Array();
        userd_showUdf1 = new Array();
        userd_showUdf2 = new Array();
        userd_showUdf3 = new Array();
        userd_showUserdefine1 = new Array();
        userd_showUserdefine2 = new Array();
        userd_QTY_index_Array = new Array();
        userd_PerSumQty_id = "";
        checkTotalInput = 0;
        userd_Ptltaskid = new Array();
        userd_LoatAtt04 = new Array();
        addBuffer(userd_AllInfo_3);
        showBoxTable();
    }
}

function cmb_PerCutQty_4_Action(id) {
}

function chk_ClearQty_4_Action() {
}

function cmb_ReasonCode_4_Action(id) {
}

function but_Confirm_4_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_4);
    if (nextId == sfc_Code_4) {
        doButConfirm4Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm4Action() {
    var sumPickQty = 0;
    var updateData = "";
    for (var i = 1; i < userd_QTY_index_Array.length; i++) {
        updateData += "&BOX" + i + ":&QTY" + i + ";";
    }
    setValue(hide_BOX_QTY_4, updateData);
    var fmLocationValue = getValue2(hide_FMLOCATION_3);
    var fmTraceIdValue = getValue2(hide_FMTRACEID_3);
    var skuValue = getValue2(hide_SKU_4);
    buf_LastScanSku_9 = skuValue;
    var boxQtyValue = getValue(hide_BOX_QTY_4);
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        if (userd_Location[i] == fmLocationValue && userd_Sku[i] == skuValue && userd_FmTraceId[i] == fmTraceIdValue) {
            boxQtyValue = boxQtyValue.replace("&BOX" + parseInt(userd_PickToLocation[i].replace("#", ""), 10), userd_TurnOverBoxNo[i] + "_BOXANDWAVENO_" + userd_WaveNo[i] + "_PTLTASKID_" + userd_Ptltaskid[i] + "_ANDTRACEID_" + userd_FmTraceId[i]);
        }
    }
    for (var i = 0; i < userd_Location.length; i++) {
        if (userd_Location[i] == fmLocationValue && userd_Sku[i] == skuValue && userd_FmTraceId[i] == fmTraceIdValue) {
            var qtys = new Array();
            for (var j = 1; j < userd_QTY_index_Array.length; j++) {
                qtys[j] = parseFloat(userd_Qty[i]) - parseFloat(userd_QTY_index_Array[j]);
            }
            boxQtyValue = boxQtyValue.replace("&QTY" + parseInt(userd_PickToLocation[i].replace("#", ""), 10), qtys[parseInt(userd_PickToLocation[i].replace("#", ""), 10)]);
            sumPickQty += parseInt(qtys[parseInt(userd_PickToLocation[i].replace("#", ""), 10)]);
        }
    }
    for (var i = 1; i < userd_QTY_index_Array.length; i++) {
        boxQtyValue = boxQtyValue.replace("&BOX" + i + ":&QTY" + i + ";", "");
    }
    setValue(hide_BOX_QTY_4, boxQtyValue);
    userd_LastFmLocationId = first_GetLocationValue(txt_FMLocation_3);
    var scanQtyValue = getValue2(wxt_Qty_4);
    if (scanQtyValue.indexOf("S:") >= 0 && (getValue(wxt_Qty_5) == "0" && sumPickQty != parseInt(scanQtyValue.replace("S:", "")) || getValue(wxt_Qty_5) != "0" && getValue(wxt_Qty_5) != getValue(wxt_AllQty_5))) {
        first_EchoMessage(getValue(hide_Message_25).replace("&1", scanQtyValue.replace("S:", "")).replace("&2", sumPickQty), first_Alert, "");
        setFocus(txt_SKU_5);
        return;
    }
    var CHECKINVEN = 0;
    var PCK_INV_COU = getValue(hide_PCK_INV_COU);
    if ((PCK_INV_COU == "1" || PCK_INV_COU == "2")) {
        var totalQty = getValue(HIDE_INVENQTY_3);
        var qty = getValue(txt_Banlance_4);
        var invebQty = sumPickQty;
        if (totalQty == null) {
            totalQty = 0;
        }
        if (PCK_INV_COU == "1") {
            if (!first_CheckNumber(qty)) {
                updateMessageBar(hide_Message_32);
                setFocus(txt_Banlance_4);
                return;
            }
            if (parseFloat(qty) == 0) {
                updateMessageBar(hide_Message_42);
                setFocus(txt_Banlance_4);
                return;
            }
            var checkTotle = parseFloat(invebQty) + (parseFloat(qty));
            if (parseFloat(checkTotle) != parseFloat(totalQty)) {
                CHECKINVEN = 1;
            } else {
                CHECKINVEN = 0;
            }
        } else {
            if (PCK_INV_COU == "2") {
                CHECKINVEN = 0;
                if (!first_CheckNumber(qty)) {
                    updateMessageBar(hide_Message_32);
                    setFocus(txt_Banlance_4);
                    return;
                }
                if (parseFloat(qty) == 0) {
                    updateMessageBar(hide_Message_42);
                    setFocus(txt_Banlance_4);
                    return;
                }
                var checkTotle = parseFloat(invebQty) + (parseFloat(qty));
                if (parseFloat(checkTotle) != parseFloat(totalQty)) {
                    checkTotalInput++;
                    if (checkTotalInput == 1) {
                        updateMessageBar(getValue(hide_Message_33).replace("&1", ""));
                        return;
                    } else {
                        CHECKINVEN = 1;
                    }
                } else {
                    updateMessageBar("");
                    CHECKINVEN = 0;
                }
            }
        }
    }
    setValue(HIDE_CHECKINVEN_4, CHECKINVEN);
    if (WCO_PCK_PCS_SCN == "Y") {
        _prevView = _div5Input;
    } else {
        _prevView = _div4Input;
    }
    showViewSingle(_div1Waiting, inViewsKeys, getValue(hide_Lbl_06) + (userd_showLocation.length > 1 ? userd_showLocation[1] : "END"));
    doServerAction(className, "updateBoxQty", QSKeys, updateBoxQty);
}

function updateBoxQty(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate5) {
        lastSEQUpdate5 = curSEQ;
        showViewSingle(_prevView, inViewsKeys);
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var cartNoValue = getValue2(txt_CartNo_3);
            var terminalNoValue = getValue2(hide_TERMINALNO_2);
            var obj2 = replyData.strData2;
            var chkSort3Value = getValue(chk_Sort_3);
            if (returnMessage != null && returnMessage.length > 0) {
                if (returnMessage.endWith("COUNTEROOR")) {
                    returnMessage = returnMessage.replace("COUNTEROOR", getValue(hide_Message_34));
                }
                if (returnMessage == getValue(hide_Message_34)) {
                    updateMessageBar(returnMessage);
                } else {
                    first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
                }
            }
            PickingTime = (new Date() - savePickingTime) / 60000;
            var PCK_LBK_MSG = getValue2(hide_PCK_LBK_MSG);
            if (obj2.length == 0) {
                updateTmpWaveareaHold();
                if (PCK_LBK_MSG == "Y" && first_EchoMessage(getValue(hide_Message_39), first_Confirm, "")) {
                    SuccesAfterLookBack_9 = "Y";
                    if (PickingTime != 0) {
                        PickingTime = (new Date() - savePickingTime) / 60000;
                        setValue(txt_Sku_9, "");
                        setValue(hide_editime_9, PickingTime);
                        _prevView = _div9Input;
                        showViewSingle(_div1Waiting, inViewsKeys);
                        var QSKeys = new Array(txt_Sku_9, txt_CartNo_3, hide_editime_9, hide_MLT_PCK_TYP, hide_Tsk_Hld_Tim, hide_Mlt_Pck_Dsp);
                        doServerAction(className, "getPickInfoAction", QSKeys, getPickInfoAction);
                    }
                } else {
                    initHtmlPage();
                    updateMessageBar(hide_Message_15);
                    if (getValue("hide_FromWavePickingDispach_CartNO_1") != null && getValue("hide_FromWavePickingDispach_CartNO_1").length > 0 && !userd_FromCombiningCart_IsInit) {
                        var obj = parent.fraControl.document.getElementById("chooseName");
                        var titlename = getValue("hide_Title_01");
                        var toUrl = "rfbiz/outbound/wavePickingDispach/wavePickingDispach.jsp";
                        first_GoToNewPage(toUrl, jspUrl, null, null, null, "N", "N");
                        if (obj != null) {
                            if (titlename != null && titlename.length != 0) {
                                obj.innerHTML = titlename;
                            } else {
                                setInnerHTML2(obj.innerHTML = "");
                            }
                        }
                    }
                }
                return;
            }
            for (var i = 0; i < obj2.length; i++) {
                if (obj2[i].PICKTOLOCATION != "#0000" || obj2.length > 1) {
                    break;
                }
                if ((i + 1) == obj2.length) {
                    updateTmpWaveareaHold();
                    if (PCK_LBK_MSG == "Y" && first_EchoMessage(getValue(hide_Message_39), first_Confirm, "")) {
                        SuccesAfterLookBack_9 = "Y";
                        if (PickingTime != 0) {
                            PickingTime = (new Date() - savePickingTime) / 60000;
                            setValue(txt_Sku_9, "");
                            setValue(hide_editime_9, PickingTime);
                            _prevView = _div9Input;
                            showViewSingle(_div1Waiting, inViewsKeys);
                            var QSKeys = new Array(txt_Sku_9, txt_CartNo_3, hide_editime_9, hide_MLT_PCK_TYP, hide_Tsk_Hld_Tim, hide_Mlt_Pck_Dsp);
                            doServerAction(className, "getPickInfoAction", QSKeys, getPickInfoAction);
                        }
                    } else {
                        initHtmlPage();
                        updateMessageBar(hide_Message_15);
                        if (getValue("hide_FromWavePickingDispach_CartNO_1") != null && getValue("hide_FromWavePickingDispach_CartNO_1").length > 0 && !userd_FromCombiningCart_IsInit) {
                            var obj = parent.fraControl.document.getElementById("chooseName");
                            var titlename = getValue("hide_Title_01");
                            var toUrl = "rfbiz/outbound/wavePickingDispach/wavePickingDispach.jsp";
                            first_GoToNewPage(toUrl, jspUrl, null, null, null, "N", "N");
                            if (obj != null) {
                                if (titlename != null && titlename.length != 0) {
                                    obj.innerHTML = titlename;
                                } else {
                                    setInnerHTML2(obj.innerHTML = "");
                                }
                            }
                        }
                    }
                    return;
                }
            }
            initHtmlPage2();
            setValue(hide_TERMINALNO_2, terminalNoValue);
            setValue(txt_CartNo_3, cartNoValue);
            setValue(hide_CARTNO_3, cartNoValue);
            setValue(chk_Sort_3, chkSort3Value);
            showViewSingle(_div3Input, inViewsKeys);
            addBuffer(obj2);
        } else {
            buf_LastScanSku_9 = "";
            if (returnMessage != null && returnMessage != "") {
                showViewSingle(_div3Input, inViewsKeys);
                updateMessageBar(returnMessage);
                setFocus(txt_CartNo_3);
            } else {
                showViewSingle(_div3Input, inViewsKeys);
                updateMessageBar(getValue(hide_Message_14).replace("&1", " IDX_PICKTOLIGHT "));
                setFocus(txt_CartNo_3);
            }
        }
    }
}

function initHtmlPage2() {
    _prevView = _div1Input;
    userd_BoxNo = new Array();
    userd_LocNo = new Array();
    userd_Location = new Array();
    userd_Sku = new Array();
    userd_SkuName = new Array();
    userd_CustomerID = new Array();
    userd_Qty = new Array();
    userd_Uom = new Array();
    userd_TurnOverBoxNo = new Array();
    userd_PickToLocation = new Array();
    userd_FmTraceId = new Array();
    userd_WaveNo = new Array();
    userd_showLocation = new Array();
    userd_showSku = new Array();
    userd_showSkuName = new Array();
    userd_showQty = new Array();
    userd_showUom = new Array();
    userd_showTraceId = new Array();
    userd_showUdf1 = new Array();
    userd_showUdf2 = new Array();
    userd_showUdf3 = new Array();
    userd_showUserdefine1 = new Array();
    userd_showUserdefine2 = new Array();
    userd_QTY_index_Array = new Array();
    userd_PerSumQty_id = "";
    checkTotalInput = 0;
    userd_Ptltaskid = new Array();
    userd_LoatAtt04 = new Array();
    initPageOne();
    initPageTwo();
    initPageThree();
    initPageFour();
    initPageFive();
    initPageSix();
    initPageSeven();
    initPageEight();
    initPageNine();
    intiUserDefined();
    for (var i = 0; i < QSKeys.length; i++) {
        if (QSKeys[i] == "break") {
            break;
        }
        setValue(QSKeys[i], "");
    }
}

function updateTmpWaveareaHold() {
    showViewSingle(_div1Waiting, inViewsKeys);
    var updateKeys = new Array("hide_FromWavePickingDispach_CartNO_1", "hide_FromWavePickingDispach_WORKINGAREA_1");
    doServerAction(className, "doUpdateTmpWaveareaHold", updateKeys, doUpdateTmpWaveareaHoldAction);
}

function doUpdateTmpWaveareaHoldAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate7) {
        lastSEQUpdate7 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                return;
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Cancel_4_Action(id) {
    showViewSingle(_div3Input, inViewsKeys);
    autoFocus(sfc_GetNextId(txt_CartNo_3, sfc_Code_3));
}

function clickAction(id) {
    userd_PerSumQty_id = id;
    var cmbReasonCodeValue = getValue(cmb_ReasonCode_4);
    if (cmbReasonCodeValue != "SS" && WCO_PCK_PCS_SCN != "Y") {
        autoFocus(cmb_ReasonCode_4);
        return;
    }
    var userd_PerSumQty = 1;
    if (getValue2(chk_ClearQty_4) == "Y") {
        userd_PerSumQty = parseInt(getValue2(cmb_PerCutQty_4));
    }
    var index = id.replace("qty", "").replace("loc", "");
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    var pickToLocation = "#" + index;
    for (var i = 0; i < userd_PickToLocation.length; i++) {
        if (userd_PickToLocation[i] == pickToLocation && userd_Location[i] == getValue2(hide_FMLOCATION_3)) {
            if (parseFloat(userd_Qty[i]) > 0) {
                if (parseFloat(userd_Qty[i]) >= userd_QTY_index_Array[parseInt(index)] + userd_PerSumQty) {
                    userd_QTY_index_Array[parseInt(index)] += userd_PerSumQty;
                } else {
                    if (parseFloat(userd_Qty[i]) != userd_QTY_index_Array[parseInt(index)]) {
                        userd_QTY_index_Array[parseInt(index)] = parseFloat(userd_Qty[i]);
                    } else {
                        userd_QTY_index_Array[parseInt(index)] = 0;
                    }
                }
            }
            if (MLT_PCK_TYP == "A" || MLT_PCK_TYP == "B" || MLT_PCK_TYP == "C" || MLT_PCK_TYP == "D" || MLT_PCK_TYP == "F") {
                showBoxInfo();
            } else {
                showBoxInfo2();
            }
            break;
        }
    }
}

function quickKey(event) {
    if (event == null || event.keyCode == 13) {
    }
}

function doubleClickAction(id) {
}

function butChangeCarton4Action(id) {
    showViewSingle(_div8Input, inViewsKeys);
    initPageEight();
    autoFocus(txt_OldCartonNo_8);
}

function txt_SKU_5_Action(id) {
    doTxtSku5Action();
}

function doTxtSku5Action() {
    var skuValue = getValue2(txt_SKU_5);
    if (skuValue.length == 0) {
        autoFocus(txt_SKU_5);
        return;
    }
    var paramInfo = new Array("PCK", "", "", getValue2(hide_customerId_3), "", skuValue);
    SkuBarcodeAnalyzer_SetAddWhere(" AND ALLOWSHIPMENT='Y' ");
    SkuBarcodeAnalyzer_SetParameterAttribute(getValue2(hide_customerId_3), "*", "*");
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, goOnDoTxtSku5Action);
}

function goOnDoTxtSku5Action() {
    var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
    var returnCode = skuInfo[0];
    showViewSingle(_div5Input, inViewsKeys);
    if (returnCode == codeValue_OK) {
        var skuOutput = skuInfo[1];
        var qtyOutput = skuInfo[2];
        setValue(txt_SKU_5, skuOutput);
        var perAddQty = 1;
        if (isNumber(qtyOutput)) {
            perAddQty = parseInt(qtyOutput);
        }
        var skuValue = getValue2(txt_SKU_5);
        if (skuValue.length == 0) {
            autoFocus(txt_SKU_5);
            return;
        }
        if (getValue2(txt_SKU_5) != getValue2(wxt_SKU_4)) {
            startMusic();
            autoFocus("ERROR" + txt_SKU_5);
            return;
        } else {
            if (parseInt(userd_MaxScanQty) < (parseInt(getValue2(wxt_Qty_5)) + perAddQty)) {
                startMusic();
                autoFocus(txt_SKU_5);
                updateMessageBar(getValue(hide_Message_24).replace("&1", ""));
                return;
            }
            startMusic2();
            setValue(txt_SKU_5, "");
            setValue(wxt_Qty_5, parseInt(getValue2(wxt_Qty_5)) + perAddQty);
            autoFocus(txt_SKU_5);
            if (parseInt(userd_MaxScanQty) == parseInt(getValue2(wxt_Qty_5))) {
                autoFocus(but_Confirm_5);
            }
        }
    } else {
        if (returnCode == codeValue_NORECORD) {
            startMusic();
            setFocus(txt_SKU_5);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        } else {
            startMusic();
            setFocus(txt_SKU_5);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        }
    }
}

function but_Confirm_5_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_5);
    if (nextId == sfc_Code_5) {
        doButConfirm5Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm5Action() {
    updateMessageBar("");
    setValue(wxt_Qty_4, "S:" + getValue2(wxt_Qty_5));
    doButConfirm4Action();
}

function but_Cancel_5_Action(id) {
    but_Cancel_4_Action(id);
}

function showPage6Table() {
    userd_ThNameList_1 = new Array(getValue(hide_Lbl_07), getValue(hide_Lbl_08));
    userd_TdContentList_1 = new Array();
    userd_TdContentList_1 = userd_XLocationShwList_6;
    var tableCode = ShowTable_GetTableCode(userd_TableId_1, userd_ThNameList_1, userd_TdContentList_1, userd_MinLineNumber_1, userd_MaxLineNumber_1, userd_ShowLineNumber_1, userd_ShowDeleteAction_1, userd_ShowInfoByDESC_1);
    setInnerHTML2(div_XLocationList_6, tableCode);
    setValue(txt_XLocation_6, "");
    autoFocus(txt_XLocation_6);
}

function ShowTable_DeleteClick_Action(tableId, index) {
    if (tableId == userd_TableId_1 || tableId == userd_TableId_2) {
        return;
    }
    if (tableId == userd_TableId_3 || tableId == userd_TableId_4) {
        userd_ScanCartonList_7.splice(index, 1);
        showPageSevenAction();
        return;
    }
}

function ShowTable_SingleClick_Action(tableId, index) {
    if (tableId == userd_TableId_1 || tableId == userd_TableId_2) {
        return;
    }
    if (tableId == userd_TableId_3 || tableId == userd_TableId_4) {
        return;
    }
}

function ShowTable_DoubleClick_Action(tableId, index) {
    if (tableId == userd_TableId_1 || tableId == userd_TableId_2) {
        return;
    }
    if (tableId == userd_TableId_3 || tableId == userd_TableId_4) {
        return;
    }
}

function ShowTable_ShowAllInfoList(tableId) {
    if (tableId == userd_TableId_1) {
        userd_ThNameList_2 = userd_ThNameList_1.slice(0);
        userd_TdContentList_2 = userd_TdContentList_1.slice(0);
        userd_ShowLineNumber_2 = userd_ShowLineNumber_1;
        userd_ShowDeleteAction_2 = userd_ShowDeleteAction_1;
        userd_ShowInfoByDESC_2 = userd_ShowInfoByDESC_1;
        var tableCode = ShowTable_GetTableCode(userd_TableId_2, userd_ThNameList_2, userd_TdContentList_2, userd_MinLineNumber_2, userd_MaxLineNumber_2, userd_ShowLineNumber_2, userd_ShowDeleteAction_2, userd_ShowInfoByDESC_2);
        setInnerHTML2(div_XLocationList_6, tableCode);
        return;
    }
    if (tableId == userd_TableId_2) {
        alert("More Info in the database, out of Rf_Buffer.");
        return;
    }
    if (tableId == userd_TableId_3) {
        userd_ThNameList_4 = userd_ThNameList_3.slice(0);
        userd_TdContentList_4 = userd_TdContentList_3.slice(0);
        userd_ShowLineNumber_4 = userd_ShowLineNumber_3;
        userd_ShowDeleteAction_4 = userd_ShowDeleteAction_3;
        userd_ShowInfoByDESC_4 = userd_ShowInfoByDESC_3;
        var tableCode = ShowTable_GetTableCode(userd_TableId_4, userd_ThNameList_4, userd_TdContentList_4, userd_MinLineNumber_4, userd_MaxLineNumber_4, userd_ShowLineNumber_4, userd_ShowDeleteAction_4, userd_ShowInfoByDESC_4);
        setInnerHTML2(div_SplitCartonList_7, tableCode);
        return;
    }
    if (tableId == userd_TableId_4) {
        alert("More Info in the database, out of Rf_Buffer.");
        return;
    }
}

function txt_XLocation_6_Action(id) {
    var unlinkedLocationValue = first_GetLocationValue(txt_XLocation_6);
    if (unlinkedLocationValue.length == 0) {
        autoFocus(txt_XLocation_6);
        return;
    }
    var isExist = false;
    for (var i = 0; i < userd_XLocationShwList_6.length; i++) {
        if (unlinkedLocationValue == userd_XLocationShwList_6[i][1].toUpperCase()) {
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        startMusic();
        autoFocus("ERROR" + txt_XLocation_6);
        return;
    }
    autoFocus(but_Unlinked_6);
}

function but_Unlinked_6_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_6);
    if (nextId == sfc_Code_6) {
        doButUnlinked6Action();
    } else {
        autoFocus(nextId);
    }
}

function doButUnlinked6Action() {
    var unlinkedLocationValue = first_GetLocationValue(txt_XLocation_6);
    if (unlinkedLocationValue.length == 0) {
        autoFocus(txt_XLocation_6);
        return;
    }
    var isExist = false;
    for (var i = 0; i < userd_XLocationShwList_6.length; i++) {
        if (unlinkedLocationValue == userd_XLocationShwList_6[i][1].toUpperCase()) {
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        startMusic();
        autoFocus("ERROR" + txt_XLocation_6);
        return;
    } else {
        setValue(hide_XLocationId_6, unlinkedLocationValue);
    }
    _prevView = _div6Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "unXLocationAction", QSKeys, unXLocationAction);
}

function unXLocationAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            userd_XLocationShwList_6 = new Array();
            for (var i = 0; i < obj2.length; i++) {
                userd_XLocationShwList_6.push(new Array(getValue2(hide_XLocationId_3), obj2[i].CHILDLOCATION));
            }
            showViewSingle(_div6Input, inViewsKeys);
            showPage6Table();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                userd_XLocationShwList_6 = new Array();
                showViewSingle(_div6Input, inViewsKeys);
                showPage6Table();
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Quit_6_Action(id) {
    showViewSingle(_div3Input, inViewsKeys);
    autoFocus(but_Confirm_3);
}

function showPageSevenAction() {
    showViewSingle(_div7Input, inViewsKeys);
    setValue(txt_SerialNo_7, "");
    autoFocus(txt_SerialNo_7);
    showPageSevenTable();
}

function showPageSevenTable() {
    userd_ThNameList_3 = new Array(getValue(hide_Lbl_09));
    userd_TdContentList_3 = new Array();
    for (var i = 0; i < userd_ScanCartonList_7.length; i++) {
        userd_TdContentList_3.push(new Array(userd_ScanCartonList_7[i]));
    }
    var tableCode = ShowTable_GetTableCode(userd_TableId_3, userd_ThNameList_3, userd_TdContentList_3, userd_MinLineNumber_3, userd_MaxLineNumber_3, userd_ShowLineNumber_3, userd_ShowDeleteAction_3, userd_ShowInfoByDESC_3);
    setInnerHTML2(div_SplitCartonList_7, tableCode);
}

function txt_SerialNo_7_Action(id) {
    var serialNoValue = getValue2(txt_SerialNo_7);
    if (serialNoValue.length == 0) {
        autoFocus(txt_SerialNo_7);
        return;
    }
    for (var i = 0; i < userd_ScanCartonList_7.length; i++) {
        if (serialNoValue == userd_ScanCartonList_7[i]) {
            autoFocus("ERROR1" + txt_SerialNo_7);
            return;
        }
    }
    var isExist = false;
    for (var i = 0; i < userd_SplitCartonList_7.length; i++) {
        if (serialNoValue == userd_SplitCartonList_7[i].SERIALNO) {
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        autoFocus("ERROR2" + txt_SerialNo_7);
        return;
    }
    userd_ScanCartonList_7.push(serialNoValue);
    showPageSevenAction();
}

function but_SplitCarton_7_Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_7);
    if (nextId == sfc_Code_7) {
        doButSplitCarton7Action();
    } else {
        autoFocus(nextId);
    }
}

function doButSplitCarton7Action() {
    if (userd_ScanCartonList_7 != null || userd_ScanCartonList_7.length != 0) {
        setValue(hide_SplitCartonList_7, userd_ScanCartonList_7.join(";"));
        _prevView = _div7Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "doSplitCartonAction", QSKeys, doSplitCartonAction);
    }
}

function doSplitCartonAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_div3Input, inViewsKeys);
            autoFocus("OK" + but_SplitCarton_3);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function but_Cancel_7_Action(id) {
    showViewSingle(_div3Input, inViewsKeys);
    autoFocus(but_SplitCarton_3);
}

function txtOldCartonNo8Action(id) {
    var oldValue = getValue3(txt_OldCartonNo_8);
    if (oldValue.length == 0) {
        autoFocus(txt_OldCartonNo_8);
        return;
    }
    var isExist = false;
    for (var i = 0; i < userd_TurnOverBoxNo.length; i++) {
        if (userd_TurnOverBoxNo[i] == oldValue) {
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        autoFocus("EQUAL" + txt_OldCartonNo_8);
        return;
    }
    autoFocus(txt_NewCartonNo_8);
}

function txtNewCartonNo8Action(id) {
    var oldValue = getValue3(txt_OldCartonNo_8);
    if (oldValue.length == 0) {
        autoFocus(txt_OldCartonNo_8);
        return;
    }
    var isExist = false;
    for (var i = 0; i < userd_TurnOverBoxNo.length; i++) {
        if (userd_TurnOverBoxNo[i] == oldValue) {
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        autoFocus("EQUAL" + txt_OldCartonNo_8);
        return;
    }
    var newValue = getValue3(txt_NewCartonNo_8);
    if (newValue.length == 0) {
        autoFocus(txt_NewCartonNo_8);
        return;
    }
    autoFocus(but_Confirm_8);
}

function butConfirm8Action(id) {
    var newValue = getValue3(txt_NewCartonNo_8);
    if (newValue.length == 0) {
        autoFocus(txt_NewCartonNo_8);
        return;
    }
    var oldValue = getValue3(txt_OldCartonNo_8);
    if (oldValue.length == 0) {
        autoFocus(txt_OldCartonNo_8);
        return;
    }
    var isExist = false;
    for (var i = 0; i < userd_TurnOverBoxNo.length; i++) {
        if (userd_TurnOverBoxNo[i] == oldValue) {
            setValue(hide_ptlTaskId_8, userd_Ptltaskid[i]);
            isExist = true;
            break;
        }
    }
    if (!isExist) {
        autoFocus("EQUAL" + txt_OldCartonNo_8);
        return;
    }
    setValue(hide_NewCartonNo_8, newValue);
    setValue(hide_OldCartonNo_8, oldValue);
    _prevView = _div8Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    var QSKeys1 = new Array(hide_CARTNO_3, hide_Udf1_3, hide_Udf2_3, hide_Udf3_3, hide_RF_SKU_UD1, hide_WorkingArea_1, hide_TERMINALNO_2, hide_MLT_PCK_TYP, hide_Tsk_Hld_Tim, hide_NewCartonNo_8, hide_OldCartonNo_8, hide_ptlTaskId_8, hide_Mlt_Pck_Dsp);
    doServerAction(className, "doChangeCartonAction", QSKeys1, doChangeCartonAction);
}

function doChangeCartonAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            if (WCO_PCK_PCS_SCN != "Y") {
                showViewSingle(_div4Input, inViewsKeys);
                autoFocus(but_ChangeCarton_4);
            } else {
                showViewSingle(_div5Input, inViewsKeys);
                autoFocus(but_ChangeCarton_5);
            }
            updateMessageBar(hide_Message_37);
            setInnerHTML2(div_BoxInfoList_4, "");
            setInnerHTML2(div_BoxInfoList_5, "");
            userd_BoxNo = new Array();
            userd_LocNo = new Array();
            userd_Location = new Array();
            userd_Sku = new Array();
            userd_Sku2 = new Array();
            userd_SkuName = new Array();
            userd_CustomerID = new Array();
            userd_Qty = new Array();
            userd_Uom = new Array();
            userd_TurnOverBoxNo = new Array();
            userd_OfflineTraceId = new Array();
            userd_PickToLocation = new Array();
            userd_FmTraceId = new Array();
            userd_WaveNo = new Array();
            userd_showLocation = new Array();
            userd_showSku = new Array();
            userd_showSku2 = new Array();
            userd_showSkuName = new Array();
            userd_showQty = new Array();
            userd_showUom = new Array();
            userd_showTraceId = new Array();
            userd_showUdf1 = new Array();
            userd_showUdf2 = new Array();
            userd_showUdf3 = new Array();
            userd_showUserdefine1 = new Array();
            userd_showUserdefine2 = new Array();
            userd_QTY_index_Array = new Array();
            userd_PerSumQty_id = "";
            checkTotalInput = 0;
            userd_Ptltaskid = new Array();
            userd_LoatAtt04 = new Array();
            addBuffer2(obj2);
            doButConfirm3Action();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function addBuffer2(obj2) {
    var flagIndex = "Y";
    if (getValue(chk_Sort_3) == "N") {
        for (var i = 0; i < obj2.length; i++) {
            var obj = obj2[i];
            if (obj.PICKTOLOCATION == "#0000") {
                flagIndex = "Y";
                continue;
            }
            var locationID = obj.FMLOCATION;
            var sku = obj.SKU;
            var skuName = obj.SKUNAME;
            var customerID = "";
            customerID = obj.CUSTOMERID;
            var qty = obj.FMQTY;
            var uom = obj.UOM;
            var turnOverBoxNo = obj.TURNOVERBOXNO;
            var pickToLocation = obj.PICKTOLOCATION;
            var fmTraceId = obj.FMTRACEID;
            var waveNo = obj.WAVENO;
            var udf1 = obj.UDF1;
            var udf2 = obj.UDF2;
            var udf3 = obj.UDF3;
            var userdefine1 = obj.USERDEFINE1;
            var userdefine2 = obj.USERDEFINE2;
            var PTLTASKID = obj.PTLTASKID;
            var LOTATT04 = obj.LOTATT04;
            userd_Location.push(locationID);
            userd_Sku.push(sku);
            userd_SkuName.push(skuName);
            userd_CustomerID.push(customerID);
            userd_Qty.push(qty);
            userd_Uom.push(uom);
            userd_TurnOverBoxNo.push(turnOverBoxNo);
            userd_PickToLocation.push(pickToLocation);
            userd_FmTraceId.push(fmTraceId);
            userd_WaveNo.push(waveNo);
            userd_Ptltaskid.push(PTLTASKID);
            userd_LoatAtt04.push(LOTATT04.toUpperCase());
            var index = -1;
            for (var j = 0; j < userd_showLocation.length; j++) {
                if (userd_showLocation[j] == locationID && userd_showTraceId[j] == fmTraceId && userd_showSku[j] == sku && userd_CustomerID[j] == customerID && userd_showUom[j] == uom) {
                    index = j;
                    break;
                }
            }
            if (index == -1) {
                userd_showLocation.push(locationID);
                userd_showSku.push(sku);
                userd_showSkuName.push(skuName);
                userd_showQty.push(parseFloat(qty));
                userd_showUom.push(uom);
                userd_showTraceId.push(fmTraceId);
                userd_showUdf1.push(udf1);
                userd_showUdf2.push(udf2);
                userd_showUdf3.push(udf3);
                userd_CustomerId.push(customerID);
                userd_showUserdefine1.push(userdefine1);
                userd_showUserdefine2.push(userdefine2);
                if (flagIndex == "Y") {
                    setValue(txt_FMLocation_3, locationID);
                    setObjValue(wxtFmLocation3Obj, locationID);
                    setValue(txt_FMTraceID_3, fmTraceId);
                    setObjValue(wxtFmTraceId3Obj, fmTraceId);
                    setObjValue(wxtSkuDescr3Obj, skuName);
                    setObjValue(wxtSku3Obj, sku);
                    setValue(txt_SKU_3, sku);
                    setObjValue(wxtUdf13Obj, udf1);
                    setObjValue(wxtUdf23Obj, udf2);
                    setObjValue(wxtUdf33Obj, udf3);
                    setObjValue(wxtUserdefine13Obj, userdefine1);
                    setObjValue(wxtUserdefine23Obj, userdefine2);
                    setObjValue(wxtUserdefine33Obj, sku);
                    setObjValue(wxtSkuDescr4Obj, skuName);
                    setObjValue(wxtQty4Obj, qty);
                    setObjValue(wxtAllQty5Obj, qty);
                    flagIndex = "N";
                }
            } else {
                userd_showQty[index] = parseFloat(userd_showQty[index]) + parseFloat(qty);
            }
        }
    } else {
        for (var i = obj2.length - 1; i >= 0; i--) {
            var obj = obj2[i];
            if (obj.PICKTOLOCATION == "#0000") {
                flagIndex = "Y";
                continue;
            }
            var locationID = obj.FMLOCATION;
            var sku = obj.SKU;
            var skuName = obj.SKUNAME;
            var customerID = "";
            customerID = obj.CUSTOMERID;
            var qty = obj.FMQTY;
            var uom = obj.UOM;
            var turnOverBoxNo = obj.TURNOVERBOXNO;
            var pickToLocation = obj.PICKTOLOCATION;
            var fmTraceId = obj.FMTRACEID;
            var waveNo = obj.WAVENO;
            var udf1 = obj.UDF1;
            var udf2 = obj.UDF2;
            var udf3 = obj.UDF3;
            var userdefine1 = obj.USERDEFINE1;
            var userdefine2 = obj.USERDEFINE2;
            var PTLTASKID = obj.PTLTASKID;
            var LOTATT04 = obj.LOTATT04;
            userd_Location.push(locationID);
            userd_Sku.push(sku);
            userd_SkuName.push(skuName);
            userd_CustomerID.push(customerID);
            userd_Qty.push(qty);
            userd_Uom.push(uom);
            userd_TurnOverBoxNo.push(turnOverBoxNo);
            userd_PickToLocation.push(pickToLocation);
            userd_FmTraceId.push(fmTraceId);
            userd_WaveNo.push(waveNo);
            userd_Ptltaskid.push(PTLTASKID);
            userd_LoatAtt04.push(LOTATT04.toUpperCase());
            var index = -1;
            for (var j = 0; j < userd_showLocation.length; j++) {
                if (userd_showLocation[j] == locationID && userd_showTraceId[j] == fmTraceId && userd_showSku[j] == sku && userd_CustomerID[j] == customerID && userd_showUom[j] == uom) {
                    index = j;
                    break;
                }
            }
            if (index == -1) {
                userd_showLocation.push(locationID);
                userd_showSku.push(sku);
                userd_showSkuName.push(skuName);
                userd_showQty.push(parseFloat(qty));
                userd_showUom.push(uom);
                userd_showTraceId.push(fmTraceId);
                userd_showUdf1.push(udf1);
                userd_showUdf2.push(udf2);
                userd_showUdf3.push(udf3);
                userd_CustomerId.push(customerID);
                userd_showUserdefine1.push(userdefine1);
                userd_showUserdefine2.push(userdefine2);
                if (flagIndex == "Y") {
                    setValue(txt_FMLocation_3, locationID);
                    setObjValue(wxtFmLocation3Obj, locationID);
                    setValue(txt_FMTraceID_3, fmTraceId);
                    setObjValue(wxtFmTraceId3Obj, fmTraceId);
                    setObjValue(wxtSkuDescr3Obj, skuName);
                    setObjValue(wxtSku3Obj, sku);
                    setValue(txt_SKU_3, sku);
                    setObjValue(wxtUdf13Obj, udf1);
                    setObjValue(wxtUdf23Obj, udf2);
                    setObjValue(wxtUdf33Obj, udf3);
                    setObjValue(wxtUserdefine13Obj, userdefine1);
                    setObjValue(wxtUserdefine23Obj, userdefine2);
                    setObjValue(wxtUserdefine33Obj, sku);
                    setObjValue(wxtSkuDescr4Obj, skuName);
                    setObjValue(wxtQty4Obj, qty);
                    setObjValue(wxtAllQty5Obj, qty);
                    flagIndex = "N";
                }
            } else {
                userd_showQty[index] = parseFloat(userd_showQty[index]) + parseFloat(qty);
            }
        }
    }
    setObjValue(hideSku4Obj, userd_showSku[0]);
    setObjValue(hideFmLocation3Obj, userd_showLocation[0].toUpperCase());
    setObjValue(hideFmTraceId3Obj, userd_showTraceId[0].toUpperCase());
    setObjValue(hideCustomerId3Obj, userd_CustomerID[0]);
    WCO_PCK_PCS_SCN = first_GetParameterValue(getValue(hide_PCK_PCS_SCN), userd_CustomerID[0], "*", p_warehouseId);
    setTimeout(showLocationInfo, 1);
}

function butCancel8Action(id) {
    if (WCO_PCK_PCS_SCN != "Y") {
        showViewSingle(_div4Input, inViewsKeys);
        autoFocus(but_ChangeCarton_4);
    } else {
        showViewSingle(_div5Input, inViewsKeys);
        autoFocus(but_ChangeCarton_5);
    }
}

function showScanTable9() {
    var tableList = new Array();
    for (var i = 0; i < buf_ScanList_9.length; i++) {
        var info = new Array(buf_ScanList_9[i][0], buf_ScanList_9[i][1]);
        tableList.push(info);
    }
    Table_CreateTable(div_PickingLookBackList_9, new Array("PTL", "QTY"), tableList, 5, "", "", "", false, false);
}

function showPageNine() {
    setValue(txt_Sku_9, userd_AllInfo_9[buffer_InfoIndex].SKU);
    setValue(wxt_Location_9, "");
    setValue(wxt_Qty_9, "");
    setValue(wxt_SkuDescr_9, "");
    buf_ScanList_9 = new Array();
    if (userd_AllInfo_9 != null && userd_AllInfo_9.length > 0) {
        var CountNumber = 0;
        for (var i = 0; i < userd_AllInfo_9.length; i++) {
            if ((userd_AllInfo_9[i].FMLOCATION + ":" + userd_AllInfo_9[i].FMID + ":" + userd_AllInfo_9[i].SKU + ":" + userd_AllInfo_9[i].LOTATT04 + ":" + userd_AllInfo_9[i].CUSTOMERID) == MapForDoFMLocation.get(buffer_InfoIndex)) {
                buf_ScanList_9.push(new Array(userd_AllInfo_9[i].CARTNO, userd_AllInfo_9[i].FMQTY, userd_AllInfo_9[i].FMLOCATION, userd_AllInfo_9[i].SKUDESCR, userd_AllInfo_9[i].PICKTOLOCATION));
                CountNumber = parseInt(CountNumber) + parseInt(userd_AllInfo_9[i].FMQTY);
                setValue(wxt_Location_9, userd_AllInfo_9[i].FMLOCATION);
                setValue(txt_Sku_9, userd_AllInfo_9[i].SKU);
                setValue(wxt_SkuDescr_9, userd_AllInfo_9[i].SKUDESCR);
            }
        }
        setValue(wxt_Qty_9, CountNumber);
    }
    setInnerHTML2(lbl_Page_9, "(" + (buffer_InfoIndex + 1) + "/" + MapForDoFMLocation.size() + ")");
    showScanTable9();
}

function doTxtSku9Action(id) {
    var skuValue = getValue2(txt_Sku_9);
    if (skuValue.length == 0) {
        autoFocus(txt_Sku_9);
    }
    var paramInfo = new Array("PCK", "", "", getValue2(hide_customerId_3), "", skuValue);
    SkuBarcodeAnalyzer_SetAddWhere(" AND ALLOWSHIPMENT='Y' ");
    SkuBarcodeAnalyzer_SetParameterAttribute(getValue2(hide_customerId_3), "*", "*");
    SkuBarcodeAnalyzer_AnalyzerSkuBarCode(inViewsKeys, paramInfo, returnFunction);
}

function returnFunction() {
    var skuInfo = SkuBarcodeAnalyzer_getSkuInfoResult();
    var returnCode = skuInfo[0];
    showViewSingle(_div9Input, inViewsKeys);
    if (returnCode == codeValue_OK) {
        var skuOutput = skuInfo[1];
        setValue(txt_Sku_9, skuOutput);
        var skuValue = getValue2(txt_Sku_9);
        if (skuValue.length == 0) {
            first_PlayMuiscByName("M010", getValue("hide_MusicList"), false);
            autoFocus(txt_Sku_9);
            updateMessageBar(hide_Message_23);
            return;
        }
        _prevView = _div9Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        var QSKeys = new Array(txt_Sku_9, txt_CartNo_3, hide_editime_9, hide_MLT_PCK_TYP, hide_Mlt_Pck_Dsp);
        doServerAction(className, "getPickInfoAction", QSKeys, getPickInfoAction);
    } else {
        if (returnCode == codeValue_NORECORD) {
            setFocus(txt_Sku_9);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        } else {
            setFocus(txt_Sku_9);
            first_EchoMessage(skuInfo[1], first_Alert, "updateMessageBar");
        }
    }
}

function getPickInfoAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            userd_AllInfo_9 = replyData.strData2;
            showViewSingle(_prevView, inViewsKeys);
            setValue(txt_Sku_9, userd_AllInfo_9[0].SKU);
            setValue(wxt_Location_9, "");
            setValue(wxt_Qty_9, "");
            setValue(wxt_SkuDescr_9, "");
            buf_ScanList_9 = new Array();
            setInnerHTML2(lbl_Page_9, "(0/0)");
            buffer_InfoIndex = 0;
            MapForDoFMLocation = new JHashMap();
            var MapForNum = 0;
            if (userd_AllInfo_9 != null && userd_AllInfo_9.length > 0) {
                var CountNumber = 0;
                for (var i = 0; i < userd_AllInfo_9.length; i++) {
                    if (!MapForDoFMLocation.containsValue(userd_AllInfo_9[i].FMLOCATION + ":" + userd_AllInfo_9[i].FMID + ":" + userd_AllInfo_9[i].SKU + ":" + userd_AllInfo_9[i].LOTATT04 + ":" + userd_AllInfo_9[i].CUSTOMERID)) {
                        MapForDoFMLocation.put(MapForNum, userd_AllInfo_9[i].FMLOCATION + ":" + userd_AllInfo_9[i].FMID + ":" + userd_AllInfo_9[i].SKU + ":" + userd_AllInfo_9[i].LOTATT04 + ":" + userd_AllInfo_9[i].CUSTOMERID);
                        MapForNum++;
                    }
                    if (userd_AllInfo_9[i].FMLOCATION == userd_AllInfo_9[0].FMLOCATION && userd_AllInfo_9[i].FMID == userd_AllInfo_9[0].FMID && userd_AllInfo_9[i].SKU == userd_AllInfo_9[0].SKU && userd_AllInfo_9[i].LOTATT04 == userd_AllInfo_9[0].LOTATT04 && userd_AllInfo_9[i].CUSTOMERID == userd_AllInfo_9[0].CUSTOMERID) {
                        buf_ScanList_9.push(new Array(userd_AllInfo_9[i].CARTNO, userd_AllInfo_9[i].FMQTY, userd_AllInfo_9[i].FMLOCATION, userd_AllInfo_9[i].SKUDESCR, userd_AllInfo_9[i].PICKTOLOCATION));
                        CountNumber = parseInt(CountNumber) + parseInt(userd_AllInfo_9[i].FMQTY);
                    }
                }
                setValue(wxt_Location_9, userd_AllInfo_9[0].FMLOCATION);
                setValue(txt_Sku_9, userd_AllInfo_9[0].SKU);
                setValue(wxt_SkuDescr_9, userd_AllInfo_9[0].SKUDESCR);
                setValue(wxt_Qty_9, CountNumber);
            }
            setInnerHTML2(lbl_Page_9, "(" + (buffer_InfoIndex + 1) + "/" + MapForDoFMLocation.size() + ")");
            var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
            if (MLT_PCK_TYP == "A" || MLT_PCK_TYP == "B" || MLT_PCK_TYP == "C" || MLT_PCK_TYP == "D" || MLT_PCK_TYP == "F") {
                if (SuccesAfterLookBack_9 == "Y") {
                    showBoxTable9_2();
                } else {
                    showBoxTable9();
                }
            } else {
                showScanTable9();
            }
            setFocus(but_GetNextOne_9);
            updateMessageBar("");
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus(txt_Sku_9);
                updateMessageBar(hide_Message_23);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doButGetLastOne9Action(event) {
    if (buffer_InfoIndex > 0) {
        setValue(wxt_Location_9, "");
        setValue(wxt_Qty_9, "");
        setValue(wxt_SkuDescr_9, "");
        buffer_InfoIndex--;
        var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
        if (MLT_PCK_TYP == "A" || MLT_PCK_TYP == "B" || MLT_PCK_TYP == "C" || MLT_PCK_TYP == "D" || MLT_PCK_TYP == "F") {
            if (SuccesAfterLookBack_9 == "Y") {
                showBoxTable9_2();
            } else {
                showBoxTable9();
            }
        } else {
            showPageNine();
        }
        setInnerHTML2(lbl_Page_9, "(" + (buffer_InfoIndex + 1) + "/" + MapForDoFMLocation.size() + ")");
    } else {
        buffer_InfoIndex = 0;
        var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
        if (MLT_PCK_TYP == "A" || MLT_PCK_TYP == "B" || MLT_PCK_TYP == "C" || MLT_PCK_TYP == "D" || MLT_PCK_TYP == "F") {
            if (SuccesAfterLookBack_9 == "Y") {
                showBoxTable9_2();
            } else {
                showBoxTable9();
            }
        } else {
            showPageNine();
        }
    }
}

function doButGetNextOne9Action() {
    if (buffer_InfoIndex < parseInt(MapForDoFMLocation.size()) - 1) {
        setValue(wxt_Location_9, "");
        setValue(wxt_Qty_9, "");
        setValue(wxt_SkuDescr_9, "");
        buffer_InfoIndex++;
        var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
        if (MLT_PCK_TYP == "A" || MLT_PCK_TYP == "B" || MLT_PCK_TYP == "C" || MLT_PCK_TYP == "D" || MLT_PCK_TYP == "F") {
            if (SuccesAfterLookBack_9 == "Y") {
                showBoxTable9_2();
            } else {
                showBoxTable9();
            }
        } else {
            showPageNine();
        }
        setInnerHTML2(lbl_Page_9, "(" + (buffer_InfoIndex + 1) + "/" + MapForDoFMLocation.size() + ")");
    }
}

function doButCancel9Action() {
    setValue(txt_Sku_9, "");
    setValue(wxt_Location_9, "");
    setValue(wxt_Qty_9, "");
    setValue(wxt_SkuDescr_9, "");
    buf_ScanList_9 = new Array();
    setInnerHTML2(lbl_Page_9, "(0/0)");
    buffer_InfoIndex = 0;
    MapForDoFMLocation = new JHashMap();
    userd_AllInfo_9 = null;
    if (SuccesAfterLookBack_9 == "Y") {
        initHtmlPage();
        if (getValue("hide_FromWavePickingDispach_CartNO_1") != null && getValue("hide_FromWavePickingDispach_CartNO_1").length > 0 && !userd_FromCombiningCart_IsInit) {
            var obj = parent.fraControl.document.getElementById("chooseName");
            var titlename = getValue("hide_Title_01");
            toUrl = "rfbiz/outbound/wavePickingDispach/wavePickingDispach.jsp";
            first_GoToNewPage(toUrl, jspUrl, null, null, null, "N", "N");
            if (obj != null) {
                if (titlename != null && titlename.length != 0) {
                    obj.innerHTML = titlename;
                } else {
                    setInnerHTML2(obj.innerHTML = "");
                }
            }
        }
    } else {
        showViewSingle(_div3Input, inViewsKeys);
    }
}

function showBoxTable9() {
    var tableMessage = "";
    var smallTable = "";
    var bigTableWidth = "80%";
    var bigTableHeight = 65;
    var smallTableWidth = "100%";
    var smallTableHeight = bigTableHeight - 5;
    var smallTableTopHeight = 5;
    var smallTableUpHeight = 25;
    var smallTableDNHeight = 30;
    smallTable = "";
    smallTable += "<table width='" + smallTableWidth + "' height='" + smallTableHeight + "' border='0' cellpadding='0' cellspacing='0'>";
    smallTable += "<tr height='" + smallTableTopHeight + "' align='right' valign='middle'><td id='&idno'>&taskno</td></tr>";
    smallTable += "<tr height='" + smallTableUpHeight + "' align='center' valign='middle'><td id='&id1' >&qty</td></tr>";
    smallTable += "<tr height='" + smallTableDNHeight + "' align='center' valign='middle'><td id='&id2' >&loc</td></tr>";
    smallTable += "</table>";
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tableMessage = "";
        tableMessage += "<table width='" + bigTableWidth + "' height='" + bigTableHeight + "' border='1' align='center'>";
        tableMessage += "<tr height='100%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
        tableMessage += "</table>";
        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
    } else {
        if (MLT_PCK_TYP == "B") {
            tableMessage = "";
            tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&1</td></tr>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&2</td></tr>";
            tableMessage += "</table>";
            tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
        } else {
            if (MLT_PCK_TYP == "C") {
                tableMessage = "";
                tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&3</td><td width='50%' align='center' valign='middle'>&4</td></tr>";
                tableMessage += "</table>";
                tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>"));
            } else {
                if (MLT_PCK_TYP == "D") {
                    tableMessage = "";
                    tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                    tableMessage += "<tr height='50%'><td width='30%' align='center' valign='middle'>&1</td><td width='30%' align='center' valign='middle'>&2</td><td width='40%' align='center' valign='middle'>&3</td></tr>";
                    tableMessage += "<tr height='50%'><td width='30%' align='center' valign='middle'>&4</td><td width='30%' align='center' valign='middle'>&5</td><td width='40%' align='center' valign='middle'>&6</td></tr>";
                    tableMessage += "</table>";
                    tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>"));
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tableMessage = "";
                        tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                        tableMessage += "<tr height='32%'><td width='32%' align='center' valign='middle'>&1</td><td width='32%' align='center' valign='middle'>&2</td><td width='36%' align='center' valign='middle'>&3</td></tr>";
                        tableMessage += "<tr height='32%'><td width='32%' align='center' valign='middle'>&4</td><td width='32%' align='center' valign='middle'>&5</td><td width='36%' align='center' valign='middle'>&6</td></tr>";
                        tableMessage += "<tr height='36%'><td width='32%' align='center' valign='middle'>&7</td><td width='32%' align='center' valign='middle'>&8</td><td width='36%' align='center' valign='middle'>&9</td></tr>";
                        tableMessage += "</table>";
                        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>")).replace("&7", smallTable.replace("&idno", "no7").replace("&id1", "qty7").replace("&id2", "loc7").replace("&taskno", "<label id='LBL_LOC7_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC7_QTY'></label>").replace("&loc", "<label id='LBL_LOC_7' style='font-size:1.0em;'></label>")).replace("&8", smallTable.replace("&idno", "no8").replace("&id1", "qty8").replace("&id2", "loc8").replace("&taskno", "<label id='LBL_LOC8_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC8_QTY'></label>").replace("&loc", "<label id='LBL_LOC_8' style='font-size:1.0em;'></label>")).replace("&9", smallTable.replace("&idno", "no9").replace("&id1", "qty9").replace("&id2", "loc9").replace("&taskno", "<label id='LBL_LOC9_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC9_QTY'></label>").replace("&loc", "<label id='LBL_LOC_9' style='font-size:1.0em;'></label>"));
                    } else {
                        if (MLT_PCK_TYP == "LIST") {
                            showBoxInfo2();
                            return;
                        } else {
                            initHtmlPage();
                            updateMessageBar("error: MLT_PCK_TYP");
                            alert("error: MLT_PCK_TYP");
                        }
                    }
                }
            }
        }
    }
    setInnerHTML2(div_BoxInfoList_4, "");
    setInnerHTML2(div_BoxInfoList_5, "");
    setInnerHTML2(div_PickingLookBackList_9, tableMessage);
    showBoxInfo9();
}

function showBoxInfo9() {
    var fontSize = 6;
    setInnerHTML2(LBL_LOC_1, "&nbsp;");
    setInnerHTML2(LBL_LOC_2, "&nbsp;");
    setInnerHTML2(LBL_LOC_3, "&nbsp;");
    setInnerHTML2(LBL_LOC_4, "&nbsp;");
    setInnerHTML2(LBL_LOC_5, "&nbsp;");
    setInnerHTML2(LBL_LOC_6, "&nbsp;");
    setInnerHTML2(LBL_LOC_7, "&nbsp;");
    setInnerHTML2(LBL_LOC_8, "&nbsp;");
    setInnerHTML2(LBL_LOC_9, "&nbsp;");
    setInnerHTML2(LBL_LOC1_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC2_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC3_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC4_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC5_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC6_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC7_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC8_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC9_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    var tabelSize = 0;
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tabelSize = 3;
    } else {
        if (MLT_PCK_TYP == "B") {
            tabelSize = 3;
        } else {
            if (MLT_PCK_TYP == "C") {
                tabelSize = 5;
            } else {
                if (MLT_PCK_TYP == "D") {
                    tabelSize = 7;
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tabelSize = 10;
                    }
                }
            }
        }
    }
    for (var i = 1; i < tabelSize; i++) {
        changeColor(i, userd_Color_4);
    }
    if (userd_AllInfo_9 != null && userd_AllInfo_9.length > 0) {
        var CountNumber = 0;
        for (var i = 0; i < userd_AllInfo_9.length; i++) {
            if ((userd_AllInfo_9[i].FMLOCATION + ":" + userd_AllInfo_9[i].FMID + ":" + userd_AllInfo_9[i].SKU + ":" + userd_AllInfo_9[i].LOTATT04 + ":" + userd_AllInfo_9[i].CUSTOMERID) == MapForDoFMLocation.get(buffer_InfoIndex)) {
                if (userd_AllInfo_9[i].PICKTOLOCATION == "#1") {
                    setInnerHTML2(LBL_LOC_1, userd_AllInfo_9[i].CARTNO);
                    setInnerHTML2(LBL_LOC1_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                    if (userd_AllInfo_9[i].FMQTY > 0) {
                        changeColor(1, userd_Color_1);
                    } else {
                        changeColor(1, userd_Color_2);
                    }
                } else {
                    if (userd_AllInfo_9[i].PICKTOLOCATION == "#2") {
                        setInnerHTML2(LBL_LOC_2, userd_AllInfo_9[i].CARTNO);
                        setInnerHTML2(LBL_LOC2_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                        if (userd_AllInfo_9[i].FMQTY > 0) {
                            changeColor(2, userd_Color_1);
                        } else {
                            changeColor(2, userd_Color_2);
                        }
                    } else {
                        if (userd_AllInfo_9[i].PICKTOLOCATION == "#3") {
                            setInnerHTML2(LBL_LOC_3, userd_AllInfo_9[i].CARTNO);
                            setInnerHTML2(LBL_LOC3_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                            if (userd_AllInfo_9[i].FMQTY > 0) {
                                changeColor(3, userd_Color_1);
                            } else {
                                changeColor(3, userd_Color_2);
                            }
                        } else {
                            if (userd_AllInfo_9[i].PICKTOLOCATION == "#4") {
                                setInnerHTML2(LBL_LOC_4, userd_AllInfo_9[i].CARTNO);
                                setInnerHTML2(LBL_LOC4_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                if (userd_AllInfo_9[i].FMQTY > 0) {
                                    changeColor(4, userd_Color_1);
                                } else {
                                    changeColor(4, userd_Color_2);
                                }
                            } else {
                                if (userd_AllInfo_9[i].PICKTOLOCATION == "#5") {
                                    setInnerHTML2(LBL_LOC_5, userd_AllInfo_9[i].CARTNO);
                                    setInnerHTML2(LBL_LOC5_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                    if (userd_AllInfo_9[i].FMQTY > 0) {
                                        changeColor(5, userd_Color_1);
                                    } else {
                                        changeColor(5, userd_Color_2);
                                    }
                                } else {
                                    if (userd_AllInfo_9[i].PICKTOLOCATION == "#6") {
                                        setInnerHTML2(LBL_LOC_6, userd_AllInfo_9[i].CARTNO);
                                        setInnerHTML2(LBL_LOC6_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                        if (userd_AllInfo_9[i].FMQTY > 0) {
                                            changeColor(6, userd_Color_1);
                                        } else {
                                            changeColor(6, userd_Color_2);
                                        }
                                    } else {
                                        if (userd_AllInfo_9[i].PICKTOLOCATION == "#7") {
                                            setInnerHTML2(LBL_LOC_7, userd_AllInfo_9[i].CARTNO);
                                            setInnerHTML2(LBL_LOC7_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                            if (userd_AllInfo_9[i].FMQTY > 0) {
                                                changeColor(7, userd_Color_1);
                                            } else {
                                                changeColor(7, userd_Color_2);
                                            }
                                        } else {
                                            if (userd_AllInfo_9[i].PICKTOLOCATION == "#8") {
                                                setInnerHTML2(LBL_LOC_8, userd_AllInfo_9[i].CARTNO);
                                                setInnerHTML2(LBL_LOC8_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                                if (userd_AllInfo_9[i].FMQTY > 0) {
                                                    changeColor(8, userd_Color_1);
                                                } else {
                                                    changeColor(8, userd_Color_2);
                                                }
                                            } else {
                                                if (userd_AllInfo_9[i].PICKTOLOCATION == "#9") {
                                                    setInnerHTML2(LBL_LOC_9, userd_AllInfo_9[i].CARTNO);
                                                    setInnerHTML2(LBL_LOC9_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                                    if (userd_AllInfo_9[i].FMQTY > 0) {
                                                        changeColor(9, userd_Color_1);
                                                    } else {
                                                        changeColor(9, userd_Color_2);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                CountNumber = parseInt(userd_AllInfo_9[i].FMQTY) + parseInt(CountNumber);
                setValue(wxt_Location_9, userd_AllInfo_9[i].FMLOCATION);
                setValue(txt_Sku_9, userd_AllInfo_9[i].SKU);
                setValue(wxt_SkuDescr_9, userd_AllInfo_9[i].SKUDESCR);
            }
        }
        setValue(wxt_Qty_9, CountNumber);
    }
}

function showBoxTable9_2() {
    var tableMessage = "";
    var smallTable = "";
    var bigTableWidth = "80%";
    var bigTableHeight = 65;
    var smallTableWidth = "100%";
    var smallTableHeight = bigTableHeight - 5;
    var smallTableTopHeight = 5;
    var smallTableUpHeight = 25;
    var smallTableDNHeight = 30;
    smallTable = "";
    smallTable += "<table width='" + smallTableWidth + "' height='" + smallTableHeight + "' border='0' cellpadding='0' cellspacing='0'>";
    smallTable += "<tr height='" + smallTableTopHeight + "' align='right' valign='middle'><td id='&idno'>&taskno</td></tr>";
    smallTable += "<tr height='" + smallTableUpHeight + "' align='center' valign='middle'><td id='&id1' >&qty</td></tr>";
    smallTable += "<tr height='" + smallTableDNHeight + "' align='center' valign='middle'><td id='&id2' >&loc</td></tr>";
    smallTable += "</table>";
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tableMessage = "";
        tableMessage += "<table width='" + bigTableWidth + "' height='" + bigTableHeight + "' border='1' align='center'>";
        tableMessage += "<tr height='100%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
        tableMessage += "</table>";
        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
    } else {
        if (MLT_PCK_TYP == "B") {
            tableMessage = "";
            tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&1</td></tr>";
            tableMessage += "<tr height='50%'><td width='100%' align='center' valign='middle'>&2</td></tr>";
            tableMessage += "</table>";
            tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>"));
        } else {
            if (MLT_PCK_TYP == "C") {
                tableMessage = "";
                tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&1</td><td width='50%' align='center' valign='middle'>&2</td></tr>";
                tableMessage += "<tr height='50%'><td width='50%' align='center' valign='middle'>&3</td><td width='50%' align='center' valign='middle'>&4</td></tr>";
                tableMessage += "</table>";
                tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>"));
            } else {
                if (MLT_PCK_TYP == "D") {
                    tableMessage = "";
                    tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                    tableMessage += "<tr height='50%'><td width='30%' align='center' valign='middle'>&1</td><td width='30%' align='center' valign='middle'>&2</td><td width='40%' align='center' valign='middle'>&3</td></tr>";
                    tableMessage += "<tr height='50%'><td width='30%' align='center' valign='middle'>&4</td><td width='30%' align='center' valign='middle'>&5</td><td width='40%' align='center' valign='middle'>&6</td></tr>";
                    tableMessage += "</table>";
                    tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>"));
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tableMessage = "";
                        tableMessage += "<table width='" + bigTableWidth + "' height='" + (bigTableHeight * 2) + "' border='1' align='center'>";
                        tableMessage += "<tr height='32%'><td width='32%' align='center' valign='middle'>&1</td><td width='32%' align='center' valign='middle'>&2</td><td width='36%' align='center' valign='middle'>&3</td></tr>";
                        tableMessage += "<tr height='32%'><td width='32%' align='center' valign='middle'>&4</td><td width='32%' align='center' valign='middle'>&5</td><td width='36%' align='center' valign='middle'>&6</td></tr>";
                        tableMessage += "<tr height='36%'><td width='32%' align='center' valign='middle'>&7</td><td width='32%' align='center' valign='middle'>&8</td><td width='36%' align='center' valign='middle'>&9</td></tr>";
                        tableMessage += "</table>";
                        tableMessage = tableMessage.replace("&1", smallTable.replace("&idno", "no1").replace("&id1", "qty1").replace("&id2", "loc1").replace("&taskno", "<label id='LBL_LOC1_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC1_QTY'></label>").replace("&loc", "<label id='LBL_LOC_1' style='font-size:1.0em;'></label>")).replace("&2", smallTable.replace("&idno", "no2").replace("&id1", "qty2").replace("&id2", "loc2").replace("&taskno", "<label id='LBL_LOC2_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC2_QTY'></label>").replace("&loc", "<label id='LBL_LOC_2' style='font-size:1.0em;'></label>")).replace("&3", smallTable.replace("&idno", "no3").replace("&id1", "qty3").replace("&id2", "loc3").replace("&taskno", "<label id='LBL_LOC3_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC3_QTY'></label>").replace("&loc", "<label id='LBL_LOC_3' style='font-size:1.0em;'></label>")).replace("&4", smallTable.replace("&idno", "no4").replace("&id1", "qty4").replace("&id2", "loc4").replace("&taskno", "<label id='LBL_LOC4_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC4_QTY'></label>").replace("&loc", "<label id='LBL_LOC_4' style='font-size:1.0em;'></label>")).replace("&5", smallTable.replace("&idno", "no5").replace("&id1", "qty5").replace("&id2", "loc5").replace("&taskno", "<label id='LBL_LOC5_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC5_QTY'></label>").replace("&loc", "<label id='LBL_LOC_5' style='font-size:1.0em;'></label>")).replace("&6", smallTable.replace("&idno", "no6").replace("&id1", "qty6").replace("&id2", "loc6").replace("&taskno", "<label id='LBL_LOC6_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC6_QTY'></label>").replace("&loc", "<label id='LBL_LOC_6' style='font-size:1.0em;'></label>")).replace("&7", smallTable.replace("&idno", "no7").replace("&id1", "qty7").replace("&id2", "loc7").replace("&taskno", "<label id='LBL_LOC7_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC7_QTY'></label>").replace("&loc", "<label id='LBL_LOC_7' style='font-size:1.0em;'></label>")).replace("&8", smallTable.replace("&idno", "no8").replace("&id1", "qty8").replace("&id2", "loc8").replace("&taskno", "<label id='LBL_LOC8_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC8_QTY'></label>").replace("&loc", "<label id='LBL_LOC_8' style='font-size:1.0em;'></label>")).replace("&9", smallTable.replace("&idno", "no9").replace("&id1", "qty9").replace("&id2", "loc9").replace("&taskno", "<label id='LBL_LOC9_TASKNO'></label>").replace("&qty", "<label id='LBL_LOC9_QTY'></label>").replace("&loc", "<label id='LBL_LOC_9' style='font-size:1.0em;'></label>"));
                    } else {
                        if (MLT_PCK_TYP == "LIST") {
                            showBoxInfo2();
                            return;
                        } else {
                            initHtmlPage();
                            updateMessageBar("error: MLT_PCK_TYP");
                            alert("error: MLT_PCK_TYP");
                        }
                    }
                }
            }
        }
    }
    setInnerHTML2(div_BoxInfoList_4, "");
    setInnerHTML2(div_BoxInfoList_5, "");
    setInnerHTML2(div_PickingLookBackList_9, tableMessage);
    showBoxInfo9_2();
}

function showBoxInfo9_2() {
    var fontSize = 6;
    setInnerHTML2(LBL_LOC_1, "&nbsp;");
    setInnerHTML2(LBL_LOC_2, "&nbsp;");
    setInnerHTML2(LBL_LOC_3, "&nbsp;");
    setInnerHTML2(LBL_LOC_4, "&nbsp;");
    setInnerHTML2(LBL_LOC_5, "&nbsp;");
    setInnerHTML2(LBL_LOC_6, "&nbsp;");
    setInnerHTML2(LBL_LOC_7, "&nbsp;");
    setInnerHTML2(LBL_LOC_8, "&nbsp;");
    setInnerHTML2(LBL_LOC_9, "&nbsp;");
    setInnerHTML2(LBL_LOC1_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC2_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC3_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC4_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC5_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC6_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC7_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC8_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    setInnerHTML2(LBL_LOC9_QTY, "<font size='" + fontSize + "'>&nbsp;</font>");
    var tabelSize = 0;
    var MLT_PCK_TYP = getValue(hide_MLT_PCK_TYP);
    if (MLT_PCK_TYP == "A") {
        tabelSize = 3;
    } else {
        if (MLT_PCK_TYP == "B") {
            tabelSize = 3;
        } else {
            if (MLT_PCK_TYP == "C") {
                tabelSize = 5;
            } else {
                if (MLT_PCK_TYP == "D") {
                    tabelSize = 7;
                } else {
                    if (MLT_PCK_TYP == "F") {
                        tabelSize = 10;
                    }
                }
            }
        }
    }
    for (var i = 1; i < tabelSize; i++) {
        changeColor(i, userd_Color_4);
    }
    if (userd_AllInfo_9 != null && userd_AllInfo_9.length > 0) {
        var CountNumber = 0;
        for (var i = 0; i < userd_AllInfo_9.length; i++) {
            if ((userd_AllInfo_9[i].FMLOCATION + ":" + userd_AllInfo_9[i].FMID + ":" + userd_AllInfo_9[i].SKU + ":" + userd_AllInfo_9[i].LOTATT04 + ":" + userd_AllInfo_9[i].CUSTOMERID) == MapForDoFMLocation.get(buffer_InfoIndex)) {
                if (userd_AllInfo_9[i].PICKTOLOCATION == "#1") {
                    setInnerHTML2(LBL_LOC_1, userd_AllInfo_9[i].CARTNO);
                    setInnerHTML2(LBL_LOC1_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                    if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                        changeColor_2(1, userd_Color_1);
                    } else {
                        changeColor_2(1, userd_Color_2);
                    }
                } else {
                    if (userd_AllInfo_9[i].PICKTOLOCATION == "#2") {
                        setInnerHTML2(LBL_LOC_2, userd_AllInfo_9[i].CARTNO);
                        setInnerHTML2(LBL_LOC2_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                        if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                            changeColor_2(2, userd_Color_1);
                        } else {
                            changeColor_2(2, userd_Color_2);
                        }
                    } else {
                        if (userd_AllInfo_9[i].PICKTOLOCATION == "#3") {
                            setInnerHTML2(LBL_LOC_3, userd_AllInfo_9[i].CARTNO);
                            setInnerHTML2(LBL_LOC3_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                            if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                changeColor_2(3, userd_Color_1);
                            } else {
                                changeColor_2(3, userd_Color_2);
                            }
                        } else {
                            if (userd_AllInfo_9[i].PICKTOLOCATION == "#4") {
                                setInnerHTML2(LBL_LOC_4, userd_AllInfo_9[i].CARTNO);
                                setInnerHTML2(LBL_LOC4_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                    changeColor_2(4, userd_Color_1);
                                } else {
                                    changeColor_2(4, userd_Color_2);
                                }
                            } else {
                                if (userd_AllInfo_9[i].PICKTOLOCATION == "#5") {
                                    setInnerHTML2(LBL_LOC_5, userd_AllInfo_9[i].CARTNO);
                                    setInnerHTML2(LBL_LOC5_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                    if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                        changeColor_2(5, userd_Color_1);
                                    } else {
                                        changeColor_2(5, userd_Color_2);
                                    }
                                } else {
                                    if (userd_AllInfo_9[i].PICKTOLOCATION == "#6") {
                                        setInnerHTML2(LBL_LOC_6, userd_AllInfo_9[i].CARTNO);
                                        setInnerHTML2(LBL_LOC6_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                        if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                            changeColor_2(6, userd_Color_1);
                                        } else {
                                            changeColor_2(6, userd_Color_2);
                                        }
                                    } else {
                                        if (userd_AllInfo_9[i].PICKTOLOCATION == "#7") {
                                            setInnerHTML2(LBL_LOC_7, userd_AllInfo_9[i].CARTNO);
                                            setInnerHTML2(LBL_LOC7_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                            if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                                changeColor_2(7, userd_Color_1);
                                            } else {
                                                changeColor_2(7, userd_Color_2);
                                            }
                                        } else {
                                            if (userd_AllInfo_9[i].PICKTOLOCATION == "#8") {
                                                setInnerHTML2(LBL_LOC_8, userd_AllInfo_9[i].CARTNO);
                                                setInnerHTML2(LBL_LOC8_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                                if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                                    changeColor_2(8, userd_Color_1);
                                                } else {
                                                    changeColor_2(8, userd_Color_2);
                                                }
                                            } else {
                                                if (userd_AllInfo_9[i].PICKTOLOCATION == "#9") {
                                                    setInnerHTML2(LBL_LOC_9, userd_AllInfo_9[i].CARTNO);
                                                    setInnerHTML2(LBL_LOC9_QTY, "<font size='" + fontSize + "'>" + userd_AllInfo_9[i].FMQTY + "</font>");
                                                    if (parseInt(userd_AllInfo_9[i].FMQTY) > 0) {
                                                        changeColor_2(9, userd_Color_1);
                                                    } else {
                                                        changeColor_2(9, userd_Color_2);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                CountNumber = parseInt(userd_AllInfo_9[i].FMQTY) + parseInt(CountNumber);
                setValue(wxt_Location_9, userd_AllInfo_9[i].FMLOCATION);
                setValue(txt_Sku_9, userd_AllInfo_9[i].SKU);
                setValue(wxt_SkuDescr_9, userd_AllInfo_9[i].SKUDESCR);
            }
        }
        setValue(wxt_Qty_9, CountNumber);
    }
}

function changeColor_2(index, color) {
    var noObj = document.getElementById("no" + index);
    var qtyObj = document.getElementById("qty" + index);
    var locObj = document.getElementById("loc" + index);
    if (noObj != null) {
        noObj.style.backgroundColor = color;
    }
    if (qtyObj != null) {
        qtyObj.style.backgroundColor = color;
    }
    if (locObj != null) {
        locObj.style.backgroundColor = color;
    }
}

function setFocus(inID) {
    try {
        var obj = document.getElementById(inID);
        if (obj == null) {
            return;
        }
        obj.focus();
        obj.select();
    } catch (e) {
    }
}

function showScanTable_10() {
    var tableList = new Array();
    for (var i = 0; i < buf_ScanList_10.length; i++) {
        var info = new Array("LOC: " + buf_ScanList_10[i][0], buf_ScanList_10[i][1]);
        tableList.push(info);
    }
    Table_CreateTable(div_TurnoverBoxNoList_10, new Array(getValue(hide_Lbl_02), getValue(hide_Lbl_05)), tableList, 5, "doSingleClickAction", "doDoubleClickAction", "", false, false);
}

function doSingleClickAction(index) {
}

function doDoubleClickAction(index) {
    if (confirm(getValue(hide_Message_05).replace("&1", " " + buf_ScanList_10[index][1] + " "))) {
        setValue(hide_CARTNO_2, getValue2(txt_CartNo_10));
        setValue(hide_DELETEBOX_2, buf_ScanList_10[index][1]);
        _prevView = _div10Input;
        showViewSingle(_div1Waiting, inViewsKeys);
        doServerAction(className, "deleteBox", QSKeys, deleteBox_10);
    }
}

function deleteBox_10(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate6) {
        lastSEQUpdate6 = curSEQ;
        showViewSingle(_div10Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            var cartNoValue = getValue2(txt_CartNo_2);
            initHtmlPage();
            doButWaveLinkTurnoverBox10Action();
            setValue(txt_CartNo_2, cartNoValue);
            doCartNoAction();
        } else {
            updateMessageBar(getValue(hide_Message_14).replace("&1", " IDX_PICKTOLIGHT "));
        }
    }
}

function doButQueryCartNo10Action(id) {
    setValue(hide_TERMINALNO_2, "");
    _prevView = _div10Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "getCartNoAction", QSKeys, getCartNo10Action);
}

function getCartNo10Action(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            showViewSingle(_prevView, inViewsKeys);
            setValue(txt_CartNo_10, returnMessage);
            doTxtCartNo10Action();
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function doTxtCartNo10Action() {
    var cartNoValue = getValue2(txt_CartNo_10);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_10);
        return;
    }
    setValue(hide_CARTNO_2, cartNoValue);
    doSpAnalyzerCartNo10();
}

function doSpAnalyzerCartNo10() {
    _prevView = _div10Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "doSpAnalyzerCartNoAction", QSKeys, doSpAnalyzerCartNo10Action);
}

function doSpAnalyzerCartNo10Action(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01 + ":" + e.message);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > first_lastSEQUpdate1) {
        first_lastSEQUpdate1 = curSEQ;
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            setValue(txt_CartNo_10, returnMessage);
            setValue(hide_CARTNO_2, returnMessage);
            _prevView = _div10Input;
            showViewSingle(_div1Waiting, inViewsKeys);
            doServerAction(className, "findCartInfo", QSKeys, findCartInfo_10);
        } else {
            if (codeValue_NORECORD == replyData.codeValue) {
                showViewSingle(_prevView, inViewsKeys);
                autoFocus("ERROR" + txt_CartNo_10);
            } else {
                showViewSingle(_prevView, inViewsKeys);
                first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
            }
        }
    }
}

function findCartInfo_10(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate4) {
        buf_ScanList_10 = new Array();
        lastSEQUpdate4 = curSEQ;
        showViewSingle(_div10Input, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            var obj2 = replyData.strData2;
            if (obj2[0].PICKTOLOCATION == "#0OTHERCARTNO" && first_EchoMessage(getValue(hide_Message_20).replace("&1", obj2[0].OFFLINETRACEID), first_Confirm, "")) {
                showScanTable_10();
                autoFocus(txt_CartNo_10);
            } else {
                for (var i = 0; i < obj2.length; i++) {
                    if (obj2[i].PICKTOLOCATION == "#0OTHERCARTNO") {
                        continue;
                    }
                    buf_ScanList_10.push(new Array(obj2[i].PICKTOLOCATION, obj2[i].OFFLINETRACEID));
                }
                showScanTable_10();
                autoFocus(sfc_GetNextId(txt_CartNo_10, sfc_Code_10));
            }
        } else {
            showScanTable_10();
            autoFocus(sfc_GetNextId(txt_CartNo_10, sfc_Code_10));
        }
    }
}

function doTxtTurnoverBoxNo10Action(id) {
    var turnOverBoxNoValue = getValue2(txt_TurnoverBoxNo_10);
    if (turnOverBoxNoValue.length == 0) {
        autoFocus(txt_TurnoverBoxNo_10);
        return;
    }
    setValue(hide_TURNOVERBOXNO_2, turnOverBoxNoValue);
    setValue(hide_TERMINALNO_2, "");
    setValue(hide_CARTNO_2, getValue2(txt_CartNo_10));
    setValue(hide_WaveNo_2, "");
    for (var i = 0; i < buf_ScanList_10.length; i++) {
        if (turnOverBoxNoValue == buf_ScanList_10[i][1]) {
            setFocus(txt_TurnoverBoxNo_10);
            updateMessageBar(hide_Message_40);
            startMusic();
            return;
        }
    }
    _prevView = _div10Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "linkTurnOverBox", QSKeys, dolinkTurnOverBox10Action);
}

function dolinkTurnOverBox10Action(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate2) {
        lastSEQUpdate2 = curSEQ;
        showViewSingle(_prevView, inViewsKeys);
        if (codeValue_OK == replyData.codeValue) {
            var returnMessage = replyData.mesg;
            if (returnMessage.indexOf("ERROR_STRING_1") == -1) {
                buf_ScanList_10.push(new Array(returnMessage, getValue2(txt_TurnoverBoxNo_10)));
                showScanTable_10();
                setValue(txt_TurnoverBoxNo_10, "");
                setValue(hide_TURNOVERBOXNO_2, "");
                autoFocus("OK" + txt_TurnoverBoxNo_10);
            } else {
                if (returnMessage.indexOf("ERROR_STRING_1") == 0) {
                    setFocus(txt_TurnoverBoxNo_10);
                    updateMessageBar(returnMessage.replace("ERROR_STRING_1:-->", "").replace("<--", ""));
                } else {
                    setFocus(txt_TurnoverBoxNo_10);
                    updateMessageBar(returnMessage.replace("ERROR_STRING_2:-->", "").replace("<--", ""));
                }
            }
        } else {
            initHtmlPage();
            updateMessageBar(getValue2(hide_Message_08).replace("&1", " SPRF_BatchPicking "));
        }
    }
}

function butComplete10Action(id) {
    var nextId = sfc_GetNextId(id, sfc_Code_10);
    if (nextId == sfc_Code_10 || buf_ScanList_10.length > 0) {
        doButConfirm10Action();
    } else {
        autoFocus(nextId);
    }
}

function doButConfirm10Action() {
    var cartNoValue = getValue2(txt_CartNo_10);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_10);
        return;
    }
    if (buf_ScanList_10.length == 0) {
        autoFocus(txt_TurnoverBoxNo_10);
        return;
    }
    showViewSingle(_div3Input, inViewsKeys);
    setValue(txt_CartNo_3, cartNoValue);
    updateMessageBar("");
    doCartNo3GetInfoAction();
}

function doButDelete10Action(id) {
    var cartNoValue = getValue2(txt_CartNo_10);
    if (cartNoValue.length == 0) {
        autoFocus(txt_CartNo_10);
        return;
    }
    if (buf_ScanList_10.length <= 0) {
        autoFocus(txt_CartNo_10);
        return;
    }
    var scanList = new Array();
    for (var i = 0; i < buf_ScanList_10.length; i++) {
        if (i > 0) {
            scanList.push(";");
        }
        scanList.push(buf_ScanList_10[i][0] + ":" + buf_ScanList_10[i][1]);
    }
    setValue(hide_ScanList_10, scanList.join(""));
    setValue(hide_TERMINALNO_2, "");
    setValue(hide_CARTNO_2, cartNoValue);
    setValue(hide_WaveNo_2, "");
    _prevView = _div10Input;
    showViewSingle(_div1Waiting, inViewsKeys);
    doServerAction(className, "doDeleteBundingAction", QSKeys, doDeleteBundingAction);
}

function doDeleteBundingAction(responseText) {
    var replyData = null;
    try {
        replyData = eval("(" + responseText + ")");
    } catch (e) {
        alert(first_ErrorMessage01);
        setInnerHTML("waitingMsg", first_ErrorMessage01);
        return;
    }
    var curSEQ = replyData.SEQ;
    if (curSEQ > lastSEQUpdate2) {
        lastSEQUpdate2 = curSEQ;
        showViewSingle(_prevView, inViewsKeys);
        var returnMessage = replyData.mesg;
        if (codeValue_OK == replyData.codeValue) {
            initHtmlPage();
            updateMessageBar(hide_Message_44);
        } else {
            first_EchoMessage(returnMessage, first_Alert, "updateMessageBar");
        }
    }
}

function doButCancel10Action(id) {
    initHtmlPage();
}